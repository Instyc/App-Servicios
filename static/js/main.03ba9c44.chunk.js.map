{"version":3,"sources":["componentes/Chat/Miniatura.png","componentes/Estilos.js","Estados/AplicacionEstado.js","componentes/Inicio/Inicio.js","componentes/Estrellas.js","componentes/AlertaMensaje.js","componentes/Publicacion/ProveedorInfo.js","componentes/Publicacion/ReportarPublicacion.js","componentes/Publicacion/PublicacionInfo.js","componentes/Publicacion/Opiniones.js","componentes/SeleccionarServicio.js","componentes/ContactarProveedor.js","componentes/Publicacion/Publicacion.js","componentes/Sesion/InicioSesion.js","componentes/Notificaciones/NotificacionesNav.js","componentes/Nav.js","componentes/Footer.js","componentes/Categoria/Filtro.js","componentes/AlertaSi_No.js","componentes/Categoria/FilaPublicacion.js","componentes/Categoria/Categoria.js","componentes/SubirImagen.js","componentes/Sesion/Registrar.js","componentes/Proveedor/ModificarPerfilProveedor.js","componentes/Proveedor/MiPerfil.js","componentes/Publicacion/CrearPublicacion.js","componentes/GestionAdministrador/GestionarReportes.js","componentes/GestionAdministrador/VerificarIdentidad.js","componentes/GestionAdministrador/PestanaReportes.js","componentes/Publicacion/MisPublicaciones.js","componentes/Footer/PreguntasFrecuentes.js","componentes/Footer/SobreNosotros.js","Estados/CategoriaEstado.js","componentes/Proveedor/VerificarMiIdentidad.js","componentes/Notificaciones/RealizarOpinion.js","componentes/Notificaciones/Notificaciones.js","componentes/Chat/ComponentesChat/PhotoMessage/PhotoMessage.js","componentes/Chat/ComponentesChat/FileMessage/FileMessage.js","componentes/Chat/ComponentesChat/SystemMessage/SystemMessage.js","componentes/Chat/ComponentesChat/LocationMessage/LocationMessage.js","componentes/Chat/ComponentesChat/SpotifyMessage/SpotifyMessage.js","componentes/Chat/ComponentesChat/ReplyMessage/ReplyMessage.js","componentes/Chat/ComponentesChat/Avatar/Avatar.js","componentes/Chat/ComponentesChat/MeetingMessage/MeetingMessage.js","componentes/Chat/ComponentesChat/MessageBox/MessageBox.js","componentes/Chat/ComponentesChat/ChatItem/ChatItem.js","componentes/Chat/ComponentesChat/ChatList/ChatList.js","componentes/Chat/ComponentesChat/MessageList/MessageList.js","componentes/Chat/ComponentesChat/Input/Input.js","componentes/Chat/ComponentesChat/Button/Button.js","componentes/Chat/ComponentesChat/Navbar/Navbar.js","componentes/Chat/ComponentesChat/Dropdown/Dropdown.js","componentes/Chat/ComponentesChat/SideBar/SideBar.js","componentes/Chat/ComponentesChat/Popup/Popup.js","componentes/Chat/ComponentesChat/MeetingItem/MeetingItem.js","componentes/Chat/ComponentesChat/MeetingList/MeetingList.js","componentes/Chat/Chat.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Estilos","makeStyles","theme","mostrarFlex","display","justifyContent","alignItems","flexWrap","padding","fondo","minHeight","proveedorSticky","position","top","marginBottom","marginTop","margenArriba","padding2","filaPublicacion","background","imagenPublicacion","borderRadius","objectFit","border","width","height","margin","gridRegistro","maxWidth","inputAncho","papelFondo","boxShadow","shadows","spacing","backgroundColor","pantallaMedia","minWidth","botonFijo","left","transform","zIndex","button","textTransform","margenAuto","reporte","botonesNav","textDecoration","color","palette","secondary","main","EstiloMovil","EstiloPC","EstiloLink","contrastText","EstiloVacio","Categoria","paddingTop","BotonSolicitar","BotonSolicitarMovil","estadoInicial","servidor","ruta","jwt","publico","guardar","imagen_predeterminada","datosSesion","apellido","blocked","confirmed","created_at","descripcion","dni","email","estado","fecha_creacion","id","mostrar_telefono","nombre","permiso","provider","role","name","description","type","telefono","tipo","ubicacion","updated_at","username","identidad_verificada","imagenes_dni","reducer","state","action","valor","value","ObtenerEstadoAplicacion","createContext","ProveerEstadoAplicacion","children","useReducer","dispatch","Provider","Inicio","classes","useState","categorias","setcategorias","cargando","setcargando","useContext","useEffect","axios","get","then","response","data","catch","error","alert","console","log","className","Paper","elevation","style","Typography","component","variant","align","Grid","container","justify","map","cat","i","item","sm","md","lg","key","to","IconButton","src","imagen","formats","thumbnail","url","fontSize","Puntuacion","clickeable","cambiarValor","Rating","onChange","readOnly","precision","Alerta","props","AlertaMensaje","mensaje","setabrir","abrir","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","ProveedorInfo","esDePerfil","datosPerfil","copiado","setcopiado","titulo","servicios","pausado","bloqueado","DatosPerfil","setDatosPerfil","perfil","ids_categorias","servicio","categoria","ids_consultas","buscarCategorias","direction","xs","alt","imagen_perfil","hidden","Hidden","xlDown","Tooltip","title","Alert","Divider","List","aria-labelledby","subheader","ListSubheader","Categorias","length","href","startIcon","Phone","onClick","aux","document","createElement","setAttribute","body","appendChild","select","execCommand","removeChild","copiarAlPortapapeles","setOpen","ListItem","ListItemText","primary","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","disablePadding","ReportarPublicacion","solicitud","abrirAlerta","motivos","setmotivos","motivosSeleccionados","setmotivosSeleccionados","setdescripcion","setmensaje","ComprobarReporte","auth","fecha","Date","reporte_conjunto","_descripcion","descripcion_","motivo","getDate","getMonth","getFullYear","put","headers","post","motivo_","Solicitud_id","Usuario_id","accion","Modal","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","FormGroup","required","FormControlLabel","control","Checkbox","Motivo","esta","some","filter","arreglo","seleccionarMotivo","label","TextField","e","target","multiline","LinearProgress","disabled","size","PublicacionInfo","datosPagina","imagenes","setimagenes","precio","estrella","DatosPagina","setDatosPagina","img","original","precio_estimado","Breadcrumbs","separator","aria-label","items","Opiniones","datos","opiniones","setopiniones","promedioEstrellas","setpromedioEstrellas","servicio_id","total","opi","recomendacion","register","number","index","totalSec","opinion","Resena","square","Chip","format","SeleccionarServicio","agregarSeleccionado","hecho_noHecho","setHecho_noHecho","seleccionado","seleccion","setSeleccion","React","clickable","icon","BotonContratar","fijo","setcategoria","arregloCategorias","setarregloCategorias","arrCat","hasOwnProperty","push","IDS","botonNoF","Mail","form","onSubmit","preventDefault","cat_selecc","cat_","noleido_emisor","noleido_receptor","emisor","receptor","idP","idS","peticion","contenido","enviado_por","chat","FormControl","fullWidth","InputLabel","Select","labelId","MenuItem","Publicacion","useParams","setdatosPerfil","setdatosPagina","Categoria_id","Servicio_id","obtenerUsuario","Container","IniciarSesion","alerta","setalerta","pwd_olvidada","setpwd_olvidada","contrasena","setdatos","cambiarInput","campo","Link","identifier","password","user","localStorage","setItem","JSON","stringify","err","parse","request","message","messages","NotificacionesNav","plegarNoti","notificaciones","noti","datos_notificacion","PrimarySearchAppBar","history","useHistory","despPerf","setdespPerf","despMenu","setdespMenu","despNoti","setdespNoti","traerNotificaciones","settraerNotificaciones","tipoUsuario","setTipoUsuario","setnotificaciones","mensajesnoleidos","setmensajesnoleidos","sesion","getItem","sesionObjeto","chats_","cantidad","chat_","mensajesNoleidos","reverse","plegarPerfil","plegarMenu","flexGrow","AppBar","Toolbar","fontFamily","alignContent","currentTarget","Badge","badgeContent","Notifications","Menu","anchorEl","keepMounted","Boolean","Chat","edge","aria-haspopup","AccountCircle","ListItemIcon","PriorityHigh","hambur","Footer","contactanos","setcontactanos","bottom","Facebook","Instagram","Filtro","tipoPublicacion","settipoPublicacion","buscarServicios","inputBusqueda","setinputBusqueda","settipo","Card","CardContent","checked","onKeyDown","funcionAceptar","boole","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","FilaPublicacion","contactar","buscarSolicitudes","resenas","precioPresupuesto","setPrecioPresupuesto","noMostrar","setnoMostrar","preguntarPausa","setpreguntarPausa","preguntarEliminar","setpreguntarEliminar","promedio","setpromedio","estrellas","x","undefined","resena","proveedor","Pausa","prevState","delete","overflow","textOverflow","textJustify","WebkitLineClamp","serviciosSeleccionados","setServiciosSeleccionados","setservicios","solicitudes","setsolicitudes","resenas_servicio","setresenas_servicio","filtro","ids_","servicio_","servicios_resena","serv_","encontrado","elemento","SingleFileAutoSubmit","funcionSetImagen","ids","archivos","setarchivos","archivosSubidos","setarchivosSubidos","dat","file","imagenUrl","fetch","res","arrayBuffer","buf","File","arch","hacerArchivo","Fragment","getUploadParams","meta","onChangeStatus","status","maxFiles","initialFiles","multiple","maxSizeBytes","canCancel","accept","inputWithFilesContent","inputContent","styles","dropzone","dropzoneActive","borderColor","Registrar","registrar","mensajeAlerta","setmensajeAlerta","tituloPagina","settituloPagina","ImagenPerfil","setImagenPerfil","imagenesBorradas","setimagenesBorradas","imagenesSubidas","setimagenesSubidas","usuario","contrasena_rep","soyProveedor","setSoyProveedor","subirImagen","archivosNuevos","archivosBorrados","indx","Number","formData","FormData","append","usr","search","espera_verificacion","setTimeout","enviarPut","SubirImagen","subidas","f","OkProveedor","controlGuardar","setcontrolGuardar","setserviciosSeleccionados","pasarImagenes","pasar","imagenes_proveedor","itemserv","servicioSesion","cambiarCheckbox","_id_","subirImagenes","datos_ayuda","alinearInputs","j","k","MiPerfil","CrearPublicacion","modificar","setTitulo","modificarInput","report","modificarBloqueadoReporte","estaServicio","servicios_id","maxLength","categoriaSeleccionada","servicioSeleccionado","serv","botones","GestionarReportes","estadoReporte","reportes","modificarReporte","Reporte","split","DesplegarInformacion","setaccion","actualizarReporte","notificacion","Administrador_id","cambiarVariableBloqueado","bool","_id","FormLabel","RadioGroup","row","Radio","enviarDatos","aceptado","datosNoti","leido","esRespuesta","ParteNuevos","ParteEspera_Historial","notif","VerificarIdentidad","usuariosVerificar","setusuariosVerificar","actualizarUsuario","usuario_id","Solicitud","images","thumbnailWidth","thumbnailHeight","TabPanel","other","Box","p","a11yProps","useStyles","root","paper","backdrop","drawer","PestanaReportes","setValue","setreportes","Tabs","newValue","scrollButtons","indicatorColor","textColor","Tab","CircularProgress","MisPublicaciones","setTituloPagina","PreguntasFrecuentes","pregunta","respuesta","informacion","fila","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","SobreNosotros","initialState","estadoEditado","VerificarMiIdentidad","DNI","setDNI","ImagenDNI","setImagenDNI","imgs","i_dni","guardarDatos","String","RealizarOpinion","eliminarNotificacion","valorEstrella","setValorEstrella","settitulo","seleccInic","servicios_","votos_positivos","votos_negativos","yaEsta","srv_","seleccionarServicio","iconos","id_","definirLeido","red","Circle","require","PhotoMessage","progressOptions","strokeWidth","trailColor","trailWidth","step","circle","path","Math","round","setText","this","uri","onOpen","onLoad","onError","onPhotoError","download","click","onDownload","loading","progress","options","initialAnimate","containerClassName","text","Component","defaultProps","FileMessage","Function","bind","classNames","SystemMessage","LocationMessage","center","replace","latitude","longitude","markerColor","zoom","apiKey","buildURL","mapURL","staticURL","SpotifyMessage","formBody","view","property","encodedKey","encodeURIComponent","encodedValue","join","toUrl","frameBorder","allowtransparency","ReplyMessage","photoURL","titleColor","loadedAvatars","Avatar","requestImage","_isMounted","indexOf","self","loaded","setState","onload","onerror","str","hash","charCodeAt","colour","toString","substr","isLazyImage","lazyLoadingImage","isLoaded","letterItem","stringToColour","letter","sideElement","MeetingMessage","toogle","date","dateString","subject","collapseTitle","dataSource","participants","onMeetingTitleClick","onMeetingVideoLinkClick","PARTICIPANT_LIMIT","participantsLimit","dateText","isNaN","toggleClick","slice","avatar","avatars","record","time","savedBy","avatarFlexible","onAvatarError","MessageBox","nextProps","focus","refs","scrollIntoView","block","behavior","onMessageFocused","positionCls","thatAbsoluteTime","test","ref","renderAddCmp","notch","onContextMenu","forwarded","onForwardClick","replyButton","onReplyClick","onTitleClick","reply","onReplyMessageClick","meeting","onMeetingMessageClick","copiableDate","data-text","xmlns","viewBox","d","y","result","dx","dy","stdDeviation","in2","mode","ChatItem","statusColorType","statusColor","statusText","subtitle","unread","ChatList","cmpRef","MessageList","scrollBottom","downButton","loadRef","onScroll","mlistRef","toBottomHeight","scrollTop","scrollHeight","lockable","offsetHeight","getBottom","checkScroll","onDownButtonClick","toBottom","downButtonBadge","Input","maxlength","onMaxLengthExceed","input","substring","autoHeight","maxHeight","FAKE_EVENT","autofocus","leftButtons","inputRef","placeholder","defaultValue","inputStyle","onCopy","onCut","onPaste","onBlur","onFocus","onSelect","onReset","onKeyPress","onKeyUp","rightButtons","Button","buttonRef","float","Navbar","right","Dropdown","show","buttonProps","animationType","animationPosition","onMouseDown","Object","SideBar","Popup","renderHeader","header","headerButtons","renderContent","renderFooter","footerButtons","MeetingItem","AVATAR_LIMIT","avatarLimit","subjectLimit","onShareClick","closable","onCloseClick","onMeetingClick","MeetingList","chats","setchats","mensajes","setmensajes","chatSeleccionado","setchatSeleccionado","confirmacion","setconfirmacion","deshabilitado","setdeshabilitado","setcontenido","atras","setatras","agregarMensaje","img_emisor","img_receptor","obj_noleido","vari","msjs","img_categoria","img_solicitud","sort","a","b","getTime","obj_leido","actualizarMensajes","StarRate","shiftKey","charCode","createMuiTheme","TemaServia","App","setaux","ThemeProvider","CssBaseline","exact","isLocalhost","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","Inicial","ReactDOM","render","getElementById","URL","process","origin","addEventListener","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.03ba9c44.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Miniatura.f4e4e06b.png\";","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst Estilos = makeStyles((theme) => ({\r\n    mostrarFlex: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        padding: 10,\r\n    },\r\n    fondo:{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        padding: 10, \r\n        minHeight:\"calc(100vh - 130px)\",\r\n    },\r\n    proveedorSticky:{\r\n        display: 'scroll',\r\n        position: 'sticky',\r\n        top: 10,\r\n        flexWrap: 'wrap',\r\n        marginBottom: 10,\r\n        marginTop:10\r\n    },\r\n    margenArriba:{\r\n        marginTop: 10,\r\n    },\r\n    padding:{\r\n        padding: 20\r\n    },\r\n    padding2:{\r\n        padding: 10\r\n    },\r\n    filaPublicacion:{\r\n        padding: 10,\r\n        marginTop: 10,\r\n        background: \"rgba(214, 215, 204, 100)\"\r\n    },\r\n    imagenPublicacion:{\r\n        borderRadius: \"6px\",\r\n        objectFit: \"cover\",\r\n        border: \"1px solid #000\",\r\n        width: 170,\r\n        height: 170,\r\n        margin: \"auto\",\r\n        marginBottom: 15,\r\n        marginTop: 15\r\n    },\r\n    gridRegistro:{\r\n        maxWidth:550, \r\n        padding: 20,\r\n        marginBottom: 10,\r\n    },\r\n    inputAncho:{\r\n        width: \"100%\",\r\n    },\r\n    papelFondo:{\r\n        border: '1px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n        backgroundColor: \"#d7d6d9\"//theme.palette.secondary.dark\r\n    },\r\n    pantallaMedia:{\r\n        maxWidth: 800, \r\n        minWidth: 360,\r\n    },\r\n    botonFijo: {\r\n        display: \"scroll\",\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"calc(100% - 80px)\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: 100\r\n    },\r\n    button:{\r\n        textTransform: \"none\"\r\n    },\r\n    margenAuto:{\r\n        margin: \"auto\"\r\n    },\r\n    reporte:{\r\n        padding: 10,\r\n        marginTop: 10,\r\n    },\r\n    botonesNav:{\r\n        textDecoration:\"none\",\r\n        color: theme.palette.secondary.main,\r\n        display: 'inline',\r\n        '@media (max-width:1075px)': {\r\n          display: 'none',\r\n        },\r\n    },\r\n    EstiloMovil:{\r\n        display: 'none',\r\n        '@media (max-width:1075px)': {\r\n            display: 'inline',\r\n        },\r\n    },\r\n    EstiloPC:{\r\n    display: 'inline',\r\n    '@media (max-width:1075px)': {\r\n        display: 'none',\r\n    },\r\n    },\r\n    EstiloLink:{\r\n        textDecoration:\"none\",\r\n        color: theme.palette.secondary.contrastText\r\n    },\r\n    EstiloVacio:{\r\n        \r\n    },\r\n    Categoria: {\r\n        width:100,\r\n        height:100,\r\n        padding:0,\r\n        margin:\"auto\",\r\n        paddingTop:20\r\n    },\r\n    BotonSolicitar:{\r\n        display: 'inline',\r\n        '@media (max-width:1075px)': {\r\n            display: 'none',\r\n        },\r\n        position: \"absolute\",\r\n        left: \"90%\",\r\n        top: \"35px\",\r\n        transform: \"translate(-70%, -50%)\",\r\n        zIndex: 1000,\r\n        width: \"195px\",\r\n    },\r\n    BotonSolicitarMovil:{\r\n        display: 'none',\r\n        '@media (max-width:1075px)': {\r\n            display: 'inline',\r\n        },\r\n        position: \"absolute\",\r\n        left: \"90%\",\r\n        top: \"35px\",\r\n        transform: \"translate(-70%, -50%)\",\r\n        zIndex: 1000,\r\n    },\r\n    \r\n}));\r\n\r\nexport default Estilos;","import React, { useReducer, useEffect, createContext} from \"react\";\r\n//window.location.origin\r\n//import Icono from '/Icono3.png'\r\nconst estadoInicial = {\r\n    servidor: \"https://prueba-3.herokuapp.com\",\r\n    ruta: \"/App-Servicios\",\r\n    jwt:\"\",\r\n    publico: false,\r\n    guardar: false,\r\n    imagen_predeterminada: \"/App-Servicios/Icono4.png\",\r\n    datosSesion:{\r\n        apellido: \"\",\r\n        blocked: \"\",\r\n        confirmed: false,\r\n        created_at: \"\",\r\n        descripcion: \"\",\r\n        dni: \"\",\r\n        email: \"\",\r\n        estado: false,\r\n        fecha_creacion: \"\",\r\n        id: null,\r\n        mostrar_telefono: false,\r\n        nombre: \"\",\r\n        permiso: 0,\r\n        provider: \"local\",\r\n        role: {\r\n            id: 1, name: \"Authenticated\", \r\n            description: \"Default role given to authenticated user.\", \r\n            type: \"authenticated\"\r\n        },\r\n        telefono: \"\",\r\n        tipo: 0,\r\n        ubicacion: \"\",\r\n        updated_at: \"\",\r\n        username: \"\",\r\n        identidad_verificada: false,\r\n        imagenes_dni: []\r\n    }\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    let valor = action.value;\r\n\r\n    switch (action.type) {\r\n        case \"setDatos\":\r\n            return {...state, datosSesion: valor};\r\n        case \"setJwt\":\r\n            return {...state, jwt: valor};\r\n        case \"setGuardar\":\r\n            return {...state, guardar: valor};\r\n        case \"setPublico\":\r\n            return {...state, publico: valor};\r\n        default:\r\n            return { ...state };\r\n    }\r\n};\r\n\r\nconst ObtenerEstadoAplicacion = createContext(estadoInicial);\r\n\r\nfunction ProveerEstadoAplicacion({ children }) {\r\n    const [state, dispatch] = useReducer(reducer, estadoInicial);\r\n\r\n    return (\r\n        <ObtenerEstadoAplicacion.Provider value={{ state, dispatch }}>\r\n            {children}\r\n        </ObtenerEstadoAplicacion.Provider>\r\n    );\r\n}\r\n\r\nexport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion };\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\nimport {Link} from \"react-router-dom\";\r\n//Material UI\r\nimport {Typography, Paper, Avatar, Grid, IconButton} from '@material-ui/core/'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nimport Estilos from '../Estilos';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nexport default function Inicio({tipo}) {\r\n  const classes = Estilos();\r\n  const [categorias, setcategorias] = useState([])\r\n  const [cargando, setcargando] = useState(false)\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  \r\n  useEffect(()=>{\r\n    if (state.jwt!==\"\" || state.publico===true){\r\n      setcargando(true)\r\n      buscarCategorias()\r\n    }\r\n  },[state.jwt, state.publico])\r\n  \r\n  function buscarCategorias(){\r\n    axios.get(state.servidor+\"/api/categorias\")\r\n    .then(response => {\r\n      setcategorias(response.data)\r\n      setcargando(false)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n      console.log(error.response)\r\n    }) \r\n  }\r\n\r\n  return (\r\n    <div className={classes.fondo} >\r\n      <Paper elevation={3} className=\"Fondo\" style={{width:\"85%\"}}>      \r\n        <Typography component=\"h3\" variant=\"h3\" align=\"center\">Servia</Typography>\r\n        <Typography component=\"h4\" variant=\"h5\" align=\"center\">{tipo?\"¡Encuentra tu servicio ideal!\":\"¡Contacta con personas que buscan tu ayuda!\"}</Typography>\r\n        \r\n        \r\n        {\r\n          //Cuando cargando es true (seteado al momento de empezar a realizar la búsqueda de las categorías), nos muestra el componente de carga,\r\n          //y desaparece cuando cambia a false (seteado al finalizar la búsqueda de los datos)\r\n          cargando && <Cargando style={{margin:\"15px\"}}/>\r\n        }\r\n        <hr/>\r\n        <Grid container spacing={5} justify=\"space-around\" alignItems=\"center\">\r\n          {\r\n            categorias.map((cat, i) => (\r\n              <Grid item sm={4} md={3} lg={2} key={i} align=\"center\">\r\n                {\r\n                  <Link to={state.ruta+\"/publicaciones/\"+cat.id} className={classes.EstiloLink}>\r\n                    <Typography align=\"center\">{cat.nombre}</Typography>\r\n                    <IconButton>\r\n                      <Avatar style={{width:\"100px\", height:\"100px\"}} src={state.servidor+cat.imagen.formats.thumbnail.url} color=\"secondary\" fontSize=\"inherit\"/>\r\n                    </IconButton>\r\n                  </Link>\r\n                }\r\n              </Grid>\r\n            ))\r\n          }\r\n          </Grid>\r\n          <hr/>\r\n          {cargando && <br/>}\r\n        </Paper>\r\n    </div>\r\n  );\r\n}","import React,{useState} from 'react';\r\nimport Rating from '@material-ui/lab/Rating';\r\n\r\nimport Estilos from './Estilos.js'\r\n\r\nexport default function Puntuacion({valor, clickeable, cambiarValor}) {\r\n    const classes = Estilos();\r\n    \r\n    return (\r\n        <div className={classes.mostrarFlex}>\r\n            <Rating name=\"half-rating\" onChange={cambiarValor} readOnly={!clickeable} value={valor} precision={0.5} />\r\n        </div>\r\n    );\r\n}","import React from 'react'\r\nimport Estilos from './Estilos.js';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nfunction Alerta(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nexport default function AlertaMensaje({mensaje, setabrir, abrir}) {\r\n    const classes = Estilos();\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setabrir(false);\r\n    };\r\n    \r\n    return (\r\n       <div>\r\n           <Grid container>\r\n                <Snackbar open={abrir} autoHideDuration={4000} onClose={handleClose}>\r\n                    <Alerta onClose={handleClose} severity=\"success\">\r\n                        {mensaje}\r\n                    </Alerta>\r\n                </Snackbar>\r\n            </Grid>\r\n       </div>\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport {Hidden, Paper, Grid, Typography, Avatar, Divider, Button, ListSubheader, List, ListItem, ListItemText, Tooltip, Collapse, IconButton} from '@material-ui/core';\r\nimport axios from 'axios'\r\nimport { Link  } from 'react-router-dom';\r\n\r\nimport {Phone as PhoneIcon, FileCopy as Copiar, ExpandLess, ExpandMore, CheckCircleOutline as Verificado} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport Estrellas from '../Estrellas.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function ProveedorInfo({esDePerfil, datosPerfil}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [categorias, setcategorias] = useState([])\r\n  const [copiado, setcopiado] = useState(false)\r\n\r\n  const [DatosPerfil, setDatosPerfil] = useState({\r\n    id: null,\r\n    descripcion:\"\",\r\n    titulo:\"\",\r\n    identidad_verificada: false,\r\n    telefono: \"\",\r\n    mostrar_telefono: false,\r\n    servicios: [],\r\n    pausado: false,\r\n    bloqueado: false,\r\n\r\n  })\r\n\r\n  useEffect(()=>{\r\n  if (state.jwt!==\"\" || state.publico===true)\r\n    if(datosPerfil!==null){\r\n      setDatosPerfil(datosPerfil)\r\n      buscarCategorias(datosPerfil)\r\n    }\r\n    console.log(\"Datos: \", datosPerfil)\r\n  },[datosPerfil])\r\n\r\n  function buscarCategorias(perfil){\r\n    let ids_categorias = perfil.servicios.map((servicio) =>(servicio.categoria))\r\n    let ids_consultas = \"\"\r\n\r\n    ids_categorias.map((id)=>{\r\n      ids_consultas+=\"id_in=\"+id+\"&\"\r\n    })\r\n\r\n    if (ids_consultas!==\"\"){\r\n      axios.get(\r\n        state.servidor+\"/api/categorias?\"+ids_consultas\r\n      )\r\n      .then(response => {\r\n        setcategorias(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n        console.log(error.response)\r\n      }) \r\n    }\r\n  }\r\n\r\n  function copiarAlPortapapeles(telefono) {\r\n    // Crea un campo de texto \"oculto\"\r\n    var aux = document.createElement(\"input\");\r\n    // Asigna el contenido del elemento especificado al valor del campo\r\n    aux.setAttribute(\"value\", telefono);\r\n    // Añade el campo a la página\r\n    document.body.appendChild(aux);\r\n    // Selecciona el contenido del campo\r\n    aux.select();\r\n    // Copia el texto seleccionado\r\n    document.execCommand(\"copy\");\r\n    // Elimina el campo de la página\r\n    document.body.removeChild(aux);\r\n    setcopiado(true)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.proveedorSticky}>\r\n      <Paper elevation={5}>\r\n        <Grid className={classes.padding} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n            <Grid item xs={12} className={esDePerfil?classes.EstiloPC:classes.EstiloVacio}>\r\n              <Avatar\r\n              alt=\"Perfil\"\r\n              src={DatosPerfil.imagen_perfil!==null?state.servidor+DatosPerfil.imagen_perfil:state.imagen_predeterminada}\r\n              className={classes.imagenPublicacion}/>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} hidden={esDePerfil}>\r\n              <Typography variant=\"h5\" component=\"h3\" align=\"center\">\r\n                <Link to={state.ruta+\"/perfil-proveedor/\"+DatosPerfil.id} className={classes.EstiloLink}>\r\n                  {DatosPerfil.titulo}\r\n                  <Hidden xlDown={!DatosPerfil.identidad_verificada}>\r\n                    <Tooltip title=\"Usuario verificado\">\r\n                      <IconButton><Verificado color=\"primary\"/></IconButton>\r\n                    </Tooltip>\r\n                  </Hidden>\r\n                </Link>\r\n              </Typography>\r\n           </Grid>\r\n\r\n           <Grid item xs={12} hidden={esDePerfil}>\r\n           {\r\n              DatosPerfil.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n                Este proveedor ha pausado sus servicios.\r\n              </Alerta>)\r\n            }\r\n            {\r\n              DatosPerfil.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n                Este proveedor se encuentra bloqueado.\r\n              </Alerta>)\r\n            }\r\n            </Grid>\r\n\r\n           <Grid item xs={12} hidden={esDePerfil}>\r\n              <Divider/> \r\n              <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                {DatosPerfil.descripcion}\r\n              </Typography>\r\n           </Grid>\r\n            \r\n           <Grid item xs={12}>\r\n                <Divider/> \r\n                <List\r\n                component=\"nav\"\r\n                aria-labelledby=\"nested-list-subheader\"\r\n                subheader={\r\n                    <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n                        Servicios ofrecidos\r\n                    </ListSubheader>\r\n                }\r\n                >\r\n                    <Divider/>\r\n                    {\r\n                      categorias.map((categoria, i)=>(\r\n                        <Categorias key={i} categoria={categoria} DatosPerfil={DatosPerfil} /> \r\n                      ))\r\n                    }\r\n                    <Divider/>\r\n                </List>         \r\n           </Grid>\r\n           <Hidden xlDown={!DatosPerfil.mostrar_telefono}>\r\n            {\r\n              DatosPerfil.telefono.length!==0 &&\r\n              <Grid item xs={12}>\r\n                <a className={classes.EstiloLink} href={\"tel:\"+DatosPerfil.telefono}>\r\n                  <Button startIcon={<PhoneIcon/>}>\r\n                    {DatosPerfil.telefono}\r\n                  </Button>\r\n                </a>\r\n                <Tooltip title=\"Copiar\">\r\n                  <IconButton onClick={()=>copiarAlPortapapeles(DatosPerfil.telefono)}><Copiar/></IconButton>\r\n                </Tooltip>\r\n              </Grid>\r\n            }\r\n           </Hidden>\r\n        </Grid>\r\n      </Paper>\r\n      <AlertaMensaje mensaje={\"Copiado al portapapeles\"} abrir={copiado} setabrir={setcopiado}/>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Categorias({categoria, DatosPerfil}) {\r\n    const classes = Estilos();\r\n    const [open, setOpen] = useState(true);\r\n\r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary={categoria.nombre}/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <Divider/>\r\n                      {\r\n                        DatosPerfil.servicios.map((servicio, i) => {\r\n                          if(servicio.categoria===categoria.id){\r\n                            return (\r\n                              <Typography key={i} variant=\"h6\" component=\"h5\" align=\"left\">\r\n                                {servicio.nombre}\r\n                              </Typography>\r\n                            )\r\n                          }\r\n                        }\r\n                        )\r\n                      }\r\n                    <Divider/>\r\n                </List>\r\n            </Collapse>\r\n            \r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState, useContext} from 'react'\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {LinearProgress, Tooltip, FormGroup, FormControlLabel, Checkbox, Modal, Backdrop, Fade, Typography, TextField, Button, Hidden} from '@material-ui/core/';\r\nimport Reportar from '@material-ui/icons/PriorityHigh';\r\nimport Estilos from '../Estilos.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function ReportarPublicacion({esDePerfil, solicitud, abrirAlerta}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = useState(false);\r\n  const [motivos, setmotivos] = useState([{id: null, nombre: \"\",tipo: false}])\r\n  const [motivosSeleccionados, setmotivosSeleccionados] = useState([])\r\n  const [descripcion, setdescripcion] = useState(\"\")\r\n  const [abrir, setabrir] = useState(false)\r\n  const [cargando, setcargando] = useState(false)\r\n  const [mensaje, setmensaje] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setmotivosSeleccionados([])\r\n    setOpen(false);\r\n  };\r\n\r\n  function seleccionarMotivo(Motivo){\r\n    if(mensaje===true)\r\n      setmensaje(false)\r\n    let esta = motivosSeleccionados.some((motivo) => motivo.id===Motivo.id)\r\n    if(!esta){\r\n      setmotivosSeleccionados((arreglo)=>[...arreglo, {id:Motivo.id, nombre:Motivo.nombre}])\r\n    }else{\r\n      setmotivosSeleccionados(motivosSeleccionados.filter((motivo)=>motivo.id!==Motivo.id))\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(state.jwt!==\"\" || state.publico===true){\r\n      axios.get(state.servidor+\"/api/motivos?tipo=\"+esDePerfil)\r\n      .then(response => {\r\n        setmotivos(response.data)\r\n      })\r\n      .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })      \r\n    }\r\n  },[state.jwt, state.publico])\r\n\r\n  useEffect(() => {\r\n    console.log(solicitud)\r\n  }, [solicitud])\r\n\r\n  function ComprobarReporte(reporte){\r\n    let auth = 'Bearer '+state.jwt;\r\n\r\n    if(motivosSeleccionados.length!==0){\r\n      if(reporte.length!==0){\r\n        let fecha = new Date()\r\n        let reporte_conjunto = reporte[0]\r\n        let _descripcion = descripcion.length!==0?descripcion:\"El usuario no ha proporcionado información adicional.\"\r\n        let descripcion_=\"##Nuevo reporte (Motivos:\"+\r\n        motivosSeleccionados.map(motivo=>(\" \"+motivo.nombre))+\") del día \"\r\n        +fecha.getDate()+\"/\"+(fecha.getMonth()+1)+\"/\"+fecha.getFullYear()+\": \"+_descripcion\r\n        \r\n        console.log(\"Reporte descripción 1: \", descripcion_)\r\n        console.log(\"Reporte descripción 2: \", reporte_conjunto.descripcion+\"##Nuevo reporte (Motivos:\"+motivosSeleccionados.map(motivo=>(\" \"+motivo.nombre))+\") del día \"+fecha.getDate()+\"/\"+(fecha.getMonth()+1)+\"/\"+fecha.getFullYear()+\": \"+_descripcion)\r\n        \r\n        axios.put(state.servidor+\"/api/reportes/\"+reporte_conjunto.id,{\r\n          descripcion: reporte_conjunto.descripcion+descripcion_\r\n        },\r\n          {headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(\"Se modifica el reporte\",response.data)\r\n          setmensaje(false)\r\n          handleClose()\r\n          setabrir(true)\r\n          setcargando(false)\r\n          setmotivosSeleccionados([])\r\n          setdescripcion(\"\")\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n          console.log(error.response)\r\n        })\r\n      }else{\r\n        axios.post(state.servidor+\"/api/reportes\",{\r\n          motivos: motivosSeleccionados.map(motivo_=>(motivo_.id)),\r\n          Solicitud_id: esDePerfil?null:solicitud.id,\r\n          Usuario_id: esDePerfil?solicitud.id:solicitud.Usuario_id.id,\r\n          accion: false,\r\n          estado: 0,\r\n          descripcion: descripcion\r\n        },{\r\n          headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(response.data)\r\n          setmensaje(false)\r\n          handleClose()\r\n          setabrir(true)\r\n          setcargando(false)\r\n          setmotivosSeleccionados([])\r\n          setdescripcion(\"\")\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n          console.log(error.response)\r\n        })\r\n      }\r\n    }else{\r\n      setcargando(false)\r\n      setmensaje(true)\r\n    }\r\n  }\r\n\r\n  function EnviarReporte(){\r\n    setcargando(true)\r\n    let auth = 'Bearer '+state.jwt;\r\n    console.log(solicitud)\r\n    if(!esDePerfil && solicitud.id!==null){\r\n      axios.get(state.servidor+\"/api/reportes?Solicitud_id=\"+solicitud.id+\"&estado=0\"\r\n        ,{headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        ComprobarReporte(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n    \r\n    if(esDePerfil && solicitud.id!==null){\r\n      axios.get(state.servidor+\"/api/reportes?Usuario_id=\"+solicitud.id+\"&estado=0\"\r\n        ,{headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        let reportes_solicitud_null = response.data.filter((reporte) => reporte.Solicitud_id===null)\r\n        ComprobarReporte(reportes_solicitud_null)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      {abrir && <AlertaMensaje mensaje=\"¡Se ha enviado su reporte correctamente!\" abrir={abrir} setabrir={setabrir}/>}\r\n      <Tooltip title={esDePerfil?\"Reportar proveedor de servicios\":\"Reportar publicación\"}>\r\n        <Button\r\n            onClick={handleOpen}\r\n        ><Reportar/>\r\n        </Button>\r\n      </Tooltip>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition={true}\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.papelFondo}>\r\n            <Typography variant=\"h5\" component=\"h2\" align=\"center\">\r\n                Seleccione los motivos:\r\n            </Typography>\r\n            <FormGroup required>\r\n            {\r\n              motivos.map((motivo,i)=>(\r\n                <FormControlLabel\r\n                  key={i}\r\n                  control={\r\n                  <Checkbox\r\n                    variant=\"error\"\r\n                    onChange={()=>{seleccionarMotivo(motivo)}}\r\n                  />\r\n                  }\r\n                  label={motivo.nombre}\r\n                />\r\n              ))\r\n            }\r\n            </FormGroup>\r\n\r\n            <Hidden xlDown={!mensaje || cargando}>\r\n              <Typography color=\"error\">\r\n                Debe seleccionar un motivo.\r\n              </Typography>\r\n            </Hidden>\r\n\r\n            <TextField className={classes.inputAncho} onChange={(e)=>{setdescripcion(e.target.value)}} value={descripcion} id=\"filled-basic\" label=\"Informacion adicional\" variant=\"filled\" multiline/>\r\n            <br/>\r\n            {cargando && <LinearProgress color=\"secondary\"/>}\r\n            <Button disabled={cargando} className={classes.inputAncho} style={{marginTop:10}} size=\"large\" variant=\"contained\" color=\"primary\" onClick={EnviarReporte}>Enviar</Button>\r\n            \r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useState, useEffect, useContext} from 'react';\r\n//Material-UI\r\nimport {Hidden, Paper, Grid, Typography, Breadcrumbs, Link, Avatar, Tooltip, IconButton} from '@material-ui/core/';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport Verificado from '@material-ui/icons/CheckCircleOutline';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport Estrellas from '../Estrellas.js';\r\nimport ReportarPublicacion from './ReportarPublicacion.js'\r\nimport Estilos from '../Estilos.js';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function PublicacionInfo({esDePerfil, datosPagina, abrirAlerta}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  \r\n  const [imagenes, setimagenes] = useState([])\r\n\r\n  const [DatosPagina, setDatosPagina] = useState({\r\n    id: null,\r\n    titulo:\"\",\r\n    precio:\"\",\r\n    categoria:\"\",\r\n    servicio:\"\",\r\n    estrella: 0,\r\n    descripcion:\"\",\r\n    imagenes:[\"\"],\r\n    pausado: false,\r\n    bloqueado: false,\r\n    Usuario_id: null,\r\n    imagen_perfil: \"\"\r\n  });\r\n\r\n  useEffect(()=>{\r\n  if (state.jwt!==\"\" || state.publico===true)\r\n    if(datosPagina!==null){\r\n      let img = datosPagina.imagenes.map((imagen)=>{\r\n        return ({\r\n          original: state.servidor+imagen.url,\r\n          thumbnail: state.servidor+imagen.url\r\n        })\r\n      })\r\n      setimagenes(img)\r\n      setDatosPagina({\r\n        id: datosPagina.id,\r\n        titulo: datosPagina.titulo,\r\n        categoria: datosPagina.categoria,\r\n        servicio: datosPagina.servicio,\r\n        estrella: 0,\r\n        descripcion: datosPagina.descripcion,\r\n        precio_estimado: datosPagina.precio_estimado,\r\n        tipo: datosPagina.tipo,\r\n        pausado: datosPagina.pausado,\r\n        imagenes: datosPagina.imagenes,\r\n        bloqueado: datosPagina.bloqueado,\r\n        Usuario_id: datosPagina.Usuario_id,\r\n        imagen_perfil: datosPagina.imagen_perfil\r\n      })\r\n    }\r\n},[datosPagina, state.jwt, state.publico])\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Paper elevation={5} >\r\n        <Grid className={classes.padding} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n            {\r\n              DatosPagina.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n                {DatosPagina.precio_estimado===\"perfil\"?\"Este proveedor ha pausado sus servicios.\":\"Esta publicación se encuentra pausada.\"}\r\n              </Alerta>)\r\n            }\r\n            {\r\n              DatosPagina.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n                {DatosPagina.precio_estimado===\"perfil\"?\"Este proveedor se encuentra bloqueado.\":\"Esta publicación se encuentra bloqueada.\"}\r\n              </Alerta>)\r\n            }\r\n            <Grid item lg={12} hidden={!esDePerfil} align=\"center\" className={esDePerfil?classes.EstiloMovil:classes.EstiloVacio}>\r\n              <Avatar\r\n              alt=\"Perfil\"\r\n              src={DatosPagina.imagen_perfil!==\"\"?state.servidor+DatosPagina.imagen_perfil:state.imagen_predeterminada}\r\n              className={classes.imagenPublicacion} />\r\n            </Grid>\r\n\r\n            <Grid item lg={4} md={4} sm={12} hidden={esDePerfil}>\r\n                <Typography variant=\"h6\" component=\"h3\" align=\"left\">\r\n                  {DatosPagina.tipo?\"Precio estimado:\":\"Presupuesto:\"} ${DatosPagina.precio_estimado}\r\n                </Typography>\r\n            </Grid>\r\n\r\n            <Grid hidden={esDePerfil} item lg={7} md={7} sm={11} align=\"right\">\r\n              <div align=\"right\">\r\n                <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\r\n                  <Typography color=\"inherit\">{DatosPagina.categoria}</Typography>\r\n                  {\r\n                    datosPagina.tipo &&\r\n                    <Typography color=\"inherit\">{DatosPagina.servicio}</Typography>\r\n                  }\r\n                </Breadcrumbs>\r\n                  </div>\r\n            </Grid>\r\n            \r\n            {state.publico===false && !esDePerfil && !DatosPagina.bloqueado &&\r\n              <Grid item lg={1} md={1} sm={1}>\r\n                <ReportarPublicacion esDePerfil={esDePerfil} solicitud={DatosPagina}/>\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={esDePerfil?11:12} sm={esDePerfil?11:12}>\r\n              <Typography variant=\"h5\" component=\"h1\" align=\"left\">\r\n                {DatosPagina.titulo}\r\n                {\r\n                  esDePerfil && <Hidden xlDown={!DatosPagina.identidad_verificada}><Tooltip title=\"Usuario verificado\">\r\n                    <IconButton><Verificado color=\"primary\"/></IconButton>\r\n                  </Tooltip></Hidden>\r\n                }\r\n              </Typography>\r\n            </Grid>\r\n\r\n            {state.publico===false && esDePerfil && !DatosPagina.bloqueado &&\r\n              <Grid item lg={1} md={1} sm={1}>\r\n                <ReportarPublicacion esDePerfil={esDePerfil} solicitud={DatosPagina}/>\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12}>\r\n              <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                {DatosPagina.descripcion}    \r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <ImageGallery items={imagenes.length===0?[{original: state.imagen_predeterminada,thumbnail: state.imagen_predeterminada}]:imagenes}/>\r\n            </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n    </div>\r\n  );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {Tooltip, Button, Typography, Paper, Grid, Chip} from '@material-ui/core/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport {ThumbUpAltTwoTone as Like, ThumbDownAltTwoTone as Dislike} from '@material-ui/icons';\r\n\r\nimport Estrellas from '../Estrellas.js';\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { format, register } from 'timeago.js';\r\n\r\nexport default function Opiniones({datos}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [opiniones, setopiniones] = useState([])\r\n    const [promedioEstrellas, setpromedioEstrellas] = useState(0)\r\n\r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico){  \r\n            if(datos.Usuario_id!==null){\r\n                axios.get(state.servidor+\"/api/resenas?proveedor=\"+datos.Usuario_id.id+\"&servicios=\"+datos.servicio_id)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n                    setopiniones(response.data)\r\n                    let total = 0;\r\n                    response.data.map(opi => {\r\n                        total+= opi.recomendacion\r\n                    })\r\n                    setpromedioEstrellas(total/(response.data.length))\r\n                })\r\n                .catch(error => {\r\n                    alert(\"Un error ha ocurrido al buscar la solicitud.\")\r\n                    console.log(error.response)\r\n                })\r\n            }\r\n        }\r\n    },[state.jwt, state.publico, datos])\r\n    //\r\n    const localeFunc = (number, index, totalSec) => {\r\n        // number: the timeago / timein number;\r\n        // index: the index of array below;\r\n        // totalSec: total seconds between date to be formatted and today's date;\r\n        return [\r\n        ['justo ahora', 'justo ahora'],\r\n        ['hace %s segundos', 'en %s segundos'],\r\n        ['hace 1 minuto', 'en 1 minuto'],\r\n        ['hace %s minutos', 'en %s minutos'],\r\n        ['hace 1 hora', 'en 1 hora'],\r\n        ['hace %s horas', 'en %s horas'],\r\n        ['hace 1 día', 'en 1 día'],\r\n        ['hace %s días', 'en %s días'],\r\n        ['hace 1 semana', 'en 1 semana'],\r\n        ['hace %s semanas', 'en %s semanas'],\r\n        ['hace 1 mes', 'en 1 mes'],\r\n        ['hace %s meses', 'en %s meses'],\r\n        ['hace 1 año', 'en 1 año'],\r\n        ['hace %s años', 'en %s años']\r\n        ][index];\r\n    };\r\n    register('spanish', localeFunc);\r\n\r\n    return (\r\n        <div className={classes.mostrarFlex}>\r\n        <Paper elevation={5}>\r\n            <Grid className={classes.padding} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h4\" component=\"h2\" align=\"left\">\r\n                        Reseñas\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"center\" align=\"left\">\r\n                        {\r\n                            opiniones.length!==0 &&\r\n                            <><Estrellas clickeable={false} valor={promedioEstrellas}/> {`${promedioEstrellas} en base a ${opiniones.length} reseñas hechas por otros usuarios.`}</>\r\n                        }\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    {\r\n                        opiniones.length===0 && <Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"info\">\r\n                        {\"Esta publicación aún no tiene reseñas\"}\r\n                      </Alerta>\r\n                    }\r\n                    {\r\n                        opiniones.map((opinion, i)=>(\r\n                            <Resena opinion={opinion} key={i}/>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Resena({opinion}) {\r\n    const classes = Estilos();\r\n    return (\r\n        <Paper variant=\"outlined\" square>\r\n            <Grid className={classes.padding} container direction=\"row\" justify=\"space-around\" alignItems=\"baseline\">\r\n                <Grid item xs={6}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"left\">\r\n                        {opinion.titulo}\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                    <Estrellas clickeable={false} valor={opinion.recomendacion}/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                        {opinion.descripcion}\r\n                    </Typography> \r\n                </Grid>\r\n                {/*\r\n                    true && <Grid item xs={4} align=\"left\">\r\n                        <Tooltip title=\"Me sirve\">\r\n                            <Button startIcon={<Like/>}>\r\n                                {opinion.votos_positivos}\r\n                            </Button>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"No me sirve\">\r\n                            <Button color=\"secondary\" startIcon={<Dislike/>}>\r\n                                {opinion.votos_negativos}\r\n                            </Button>\r\n                        </Tooltip>\r\n                    </Grid>\r\n                */}\r\n                \r\n                    {\r\n                        opinion.servicios.map((servicio, i)=>(\r\n                            <Grid key={i} item xs={2} align=\"center\">\r\n                                <Chip variant=\"outlined\" label={servicio.nombre}/>\r\n                            </Grid>\r\n                        ))\r\n                    }\r\n                    \r\n                <Grid item xs={2} align=\"right\">\r\n                    {format(new Date(opinion.created_at),\"spanish\")}\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n  }","import React from 'react';\r\nimport {useState} from 'react';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nimport Estilos from './Estilos.js';\r\n\r\nexport default function SeleccionarServicio({servicio, agregarSeleccionado}) {\r\n  const classes = Estilos();\r\n  const [hecho_noHecho, setHecho_noHecho] = useState((<div><ClearIcon/></div>));\r\n  const [seleccion, setSeleccion] = useState(servicio.seleccionado);\r\n\r\n\r\n  React.useEffect(()=>{\r\n    if(servicio.seleccionado===true){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(<div><DoneIcon/></div>);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(<div><ClearIcon/></div>);\r\n    }\r\n  },[])\r\n\r\n  const handleClick = () => {\r\n    agregarSeleccionado(!seleccion)\r\n    if(seleccion===false){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(<div><DoneIcon/></div>);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(<div><ClearIcon/></div>);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Chip clickable color=\"primary\" label={servicio.nombre} icon={hecho_noHecho} onClick={handleClick}/>\r\n    </div>\r\n  );\r\n}","import React,{useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {LinearProgress, Avatar, FormControl, Grid, Typography, TextField, Button, Modal, Fade, Backdrop, InputLabel, MenuItem, Select} from '@material-ui/core/';\r\nimport {Mail} from '@material-ui/icons';\r\n\r\n///Componentes\r\nimport AlertaMensaje from './AlertaMensaje.js';\r\nimport Estilos from './Estilos.js';\r\nimport CategoriaSeleccion from './CategoriaSeleccion.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nexport function BotonContratar({fijo, esDePerfil, datos}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [cargando, setcargando] = React.useState(false);\r\n  const [mensaje, setmensaje] = React.useState(\"\");\r\n  const [abrir, setabrir] = React.useState(false);\r\n  const [categoria, setcategoria] = useState({});\r\n  const [arregloCategorias, setarregloCategorias] = useState([]);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if (esDePerfil){\r\n      let cat = {}\r\n      let arrCat = []\r\n    datos.servicios.map((servicio)=>{\r\n      if(!cat.hasOwnProperty(servicio.categoria)){\r\n        cat[servicio.categoria] = servicio.categoria\r\n        arrCat.push(servicio.categoria)\r\n      }\r\n    })\r\n\r\n    let IDS = \"\"\r\n    arrCat.map((id)=>{\r\n      if(id!==null){\r\n          IDS+=\"id_in=\"+id+\"&\"\r\n      }\r\n    })\r\n        \r\n    let auth = 'Bearer '+state.jwt;\r\n    if(arrCat.length!==0){\r\n      axios.get(state.servidor+\"/api/categorias?\"+IDS,{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        setarregloCategorias(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar los chats.\")\r\n        console.log(error.response)\r\n      }) \r\n    }\r\n    }\r\n},[datos])\r\n\r\n\r\n  function enviarContacto(e){\r\n    setcargando(true)\r\n    let auth = 'Bearer '+state.jwt;\r\n    e.preventDefault()\r\n\r\n    if(state.jwt!==\"\"){\r\n      let cat_selecc = arregloCategorias.filter(cat_ => cat_.nombre === categoria)\r\n\r\n      axios.post(state.servidor+\"/api/chats/\",{\r\n        noleido_emisor: 0,\r\n        noleido_receptor: 1,\r\n        emisor: state.datosSesion.id,\r\n        receptor: datos.idP,\r\n        solicitud: datos.idS,\r\n        categoria: esDePerfil?cat_selecc[0].id:null,\r\n        peticion: false\r\n      },{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n\r\n        axios.post(state.servidor+\"/api/mensajes/\",{\r\n          contenido: mensaje,\r\n          enviado_por: true,\r\n          chat: response.data.id\r\n        },{\r\n          headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(response.data)\r\n          setabrir(true)\r\n          setOpen(false)\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar los chats.\")\r\n          console.log(error.response)\r\n        })\r\n        \r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar los chats.\")\r\n        console.log(error.response)\r\n      })\r\n    }else{\r\n      alert(\"Debes iniciar sesión para poder contactar al proveedor.\")\r\n      setcargando(false)\r\n    }\r\n  }\r\n\r\n    return (\r\n      <div>\r\n          <div className={fijo?classes.botonFijo:classes.botonNoF}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<Mail/>}\r\n              onClick={handleOpen}\r\n            >\r\n              Contactar\r\n            </Button>\r\n        </div>\r\n        <Modal\r\n          aria-labelledby=\"transition-modal-title\"\r\n          aria-describedby=\"transition-modal-description\"\r\n          className={classes.mostrarFlex}\r\n          open={open}\r\n          onClose={handleClose}\r\n          closeAfterTransition\r\n          BackdropComponent={Backdrop}\r\n          BackdropProps={{\r\n            timeout: 500,\r\n          }}\r\n        >\r\n          <Fade in={open} style={{padding:\"15px\"}}>\r\n            <div className={classes.papelFondo}>\r\n              <div style={{maxWidth:750}} className=\"Fondo\">\r\n              <Grid  container direction=\"row\" justify=\"center\"  spacing={2}>\r\n                  <Grid item xs={12}>\r\n                      <div align=\"center\">\r\n                          <Avatar\r\n                            alt=\"Perfil\"\r\n                            src={datos.imagen_perfil!==null?datos.imagen_perfil:state.imagen_predeterminada}\r\n                            className={classes.imagenPublicacion}/>\r\n                      </div>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                      <Typography variant=\"h5\" component=\"h2\" align=\"center\" className={classes.form}>\r\n                          {datos.nombre}\r\n                      </Typography>\r\n                  </Grid>\r\n\r\n                  <form onSubmit={enviarContacto} className={classes.inputAncho}>\r\n                    <FormControl color=\"primary\" fullWidth>\r\n                      {\r\n                        esDePerfil &&\r\n                        <Grid item xs={12}>\r\n                          \r\n                            <InputLabel id=\"categoria\" variant=\"filled\">Categoría</InputLabel>\r\n                            <Select\r\n                                value={categoria}\r\n                                name=\"categoria\"\r\n                                onChange={(e)=>{setcategoria(e.target.value)}}\r\n                                id=\"categoria\"\r\n                                labelId=\"categoria\"\r\n                                variant=\"filled\"\r\n                                label=\"Categoría\"\r\n                                className={classes.inputAncho}\r\n                                required>\r\n                                {\r\n                                  arregloCategorias.map((categoria, i)=>(\r\n                                    <MenuItem key={i} value={categoria.nombre}>{categoria.nombre}</MenuItem>\r\n                                  ))\r\n                                }\r\n                            </Select>\r\n                        \r\n                        </Grid>\r\n                      }\r\n                    \r\n                      <br/>\r\n                      <Grid item xs={12}>  \r\n                        <TextField\r\n                          onChange={(e)=>{setmensaje(e.target.value)}}\r\n                          className={classes.inputAncho}\r\n                          id=\"filled-basic\"\r\n                          label=\"Escribe tu mensaje\"\r\n                          variant=\"filled\"\r\n                          required\r\n                          multiline\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12} align=\"center\">\r\n                        <br/>\r\n                        {\r\n                          cargando && <LinearProgress/>\r\n                        }\r\n                        <Button\r\n                          disabled={cargando}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          type=\"submit\"\r\n                          >\r\n                            Contactar proveedor\r\n                        </Button>\r\n                      </Grid>\r\n                    </FormControl>\r\n                  </form>\r\n              </Grid>\r\n              </div>\r\n            </div>\r\n          </Fade>\r\n        </Modal>\r\n        <AlertaMensaje mensaje=\"¡Mensaje enviado con éxito!\" setabrir={setabrir} abrir={abrir}/>\r\n      </div>\r\n    );\r\n  }","import React, {useEffect, useState, useContext} from 'react';\r\n\r\n//Material-UI\r\nimport {Grid} from '@material-ui/core/';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n//Componentes\r\nimport ProveedorInfo from './ProveedorInfo.js';\r\nimport PublicacionInfo from './PublicacionInfo.js';\r\nimport Opiniones from './Opiniones.js';\r\nimport Estilos from '../Estilos.js';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\nimport {Container} from '@material-ui/core/';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Publicacion() {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    const [datosPerfil, setdatosPerfil] = useState({\r\n        id: null,\r\n        descripcion:\"\",\r\n        nombre:\"\",\r\n        apellido:\"\",\r\n        identidad_verificada: false,\r\n        telefono: \"\",\r\n        mostrar_telefono: false,\r\n        pausado: false,\r\n        bloqueado: false,\r\n        servicios: [],\r\n        imagen_perfil: \"\"\r\n    })\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        id: null,\r\n        descripcion:\"\",\r\n        titulo:\"\",\r\n        precio_estimado: 0,\r\n        tipo: false,\r\n        pausado: false,\r\n        bloqueado: false,\r\n        imagenes: [],\r\n        Usuario_id: null\r\n    })\r\n\r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico===true){            \r\n            axios.get(state.servidor+\"/api/solicitud/\"+id)\r\n            .then(response => {\r\n                obtenerUsuario(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar la solicitud.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    function obtenerUsuario(data){\r\n        setdatosPagina({\r\n            id: data.id,\r\n            titulo: data.titulo,\r\n            descripcion: data.descripcion,\r\n            precio_estimado: data.precio_estimado,\r\n            tipo: data.tipo,\r\n            pausado: data.pausado,\r\n            imagenes: data.imagenes,\r\n            categoria: data.Categoria_id.nombre,\r\n            servicio: data.tipo?data.Servicio_id.nombre:null,\r\n            Usuario_id: data.Usuario_id,\r\n            bloqueado: data.bloqueado,\r\n            servicio_id: data.tipo?data.Servicio_id.id:null,\r\n        })\r\n\r\n        let auth = state.jwt!==\"\"?'Bearer '+state.jwt:\"\";\r\n        \r\n        axios.get(\r\n            state.servidor+\"/users/\"+data.Usuario_id.id,{\r\n                headers: {\r\n                'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                setdatosPerfil({\r\n                    id: response.data.id,\r\n                    descripcion: response.data.descripcion,\r\n                    titulo: `${response.data.nombre} ${response.data.apellido}`,\r\n                    identidad_verificada: response.data.identidad_verificada,\r\n                    telefono: response.data.telefono,\r\n                    mostrar_telefono: response.data.mostrar_telefono,\r\n                    servicios: response.data.servicios,\r\n                    bloqueado: response.data.bloqueado,\r\n                    pausado: response.data.estado,\r\n                    imagen_perfil: response.data.imagen_perfil===null?null:response.data.imagen_perfil.url\r\n                })\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar el usuario.\")\r\n                console.log(error.response)\r\n            }) \r\n    }\r\n\r\n    return (\r\n        <Container style={{width: \"95%\"}}>\r\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"stretch\">\r\n                <Grid item md={8} xs={12}>\r\n                  <PublicacionInfo esDePerfil={false} datosPagina={datosPagina}/>\r\n                  {datosPagina.tipo && <Opiniones datos={datosPagina}/>}\r\n                </Grid>  \r\n\r\n                {\r\n                    datosPagina.tipo && (\r\n                        <Grid item md={4} xs={12} >\r\n                            <ProveedorInfo esDePerfil={false} datosPerfil={datosPerfil}/>\r\n                        </Grid> \r\n                    )\r\n                }\r\n                {\r\n                    //Si no es el dueño de la publicación, y si el proveedor o la publicación no se encuentrar pausada o bloqueada, entonces ofrecemos la posibilidad de contactarlo \r\n                    datosPerfil.id!==state.datosSesion.id && !datosPagina.pausado && !datosPagina.bloqueado && !datosPerfil.pausado && !datosPerfil.bloqueado &&\r\n                    (datosPagina.tipo?true:state.datosSesion.tipo!==1) &&\r\n                    <BotonContratar fijo={true} esDePerfil={false} datos={{idS: datosPagina.id, idP: datosPerfil.id, nombre: datosPerfil.titulo, imagen_perfil: datosPerfil.imagen_perfil}} />\r\n                }\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n","import React, {useContext, useState} from 'react';\r\n//Material UI \r\nimport {Grid, Link as LinkMUI,  LinearProgress, Modal, Backdrop, Fade, Typography, TextField, FormControl, Hidden, Button, Divider, } from '@material-ui/core';\r\n\r\n//Librerias\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\n//\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function IniciarSesion({mensaje}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = useState(false);\r\n  const [cargando, setcargando] = useState(false);\r\n  const [alerta, setalerta] = useState(\"\");\r\n  const [pwd_olvidada, setpwd_olvidada] = useState(false);\r\n\r\n  const [datos, setdatos] = useState({\r\n    email:\"\",\r\n    contrasena:\"\"\r\n  });\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n  const cambiarInput = (e) =>{   \r\n    let valor = e.target.value;\r\n    let campo = e.target.name;\r\n    setdatos({\r\n        ...datos,\r\n        [campo]: valor\r\n    })        \r\n  }\r\n  \r\n  const iniciarSesion = () =>{\r\n    setcargando(true)\r\n\r\n    if(!pwd_olvidada){\r\n      axios\r\n      .post(state.servidor+\"/auth/local/\", {\r\n        identifier: datos.email,\r\n        password: datos.contrasena\r\n      })\r\n      .then(response => {\r\n          // Se registró el usuario correctamente\r\n          console.log('Se ha iniciado sesion correctamente.')\r\n          \r\n          dispatch({type:\"setDatos\", value: response.data.user})\r\n          dispatch({type:\"setJwt\", value: response.data.jwt})\r\n          dispatch({type:\"setPublico\", value: false})\r\n\r\n          localStorage.setItem('datosLocal', JSON.stringify({\r\n            jwt: response.data.jwt,\r\n            datosSesion: response.data.user\r\n          }));\r\n\r\n          setcargando(false)\r\n          setOpen(false)\r\n      })\r\n      .catch(error => {\r\n        // Ocurrió un error\r\n        let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n        console.log(\"Error: \",err)\r\n        \r\n        if(err===\"Auth.form.error.invalid\")\r\n          setalerta('Correo o contraseña incorrectos');\r\n\r\n        setcargando(false)\r\n      });\r\n    }else{\r\n      console.log(datos)\r\n      axios\r\n      .post(state.servidor+'/auth/forgot-password', {\r\n        email: datos.email,\r\n      },{\r\n        headers:{\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(response => {\r\n        console.log('Your user received an email', response.data);\r\n      })\r\n      .catch(error => {\r\n        // Handle error.\r\n        console.log('An error occurred:', error.response);\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <LinkMUI href=\"#\" style={{color:\"black\",padding: \"10px\"}} onClick={handleOpen}>\r\n        {mensaje}\r\n      </LinkMUI>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.papelFondo}>\r\n            <div className=\"Fondo\"  style={{maxWidth:350}}>\r\n                <Grid  container direction=\"row\" justify=\"center\"  spacing={2}>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.form}>\r\n                      {pwd_olvidada?\"Recuperar contraseña\":\"Iniciar Sesión\"}\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      onChange={cambiarInput}\r\n                      name=\"email\"\r\n                      value={datos.email}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Correo electrónico\"\r\n                      variant=\"filled\"\r\n                      required\r\n                    />\r\n                  </Grid>\r\n                  <Divider/>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <TextField\r\n                        onChange={cambiarInput}\r\n                        name=\"contrasena\"\r\n                        value={datos.contrasena}\r\n                        required\r\n                        type=\"password\"\r\n                        label=\"Contraseña\"\r\n                        variant=\"filled\"\r\n                        style={{marginTop:\"15px\"}}\r\n                        className={classes.inputAncho}\r\n                      />\r\n                    }\r\n                  </Grid>\r\n\r\n\r\n                  <Hidden xlDown={mensaje===\"\"}>\r\n                    <Typography color=\"error\">\r\n                        {alerta}\r\n                    </Typography>\r\n                  </Hidden>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <LinkMUI color=\"secondary\" className={classes.margenArriba} href=\"#\" onClick={()=>{setpwd_olvidada(true)}}>\r\n                        Olvidé mi contraseña\r\n                      </LinkMUI>\r\n                    }\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      pwd_olvidada && <LinkMUI className={classes.margenArriba} href=\"#\" onClick={()=>{setpwd_olvidada(false)}}>\r\n                        Cancelar\r\n                      </LinkMUI>\r\n                    }\r\n                  </Grid>\r\n\r\n                  <div className={classes.inputAncho} hidden={!cargando}>\r\n                    <LinearProgress />\r\n                  </div>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Button\r\n                      onClick={iniciarSesion}\r\n                      size=\"large\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\">\r\n                        {\r\n                          !pwd_olvidada?\"Iniciar Sesión\":\"Recuperar\"\r\n                        }\r\n                    </Button>\r\n                  </Grid>\r\n\r\n                  <Divider/>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <Typography onClick={handleClose} variant=\"body1\" align=\"center\">\r\n                        {`¿Eres nuevo en el sitio? `}\r\n                        <Link to=\"/registrar\">Crear cuenta</Link>\r\n                      </Typography>\r\n                    }\r\n                  </Grid>\r\n                </Grid>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\nimport {Link} from 'react-router-dom'\r\n//Material-UI\r\nimport {Grid, LinearProgress, ListItem, ListItemIcon, Divider, Typography, MenuItem} from '@material-ui/core';\r\n\r\nimport PriorityHighIcon from '@material-ui/icons/PriorityHigh';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { EmojiSymbolsRounded } from '@material-ui/icons';\r\n\r\nexport default function NotificacionesNav({plegarNoti, notificaciones}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n\r\n    return (\r\n        <div style={{padding:\"0px 15px 0px 15px\"}}>\r\n            <Typography align=\"center\" component=\"h5\" variant=\"h5\">Notificaciones</Typography>\r\n            {notificaciones.length===0 &&<Typography>No tienes nuevas notificaciones</Typography>}\r\n            {\r\n                notificaciones.map((noti, i)=>(\r\n                    <div key={i}>\r\n                        <MenuItem onClick={plegarNoti} >\r\n                            <Grid container spacing={1} justify=\"center\">\r\n                                <Grid item xs={12}>\r\n                                    <Link to={state.ruta+\"/notificaciones\"} className={classes.EstiloLink}>\r\n                                        <Typography>                            \r\n                                            {noti.tipo===0 && (noti.solicitud!==null?\r\n                                            'Tienes nueva información con respecto a un reporte hecho a tu publicación \"'+noti.solicitud.titulo+'\"':\r\n                                            \"Tienes nueva información sobre un reporte hecho a tu perfil\")}\r\n                                            {noti.tipo===1 && (noti.datos_notificacion===\"\"?\r\n                                            '¡Tu solicitud de verificación de identidad ha sido aceptada!':\r\n                                            'Tu solicitud de verificación de identidad ha sido rechazada.')}\r\n                                            {noti.tipo===2 && (`¡Tienes una nueva solicitud de reseña de ${noti.emisor.nombre} ${noti.emisor.apellido}!`)}\r\n                                        </Typography>\r\n                                    </Link>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </MenuItem>\r\n                        <Divider/>\r\n                    </div>\r\n                ))\r\n            }\r\n            <MenuItem onClick={plegarNoti}>\r\n                    <Link to={state.ruta+\"/notificaciones\"} className={classes.EstiloLink}>\r\n                        <Typography color=\"secondary\">                            \r\n                            Ver todas las notificaciones\r\n                        </Typography>\r\n                    </Link>\r\n            </MenuItem>\r\n        </div>\r\n    );\r\n}","import React, {useState, useContext, useEffect} from 'react';\r\nimport {BrowserRouter as Router, Switch, Route, Link, useHistory} from \"react-router-dom\";\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {Avatar, makeStyles, ListItemIcon, Grid, AppBar, Toolbar, IconButton, Typography, Badge, MenuItem, Menu, Button} from '@material-ui/core/';\r\nimport {Person as Perfil, Create as ModificarPerfil, HowToReg as VerificarIdentidadIcono, FeaturedPlayList as Explorar, Chat, AccountCircle, Menu as MenuIcon, Notifications as NotificationsIcon, PriorityHigh as PriorityHighIcon} from '@material-ui/icons'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\n\r\n//Importamos componentes (Logica)\r\nimport Inicio from \"./Inicio/Inicio.js\";\r\nimport Publicacion from \"./Publicacion/Publicacion.js\";\r\nimport InicioSesion from \"./Sesion/InicioSesion.js\";\r\nimport Estilos from './Estilos.js';\r\nimport NotificacionesNav from './Notificaciones/NotificacionesNav.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nexport default function PrimarySearchAppBar() {\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const classes = Estilos();\r\n  let history = useHistory();\r\n  const [despPerf, setdespPerf] = useState(null);\r\n  const [despMenu, setdespMenu] = useState(null);\r\n  const [despNoti, setdespNoti] = useState(null);\r\n  const [traerNotificaciones, settraerNotificaciones] = useState(false);\r\n  const [tipoUsuario, setTipoUsuario] = useState(state.datosSesion.tipo);\r\n  const [notificaciones, setnotificaciones] = useState([])\r\n  const [mensajesnoleidos, setmensajesnoleidos] = useState(0)\r\n  \r\n  //Código de guardado del estado de la sesión\r\n  React.useEffect(()=>{\r\n    let sesion = localStorage.getItem('datosLocal') || null;\r\n    let sesionObjeto = JSON.parse(sesion)\r\n    if(sesionObjeto!==null){\r\n      dispatch({type:\"setDatos\", value: sesionObjeto.datosSesion})\r\n      dispatch({type:\"setJwt\", value: sesionObjeto.jwt})\r\n      let auth = 'Bearer '+sesionObjeto.jwt;\r\n      //dispatch({type:\"setDatos\", value: sesionObjeto.datosSesion});\r\n      //dispatch({type:\"setJwt\", value: sesionObjeto.jwt});\r\n      axios\r\n      .get(state.servidor+\"/users/\"+sesionObjeto.datosSesion.id,{\r\n        headers: {\r\n            'Authorization': auth\r\n        },\r\n      })\r\n      .then(response => {\r\n          // Se registró el usuario correctamente\r\n          console.log('Se ha iniciado sesion correctamente.', response.data)\r\n          dispatch({type:\"setDatos\", value: response.data})\r\n          dispatch({type:\"setJwt\", value: sesionObjeto.jwt})\r\n          \r\n          localStorage.setItem('datosLocal', JSON.stringify({\r\n            jwt: sesionObjeto.jwt,\r\n            datosSesion: response.data\r\n          }));\r\n          mensajesNoleidos(sesionObjeto.jwt, response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Error: \",error.response)\r\n      });\r\n\r\n      axios.get(state.servidor+\"/api/notificaciones?receptor=\"+sesionObjeto.datosSesion.id+\"&leido=false\",{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        setnotificaciones(response.data.reverse())\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n        console.log(error.response)\r\n      })\r\n      \r\n    }else{\r\n      dispatch({type:\"setPublico\", value: true});\r\n    }\r\n  },[])\r\n  \r\n  function mensajesNoleidos(jwt, user){\r\n    let auth = 'Bearer '+jwt;\r\n\r\n    \r\n      axios.get(state.servidor+\"/api/chats/\",{\r\n          headers: {'Authorization': auth},\r\n        })\r\n      .then(response => {\r\n        //Obtenemos todos los chats del sistema y filtramos segun el id de receptor o emisor\r\n        let chats_ = response.data.filter(chat => (chat.receptor.id === user.id || chat.emisor.id === user.id))\r\n        let cantidad = 0\r\n        chats_.map(chat_=>{\r\n          if(chat_.emisor.id===user.id){\r\n            cantidad+= chat_.noleido_emisor\r\n          }\r\n\r\n          if(chat_.receptor.id===user.id){\r\n            cantidad+= chat_.noleido_receptor\r\n          }\r\n        })\r\n        \r\n        setmensajesnoleidos(cantidad)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n        console.log(error.response)\r\n      })\r\n    \r\n  }\r\n  \r\n  useEffect(()=>{\r\n    setTipoUsuario(state.datosSesion.tipo)\r\n  },[state.datosSesion.tipo])\r\n\r\n  const cerrarSesion = () => {\r\n    setdespPerf(null);\r\n    dispatch({type:\"setDatos\", value: {\r\n      apellido: \"\",\r\n      blocked: \"\",\r\n      confirmed: false,\r\n      created_at: \"\",\r\n      descripcion: \"\",\r\n      dni: \"\",\r\n      email: \"\",\r\n      estado: false,\r\n      id: null,\r\n      mostrar_telefono: false,\r\n      nombre: \"\",\r\n      permiso: 0,\r\n      provider: \"local\",\r\n      role: {\r\n        id: 1, name: \"Authenticated\", \r\n        description: \"Default role given to authenticated user.\", \r\n        type: \"authenticated\"\r\n      },\r\n      telefono: \"\",\r\n      tipo: 0,\r\n      ubicacion: \"\",\r\n      updated_at: \"\",\r\n      username: \"\",\r\n      identidad_verificada: false\r\n    }});\r\n    \r\n    dispatch({type:\"setJwt\", value: \"\"});\r\n    dispatch({type:\"setPublico\", value: true});\r\n    localStorage.setItem('datosLocal', JSON.stringify(null));\r\n    history.push(state.ruta+\"/\")\r\n  };\r\n\r\n  const desplegarPerfil = (event) => {\r\n    setdespPerf(event.currentTarget);\r\n  };\r\n  const plegarPerfil = () => {\r\n    setdespPerf(null);\r\n  };\r\n  const desplegarMenu = (event) => {\r\n    setdespMenu(event.currentTarget);\r\n  };\r\n  const plegarMenu = () => {\r\n    setdespMenu(null);\r\n  };\r\n  const desplegarNoti = (event) => {\r\n    settraerNotificaciones(true)\r\n    setdespNoti(event.currentTarget);\r\n  };\r\n  const plegarNoti = () => {\r\n    setdespNoti(null);\r\n  };\r\n  return (\r\n    <div style={{ flexGrow: 1 }}>\r\n      <AppBar position=\"relative\" style={{padding: \"0% 7% 0% 7%\"}}>\r\n        <Toolbar>          \r\n          \r\n          {/*Icono y título*/}\r\n          <Typography style={{flexGrow:1, width:\"200px\"}} component=\"h2\" variant=\"h5\">\r\n            <Link to={state.ruta+\"/\"} style={\r\n              {\r\n                flexGrow: 1,\r\n                textDecoration:\"none\",\r\n                color:\"#393939\",\r\n                fontFamily: \"Homework\",\r\n                fontSize: 50,\r\n                width:\"200px\"\r\n            }}>\r\n              <div style={{display:\"flex\", width:\"200px\", alignItems:\"center\"}}>\r\n                <Avatar style={{width:\"50px\", height:\"50px\"}} src={state.ruta+\"/Icono1.png\"} variant=\"square\" fontSize=\"inherit\"/>\r\n                Servia\r\n              </div>\r\n            </Link>\r\n          </Typography>\r\n          \r\n          <div>\r\n            <Grid container justify=\"center\" alignContent=\"center\">\r\n              <Grid item>\r\n                <Link to={state.ruta+\"/\"} className={classes.botonesNav}>\r\n                  <Button style={{padding:\"20px\"}}>Explorar servicios</Button>\r\n                </Link>\r\n\r\n                {/*<Link to={state.ruta+\"/proveedores\"} className={classes.botonesNav}><Button style={{padding:\"20px\"}}>Proveedores</Button></Link>*/}\r\n\r\n                <Link to={state.ruta+\"/solicitar-servicio\"} hidden={tipoUsuario!==1} className={tipoUsuario===1?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Solicitar servicio</Button>\r\n                </Link>\r\n\r\n                <Link to={state.ruta+\"/mis-servicios-solicitados\"} hidden={tipoUsuario!==1} className={tipoUsuario===1?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Mis servicios solicitados</Button>\r\n                </Link>\r\n\r\n                <Link to={state.ruta+\"/mis-publicaciones\"} hidden={tipoUsuario!==2} className={tipoUsuario===2?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Mis publicaciones</Button>\r\n                </Link>\r\n                \r\n                <Link to={state.ruta+\"/crear-publicacion\"} hidden={tipoUsuario!==2} className={tipoUsuario===2?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Crear publicación</Button>\r\n                </Link>\r\n              </Grid>\r\n\r\n                <Grid item hidden={tipoUsuario>0}>\r\n                  <Button style={{margin:10, padding:\"8px 0px 8px 0px\"}} variant=\"contained\" color=\"secondary\">\r\n                    <InicioSesion mensaje=\"Iniciar sesión\"/>\r\n                  </Button>\r\n                  \r\n                  <Link to={state.ruta+\"/registrar\"} className={classes.EstiloPC} style={{textDecoration:\"none\",color: \"black\"}}>\r\n                    <Button variant=\"contained\" color=\"secondary\" style={{padding:8}}>\r\n                      Registrar cuenta\r\n                    </Button>\r\n                  </Link>\r\n                </Grid>\r\n            </Grid>\r\n          </div>\r\n         \r\n \r\n          <div hidden={tipoUsuario===0}>\r\n              {/*Desplegar notificaciones*/}\r\n              <IconButton color=\"inherit\" onClick={desplegarNoti}>\r\n                <Badge badgeContent={notificaciones.length} color=\"secondary\">\r\n                  <NotificationsIcon /> \r\n                </Badge>\r\n              </IconButton>\r\n              <Menu id=\"simple-menu\" anchorEl={despNoti} keepMounted open={Boolean(despNoti)} onClose={plegarNoti}>\r\n                {\r\n                  traerNotificaciones && <NotificacionesNav notificaciones={notificaciones} plegarNoti={plegarNoti}/>\r\n                }\r\n              </Menu>\r\n\r\n              {/*Componente chats*/}\r\n                <Link to={state.ruta+\"/mis-chats\"} style={{color:\"black\"}}>\r\n                  <IconButton color=\"inherit\">\r\n                      <Badge badgeContent={mensajesnoleidos} color=\"secondary\">\r\n                        <Chat />\r\n                      </Badge>\r\n                  </IconButton>\r\n                </Link>\r\n             \r\n\r\n              {/*Desplegar perfil*/}\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label=\"account of current user\"\r\n                aria-haspopup=\"true\"\r\n                color=\"inherit\"\r\n                onClick={desplegarPerfil}\r\n              >\r\n              <AccountCircle />\r\n              </IconButton>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={despPerf}\r\n              keepMounted\r\n              open={Boolean(despPerf)}\r\n              onClose={plegarPerfil}\r\n            >              \r\n              <MenuItem onClick={plegarPerfil}>\r\n                <Link to={state.ruta+\"/modificar-usuario\"} className={classes.EstiloLink}>\r\n                  <ListItemIcon>\r\n                    <Avatar style={{color:\"gray\", width:\"20px\", height:\"20px\"}} src={state.ruta+\"/usuario_editar.png\"} variant=\"square\" fontSize=\"small\"/>\r\n                  </ListItemIcon>\r\n                  <Typography variant=\"inherit\">Modificar mi perfil</Typography>\r\n                </Link>\r\n              </MenuItem>\r\n              \r\n              <div hidden={tipoUsuario!==2}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <ModificarPerfil fontSize=\"small\" />\r\n                  </ListItemIcon>\r\n                  <Link to={state.ruta+\"/modificar-proveedor\"} className={classes.EstiloLink}><Typography variant=\"inherit\">Modificar mi perfil de proveedor</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <div hidden={tipoUsuario!==2}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <Perfil fontSize=\"small\" />\r\n                  </ListItemIcon>\r\n                  <Link to={state.ruta+\"/perfil-proveedor/\"+state.datosSesion.id} className={classes.EstiloLink}><Typography variant=\"inherit\">Ver mi perfil de proveedor</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <div hidden={tipoUsuario!==2 || state.datosSesion.identidad_verificada === true}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <PriorityHighIcon fontSize=\"small\" /> \r\n                  </ListItemIcon>\r\n                  <Link to={state.ruta+\"/verificar-mi-identidad/\"} className={classes.EstiloLink}><Typography variant=\"inherit\">Verificar mi identidad</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <MenuItem onClick={cerrarSesion}>\r\n                <ListItemIcon>\r\n                  <ExitToAppIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <Typography variant=\"inherit\">Cerrar sesión</Typography>\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n          \r\n          {/*Hamburguesa */}\r\n          <div className={tipoUsuario===0?classes.EstiloMovil:classes.EstiloVacio}>\r\n            <IconButton className={classes.hambur} onClick={desplegarMenu} color=\"inherit\" edge=\"end\" aria-label=\"menu hamburguesa\">\r\n              <MenuIcon/>\r\n            </IconButton>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={despMenu}\r\n              keepMounted\r\n              open={Boolean(despMenu)}\r\n              onClose={plegarMenu}\r\n            >\r\n              <Link to={state.ruta+\"/registrar\"} hidden={tipoUsuario!==0} className={classes.EstiloLink}>\r\n                <MenuItem onClick={plegarMenu}>Crear una nueva cuenta</MenuItem>\r\n                <hr/>\r\n              </Link>\r\n              \r\n              <Link to={state.ruta+\"/\"} className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                <MenuItem onClick={plegarMenu}>\r\n                  <Typography variant=\"inherit\">Explorar servicios</Typography>\r\n                </MenuItem>\r\n              </Link>\r\n\r\n              {/*Usuario*/}\r\n              <div hidden={tipoUsuario<1 || tipoUsuario>2}>\r\n                <Link to={state.ruta+\"/solicitar-servicio\"} className={tipoUsuario===1?classes.EstiloMovil:classes.EstiloVacio} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Solicitar servicio</MenuItem>\r\n                </Link>\r\n                <Link to={state.ruta+\"/mis-servicios-solicitados\"} className={tipoUsuario===1?classes.EstiloMovil:classes.EstiloVacio} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Mis servicios solicitados</MenuItem>\r\n                </Link>\r\n              </div>\r\n\r\n              {/*Proveedor*/}\r\n              <div hidden={tipoUsuario!==2}>\r\n                <Link to={state.ruta+\"/crear-publicacion\"} className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Crear publicación</MenuItem>\r\n                </Link>\r\n                <Link to={state.ruta+\"/mis-publicaciones\"} className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Mis publicaciones</MenuItem>\r\n                </Link>\r\n              </div>\r\n\r\n              {/*Administrador*/}\r\n              <div hidden={tipoUsuario!==3}>\r\n                <Link to={state.ruta+\"/gestionar-reportes\"} className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Gestionar reportes</MenuItem></Link>\r\n                <Link to={state.ruta+\"/verificar-identidad\"} className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Verificar identidades </MenuItem></Link>\r\n                {/*<Link to={state.ruta+\"/administrar-categorias\"} className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Administrar categorías </MenuItem></Link>*/}\r\n              </div>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React,{useState, useContext} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Instagram, Facebook} from '@material-ui/icons/';\r\n\r\n//Material-UI\r\nimport {Typography, Grid, AppBar, Toolbar} from '@material-ui/core/';\r\n\r\nimport Estilos from './Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nexport default function Footer() {\r\n    const classes = Estilos();\r\n    const [contactanos, setcontactanos] = useState(false);\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n\r\n    return (\r\n        <div >\r\n           <AppBar position=\"relative\" bottom=\"0px\" style={{zIndex: 0}}>   \r\n                <Toolbar>\r\n                    <Grid container direction=\"row\" alignItems=\"center\" justify=\"center\">\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            {/*<Link className={classes.EstiloLink} to=\"/sobre-nosotros\">Sobre nosotros</Link><br/>*/}\r\n                            <Link className={classes.EstiloLink} to={state.ruta+\"/preguntas-frecuentes\"}>Preguntas frecuentes</Link>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            {/*<Link className={classes.EstiloLink} to=\"/terminos-de-uso\">Términos de uso</Link><br/>*/}\r\n                            <a href=\"#\" className={classes.EstiloLink} onClick={()=>{setcontactanos(!contactanos)}}>Contáctanos</a>\r\n                            {\r\n                                contactanos && <div>\r\n                                    <a href=\"mailto:angelruggia@gmail.com\" className={classes.EstiloLink}>angelruggia@gmail.com</a><br/>\r\n                                    <a href=\"mailto:ferransolischorvat@gmail.com\" className={classes.EstiloLink}>ferransolischorvat@gmail.com</a>\r\n                                </div>\r\n                            }\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            <Typography>\r\n                                Nuestras redes\r\n                            </Typography>\r\n                            <a href=\"https://www.facebook.com/RuggiaAngel\" target=\"_blank\" className={classes.EstiloLink}><Facebook fontSize=\"large\"/></a>\r\n                            <a href=\"https://www.instagram.com/ferransolischorvat/\" target=\"_blank\" className={classes.EstiloLink}><Instagram fontSize=\"large\"/></a>\r\n                        </Grid>\r\n                        \r\n                    </Grid>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>     \r\n    );\r\n  }","import React,{useState, useEffect} from 'react';\r\nimport {Chip, Grid, TextField, Typography, Button, Card, FormControlLabel, Checkbox, CardContent} from '@material-ui/core/';\r\nimport {Done as Done, Clear as Clear} from '@material-ui/icons';\r\n\r\nimport Estilos from '../Estilos.js'\r\n\r\nexport default function Filtro({tipoPublicacion, settipoPublicacion, servicios, agregarSeleccionado, buscarServicios, inputBusqueda, setinputBusqueda}) {\r\n  const classes = Estilos();\r\n  const [tipo,settipo] = useState(false)\r\n\r\n  useEffect(()=>{\r\n    settipoPublicacion(!tipo)\r\n  },[tipo])\r\n  return (\r\n    <Card className={classes.margenArriba} variant=\"outlined\" className={classes.filaPublicacion}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          Seleccione los filtros deseados\r\n        </Typography>\r\n\r\n        <Grid item xs={12}>    \r\n          <FormControlLabel\r\n            className={classes.inputAncho}\r\n            control={<Checkbox checked={tipo} name=\"tipo\" onChange={(e)=>{settipo(e.target.checked)}}/>}\r\n            label=\"Filtrar por publicaciones de solicitudes de servicios de usuarios.\"\r\n          />\r\n        </Grid>\r\n\r\n        {\r\n          tipoPublicacion &&\r\n          <Grid container className={classes.margenArriba} spacing={2} justify=\"space-around\" alignItems=\"center\">    \r\n            {\r\n              servicios.map((servicio,i) => (\r\n                <Grid item xs={6} sm={4} md={3} lg={2}  key={i}>\r\n                  <SeleccionarServicio key={i} servicio={servicio} agregarSeleccionado={agregarSeleccionado}/>\r\n                </Grid>\r\n              ))\r\n            }\r\n          </Grid>\r\n        }\r\n        \r\n        <TextField\r\n          className={classes.margenArriba}\r\n          value={inputBusqueda}\r\n          color=\"secondary\"\r\n          onChange={(e)=>{setinputBusqueda(e.target.value)}}\r\n          onKeyDown={(e)=>{if(e.key==='Enter'){buscarServicios()}}}\r\n          label=\"Buscar por nombre\" variant=\"outlined\"\r\n          size=\"medium\" fullWidth\r\n        />\r\n        <Button onClick={buscarServicios} className={classes.margenArriba} color=\"secondary\" variant=\"contained\" >Buscar</Button>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction SeleccionarServicio({servicio, agregarSeleccionado}) {\r\n  const classes = Estilos();\r\n  const [hecho_noHecho, setHecho_noHecho] = useState(false);\r\n  const [seleccion, setSeleccion] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    agregarSeleccionado(servicio.id)\r\n    if(seleccion===false){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(true);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Chip clickable color=\"primary\" label={servicio.nombre} icon={hecho_noHecho?<Done/>:<Clear/>} onClick={handleClick}/>\r\n    </div>\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from '@material-ui/core';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nexport default function Alerta({titulo, funcionAceptar, mensaje}) {\r\n  const [open, setOpen] = useState(true);\r\n  const [cargando, setcargando] = useState(false)\r\n  \r\n  const handleClose = (boole) => {\r\n    setcargando(true)\r\n    funcionAceptar(boole)\r\n    setcargando(false)\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={()=>{handleClose(false)}}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{titulo}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {mensaje}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={()=>{handleClose(false)}} variant=\"contained\" color=\"error\">\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={()=>{handleClose(true)}} variant=\"contained\" color=\"primary\" autoFocus>\r\n            Aceptar\r\n          </Button>\r\n          {cargando && <Cargando/>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {Card, Hidden, Typography, Chip, Button, Grid, Tooltip, IconButton, Container } from '@material-ui/core/';\r\nimport Editar from '@material-ui/icons/Edit';\r\nimport Pausa from '@material-ui/icons/Pause';\r\nimport Despausar from '@material-ui/icons/PlayArrow';\r\nimport Eliminar from '@material-ui/icons/DeleteForever';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport Verificado from '@material-ui/icons/CheckCircleOutline';\r\nimport AlertaSi_No from '../AlertaSi_No.js';\r\n\r\nimport Estrellas from '../Estrellas.js';\r\nimport Estilos from '../Estilos';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\n\r\nimport {Link} from \"react-router-dom\";\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { FormatListBulletedRounded } from '@material-ui/icons';\r\n\r\nexport default function FilaPublicacion({tipoPublicacion, datos, contactar, buscarSolicitudes, resenas}) {\r\n  const classes = Estilos();\r\n  const [precioPresupuesto, setPrecioPresupuesto] = useState(\"\");\r\n  const [noMostrar, setnoMostrar] = useState(true);\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [preguntarPausa, setpreguntarPausa] = useState(false);\r\n  const [preguntarEliminar, setpreguntarEliminar] = useState(false);\r\n  const [promedio, setpromedio] = useState(0);\r\n\r\n  const [datosPagina, setdatosPagina] = useState({\r\n    id: null,\r\n    titulo: \"\",\r\n    descripcion: \"\",\r\n    precio_estimado: 0,\r\n    imagenes: [],\r\n    servicio: \"\",\r\n    estrellas:0,\r\n    tipo: false,\r\n    Usuario_id: {id: null, nombre:\"\", apellido: \"\", imagen_perfil:null},\r\n    Servicio_id: {nombre:\"\"},\r\n    pausado: false\r\n  });\r\n\r\n  useEffect(()=>{\r\n    //Dependiendo de si se quiere crear una publicación o solicitar un servicio, se muestra la pantalla correspodiente\r\n    if(tipoPublicacion){\r\n      setPrecioPresupuesto(\"Precio estimado\");\r\n    }else{\r\n      setPrecioPresupuesto(\"Presupuesto\");\r\n    }\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    if(datos.Usuario_id!==null){\r\n      setdatosPagina(datos)\r\n      let x = datos.Usuario_id.id===state.datosSesion.id\r\n      setnoMostrar(!x)\r\n      //console.log(datos.Usuario_id.imagen_perfil.url)\r\n    }\r\n  },[datos])\r\n\r\n  useEffect(()=>{\r\n    if(resenas!==null && resenas!==undefined ){\r\n      \r\n      let total = 0, i = 0\r\n      resenas.resenas.map((resena)=>{\r\n        if(resena.proveedor.id===datos.Usuario_id.id){\r\n          total+=resena.recomendacion\r\n          i++\r\n        }\r\n      })\r\n      setpromedio(total/i)\r\n    }\r\n  },[resenas])\r\n\r\n\r\n  const eliminarPublicacion = (boole) =>{\r\n    let auth = 'Bearer '+state.jwt;\r\n    if(boole){\r\n      axios.delete(\r\n        state.servidor+\"/api/solicitud/\"+datosPagina.id,{\r\n          headers: {'Authorization': auth},\r\n        }\r\n        )\r\n        .then(response => {\r\n          console.log(\"Respuesta eliminar: \",response.data)\r\n          buscarSolicitudes()\r\n        })\r\n        .catch(error => {\r\n          console.log(\"Error, no se ha podido eliminar la publicación.\", error.response)\r\n        })\r\n      }\r\n    setpreguntarEliminar(false)\r\n  } \r\n  \r\n  const pausarPublicacion = (boole) =>{\r\n    let auth = 'Bearer '+state.jwt;\r\n    if(boole){\r\n      let Pausa = !datosPagina.pausado\r\n      axios.put(\r\n      state.servidor+\"/api/solicitud/\"+datosPagina.id,{\r\n        pausado: Pausa\r\n      },{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(\"Respuesta pausa: \",response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Error, no se ha podido pausar la publicación.\", error.response)\r\n      })\r\n      setdatosPagina(prevState => ({\r\n        ...prevState,\r\n        pausado: Pausa\r\n      }))\r\n    }\r\n    setpreguntarPausa(false)\r\n  }\r\n\r\n  return (\r\n    <Card className={classes.filaPublicacion}>\r\n      <Grid container spacing={1} justify=\"center\">\r\n          {\r\n            datosPagina.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n              Esta publicación se encuentra pausada.\r\n            </Alerta>)\r\n          }\r\n          {\r\n            datosPagina.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n              Esta publicación se encuentra bloqueada, contacte a un administrador.\r\n            </Alerta>)\r\n          }\r\n          <Grid container spacing={1} justify=\"center\" alignItems=\"center\">\r\n            <Grid item xs={12} md={3} sm={12} align=\"center\">\r\n              <img \r\n                className={classes.imagenPublicacion}\r\n                src={datosPagina.imagenes.length!==0?state.servidor+datosPagina.imagenes[0].url:state.imagen_predeterminada}\r\n                alt=\"1° imagen\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={9} sm={12}>  \r\n              <Typography align=\"left\" component=\"h5\" variant=\"h5\">\r\n                {`${datosPagina.Usuario_id.nombre} ${datosPagina.Usuario_id.apellido}`}\r\n                <Hidden xlDown={!datosPagina.Usuario_id.identidad_verificada}><Tooltip title=\"Usuario verificado\">\r\n                  <IconButton style={{padding: 1}}><Verificado color=\"inherit\"/></IconButton>\r\n                </Tooltip></Hidden>\r\n              </Typography>\r\n\r\n              <Typography align=\"left\" component=\"h5\" variant=\"h5\">\r\n                  {datosPagina.titulo}\r\n                <Hidden xlDown={noMostrar}>  \r\n                  <Link to={tipoPublicacion?state.ruta+\"/modificar-publicacion/\"+datosPagina.id:state.ruta+\"/modificar-solicitud-servicio/\"+datosPagina.id}>\r\n                  <Tooltip title=\"Editar publicación\">\r\n                    <IconButton ><Editar color=\"primary\" /></IconButton>\r\n                  </Tooltip>\r\n                  </Link>\r\n                  <Tooltip title=\"Pausar publicación\">\r\n                    <IconButton onClick={()=>{setpreguntarPausa(true)}}>{datosPagina.pausado?<Despausar color=\"secondary\" />:<Pausa color=\"primary\" />}</IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Eliminar publicación\">\r\n                    <IconButton onClick={()=>{setpreguntarEliminar(true)}}><Eliminar color=\"error\" /></IconButton>\r\n                  </Tooltip>\r\n                  {\r\n                    preguntarPausa &&\r\n                    <AlertaSi_No\r\n                    mensaje={datosPagina.pausado?\r\n                    'La publicación \"'+datosPagina.titulo+'\" volverá a aparecer en la sección de búsqueda.'\r\n                    :'La publicación \"'+datosPagina.titulo+'\" será pausada y no se mostrará en la sección de búsqueda.'}\r\n                    funcionAceptar={pausarPublicacion}\r\n                    titulo={datosPagina.pausado?\r\n                    \"¿Está seguro que quiere despausar la publicación?\"\r\n                    :\"¿Está seguro que quiere pausar la publicación?\"}/> \r\n                  }\r\n                  {\r\n                    preguntarEliminar &&\r\n                    <AlertaSi_No\r\n                    mensaje={'Se va a eliminar la publicación \"'+datosPagina.titulo+'\", esta acción no se puede revertir.'}\r\n                    funcionAceptar={eliminarPublicacion}\r\n                    titulo=\"¿Está seguro que quiere eliminar la publicación?\"/>\r\n                  }\r\n                </Hidden>  \r\n              </Typography>\r\n              <div style={{overflow: \"auto\", textOverflow: \"ellipsis\", textJustify:\"auto\", align:\"left\", WebkitLineClamp:\"3\", height:\"3\"}}> \r\n                <Typography>\r\n                  {datosPagina.descripcion}\r\n                </Typography>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid item xs={8} sm={12} md={6} lg={3} align=\"center\">\r\n            <Typography component=\"h6\" variant=\"h6\">\r\n              {precioPresupuesto}: ${datosPagina.precio_estimado}\r\n            </Typography>\r\n          </Grid>  \r\n\r\n          {\r\n            (tipoPublicacion && datosPagina.Servicio_id!==null) && (<Grid item xs={4} sm={6} md={6} lg={3} align=\"center\">\r\n            <Chip variant=\"outlined\" label={datosPagina.Servicio_id.nombre}/>\r\n          </Grid>)\r\n          }\r\n\r\n          {\r\n            tipoPublicacion &&\r\n            <Grid item xs={12} sm={6} md={6} lg={3} align=\"center\">\r\n              <Estrellas valor={promedio} clickeable={false} cambiarValor={()=>{}}/>\r\n            </Grid>\r\n          }\r\n          \r\n          {\r\n            datosPagina.Usuario_id.id!==state.datosSesion.id &&\r\n            (datosPagina.tipo?true:state.datosSesion.tipo!==1) &&\r\n            <Grid item xs={6} sm={6} md={6} lg={3} align=\"center\" hidden={!contactar}>\r\n              <BotonContratar\r\n              fijo={false}\r\n              esDePerfil={false}\r\n              datos=\r\n              {{idS: datosPagina.id,\r\n              idP: datosPagina.Usuario_id.id,\r\n              nombre: `${datosPagina.Usuario_id.nombre} ${datosPagina.Usuario_id.apellido}`,\r\n              imagen_perfil: datosPagina.Usuario_id.imagen_perfil===null?null:state.servidor+datosPagina.Usuario_id.imagen_perfil.url}}/>\r\n            </Grid>\r\n          }\r\n           \r\n        <Grid item xs={6} lg={12} md={12} sm={6} align=\"center\">\r\n          <Link to={state.ruta+\"/publicacion/\"+datosPagina.id} style={{textDecoration:\"none\", padding: 0, color:\"black\"}}>\r\n            <Button variant=\"outlined\" color=\"default\">Leer más</Button>\r\n          </Link>\r\n        </Grid>\r\n      </Grid>\r\n    </Card>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport Filtro from './Filtro.js';\r\nimport FilaPublicacion from './FilaPublicacion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport {Typography, Paper} from '@material-ui/core/'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Categoria() {\r\n    const classes = Estilos();\r\n    let { id } = useParams()\r\n    const [serviciosSeleccionados, setServiciosSeleccionados] = useState([])\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [categoria, setcategoria] = useState({nombre:\"\"})\r\n    const [servicios, setservicios] = useState([])\r\n    const [solicitudes, setsolicitudes] = useState([])\r\n    const [cargando, setcargando] = useState(false)\r\n    const [resenas_servicio, setresenas_servicio] = useState(null)\r\n\r\n    const [tipoPublicacion, settipoPublicacion] = useState(true)\r\n    const [inputBusqueda, setinputBusqueda] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            axios.get(state.servidor+\"/api/categorias/\"+id)\r\n            .then(response => {\r\n                setcategoria(response.data)\r\n                setservicios(response.data.servicios)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n        buscarSolicitudes()\r\n    },[state.jwt, state.publico])\r\n\r\n    function buscarSolicitudes(){\r\n        axios.get(state.servidor+\"/api/solicitud?Categoria_id=\"+id+\"&pausado=false&bloqueado=false&tipo=\"+tipoPublicacion)\r\n        .then(response => {\r\n            //Filtramos las publicaciones donde sus proveedores no estén pausados\r\n            setcargando(false)\r\n            if (tipoPublicacion){\r\n                let filtro = response.data.filter((solicitud)=>(solicitud.Usuario_id.estado === false && solicitud.Usuario_id.bloqueado===false))\r\n                setsolicitudes(filtro)\r\n            }else{\r\n                setsolicitudes(response.data)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    const agregarSeleccionado = (servicio) => {\r\n        let encontrado = serviciosSeleccionados.some((elemento) => elemento===servicio);\r\n        \r\n        if(!encontrado){\r\n            setServiciosSeleccionados((arreglo)=>[...arreglo, servicio]);\r\n        }else{\r\n            setServiciosSeleccionados(serviciosSeleccionados.filter((elemento)=>servicio!==elemento));\r\n        }\r\n    }\r\n\r\n    function buscarServicios(){\r\n        let IDS = \"&\"\r\n        setcargando(true)\r\n\r\n        serviciosSeleccionados.map((id)=>{\r\n            if(id!==null){\r\n                IDS+=\"Servicio_id=\"+id+\"&\"\r\n            }\r\n        })\r\n\r\n        if(IDS.length===1){\r\n            if (tipoPublicacion){\r\n                servicios.map((servicio)=>{\r\n                    if(servicio!==null){\r\n                        IDS+=\"Servicio_id=\"+servicio.id+\"&\"\r\n                    }\r\n                })\r\n            }else{\r\n                IDS+=\"Categoria_id=\"+id+\"&\"\r\n            }\r\n        }\r\n\r\n        axios.get(state.servidor+\"/api/solicitud?\"+IDS+\"pausado=false&bloqueado=false&tipo=\"+tipoPublicacion+\"&titulo_contains=\"+inputBusqueda)\r\n        .then(response => {\r\n            if (tipoPublicacion){\r\n                let filtro = response.data.filter((solicitud)=>(solicitud.Usuario_id.estado === false && solicitud.Usuario_id.bloqueado===false))\r\n                setsolicitudes(filtro)\r\n            }else{\r\n                setsolicitudes(response.data)\r\n            }\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(servicios.length!==0){\r\n            let ids_ = \"\"\r\n            servicios.map((servicio_)=>{\r\n                ids_+=\"servicios=\"+servicio_.id+\"&\"\r\n            })\r\n            axios.get(state.servidor+\"/api/resenas?\"+ids_)\r\n            .then(response => {\r\n                let servicios_resena = {}\r\n                response.data.map((resena=>{\r\n                    resena.servicios.map(serv_=>{\r\n                      if(!servicios_resena.hasOwnProperty(serv_.nombre)){\r\n                        servicios_resena[serv_.nombre] = {resenas:[]}\r\n                        servicios_resena[serv_.nombre].resenas.push(resena)\r\n                      }else{\r\n                        servicios_resena[serv_.nombre].resenas.push(resena)\r\n                      }\r\n                    })\r\n                }))\r\n                setresenas_servicio(servicios_resena)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar las reseñas.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[servicios])\r\n\r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} style={{width:950, padding: 15}} className=\"Fondo\">\r\n                <Typography variant=\"h5\" component=\"h2\" align=\"center\">{categoria.nombre}</Typography>\r\n                <Filtro\r\n                    tipoPublicacion={tipoPublicacion}\r\n                    settipoPublicacion={settipoPublicacion}\r\n                    inputBusqueda={inputBusqueda}\r\n                    setinputBusqueda={setinputBusqueda}\r\n                    servicios={servicios}\r\n                    agregarSeleccionado={agregarSeleccionado}\r\n                    buscarServicios={buscarServicios}\r\n                />\r\n                <br/>\r\n                {cargando && <Cargando/>}\r\n                {\r\n                    !cargando && solicitudes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                    Lo sentimos, por el momento no hay {tipoPublicacion?\"publicaciones \":\"solicitudes \"} de servicios que coincidan con los filtros de búsqueda.\r\n                    </Alerta>)\r\n                }\r\n                {\r\n                    solicitudes.map((solicitud, i)=>(\r\n                        <FilaPublicacion\r\n                        key={i}\r\n                        resenas={solicitud.tipo?(resenas_servicio===null?null:resenas_servicio[solicitud.Servicio_id.nombre]):null}\r\n                        buscarSolicitudes={buscarSolicitudes}\r\n                        datos={solicitud}\r\n                        tipoPublicacion={tipoPublicacion}\r\n                        contactar={true}/>\r\n                    ))\r\n                }\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import React,{useEffect, useContext, useState} from 'react';\r\nimport 'react-dropzone-uploader/dist/styles.css'\r\nimport Dropzone from 'react-dropzone-uploader'\r\nimport axios from 'axios'\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nconst SingleFileAutoSubmit = ({cantidad, funcionSetImagen, ids, setcargando}) => {\r\n    const toast = (innerHTML) => {\r\n      const el = document.getElementById('toast')\r\n      el.innerHTML = innerHTML\r\n      el.className = 'show'\r\n      setTimeout(() => { el.className = el.className.replace('show', '') }, 3000)\r\n    }\r\n    const [archivos, setarchivos] = useState([])\r\n    const [archivosSubidos, setarchivosSubidos] = useState([])\r\n\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    useEffect(()=>{\r\n      console.log(ids)\r\n      if(state.datosSesion.id!==null && ids.some(id=>(id!==null))){\r\n        let IDS = \"\"\r\n        ids.map((id)=>{\r\n          if(id!==null){\r\n            IDS+=\"id_in=\"+id+\"&\"\r\n          }\r\n        })\r\n        axios.get(state.servidor+\"/upload/files?\"+IDS)\r\n        .then(response => {\r\n          response.data.map((dat) => {\r\n            hacerArchivo(dat)\r\n          })\r\n        })  \r\n        .catch(error => {\r\n            //let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            console.log(\"Error: \", error.response)\r\n        })\r\n      }\r\n    },[ids])\r\n    \r\n    //Se crea el archivo\r\n    function hacerArchivo(imagen) {\r\n      let imagenUrl = state.servidor+imagen.url\r\n      let file\r\n      fetch(imagenUrl).then(res => {\r\n        res.arrayBuffer().then(buf => {\r\n          file = new File([buf], \"\"+imagen.id, { type: 'image/jpeg' })\r\n          setarchivos([...archivos, file])\r\n          setarchivosSubidos(arch => [...arch, file])\r\n        })\r\n      })\r\n    }\r\n\r\n    const getUploadParams = ({ file, meta }) => {\r\n      funcionSetImagen(file, cantidad, 0, archivosSubidos)\r\n\r\n      //console.log(file)\r\n\r\n      return { url: 'https://httpbin.org/post'}\r\n    }\r\n  \r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n      if (status === 'removed') {\r\n        funcionSetImagen(file, cantidad, 1, archivosSubidos);\r\n        \r\n        //let indice = archivosSubidos.indexOf(file)\r\n        //console.log(indice)\r\n\r\n      }\r\n      if (status === 'uploading'){\r\n        setcargando(true)\r\n      }\r\n      if (status === 'done'){\r\n        setcargando(false)\r\n      }\r\n\r\n\r\n        /*toast(`${meta.name} uploaded!`)\r\n        remove()*/\r\n      }/* else if (status === 'aborted') {\r\n        toast(`${meta.name}, upload failed...`)\r\n      }*/\r\n  \r\n    return (\r\n      <React.Fragment>\r\n        <Dropzone\r\n          getUploadParams={getUploadParams}\r\n          onChangeStatus={handleChangeStatus}\r\n          maxFiles={cantidad}\r\n          initialFiles={ids.length!==0?archivos:null}\r\n          multiple={true}\r\n          maxSizeBytes={5000000}\r\n          canCancel={false}\r\n          accept=\"image/*\"\r\n          inputWithFilesContent={'Subir otra imagen'}\r\n          inputContent={()=>(cantidad===1?`Selecciona ${cantidad} imagen`:`Selecciona hasta ${cantidad} imágenes`)}\r\n          //submitButtonContent=null to remove el botón submit\r\n          styles={{\r\n            dropzone: { width: \"100%\", height: \"100%\", overflow:\"auto\"},\r\n            dropzoneActive: { borderColor: 'green' },\r\n          }}\r\n        />\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  export default SingleFileAutoSubmit;","import React,{useState, useEffect, useContext} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material UI\r\nimport {LinearProgress, Typography, TextField, Button, Divider, Paper, Grid, Checkbox, FormControlLabel, Hidden} from '@material-ui/core/';\r\n\r\n//Libreria para consultar la API del servidor\r\nimport axios from 'axios';\r\n\r\n//Componentes creados\r\nimport Estilos from '../Estilos.js';\r\nimport SubirImagen from '../SubirImagen.js';\r\nimport InicioSesion from \"../Sesion/InicioSesion.js\";\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Registrar({registrar}){\r\n    const classes = Estilos()\r\n    //Variables de la página\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n    const [mensajeAlerta, setmensajeAlerta] = useState(\"\");\r\n    let history = useHistory();\r\n    const [tituloPagina, settituloPagina] = useState(\"\")\r\n    const [cargando, setcargando] = useState(false)\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n \r\n    //Variables de los campos   \r\n    const [imagenes, setimagenes] = useState([])\r\n    const [ImagenPerfil, setImagenPerfil] = useState([])\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [abrir, setabrir] = useState(false);\r\n    const [datos, setdatos] = useState({\r\n        nombre:\"\",\r\n        apellido:\"\",\r\n        email:\"\",\r\n        usuario:\"\",\r\n        telefono:\"\",\r\n        contrasena:\"\",\r\n        contrasena_rep:\"\",\r\n        dni:\"\",\r\n        descripcion:\"\",\r\n        imagen_perfil: null\r\n    });\r\n    //Proveedor\r\n    const [soyProveedor, setSoyProveedor] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            if(!registrar){            \r\n                setdatos({\r\n                    nombre: state.datosSesion.nombre,\r\n                    apellido: state.datosSesion.apellido,\r\n                    email: state.datosSesion.email,\r\n                    usuario: state.datosSesion.username,\r\n                    telefono: state.datosSesion.telefono,\r\n                    contrasena: \"\",\r\n                    contrasena_rep: \"\",\r\n                    dni: state.datosSesion.dni,\r\n                    descripcion: state.datosSesion.descripcion,\r\n                    tipo: state.datosSesion.tipo,\r\n                    imagen_perfil: state.datosSesion.imagen_perfil\r\n                })\r\n                \r\n                if(state.datosSesion.imagen_perfil!==null)\r\n                    setimagenes([state.datosSesion.imagen_perfil.id])\r\n            }\r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    const cambiarInput = (e) =>{\r\n        if(mensaje!==\"\")\r\n            setmensaje(\"\")\r\n        \r\n        let valor = e.target.value;\r\n        let campo = e.target.name;\r\n        setdatos({\r\n            ...datos,\r\n            [campo]: valor\r\n        })\r\n    }\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setImagenPerfil([...ImagenPerfil, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = ImagenPerfil.filter(f => f !== file)\r\n            setImagenPerfil(aux)\r\n        }\r\n    }\r\n\r\n    function subirImagen(datos){\r\n        let archivosNuevos = []\r\n        let auth = 'Bearer '+datos.jwt;\r\n\r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        ImagenPerfil.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imágenes de la publicación\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n        \r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imágenes cargadas a la publicación, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', datos.usuario.id)\r\n            formData.append('field', 'imagen_perfil')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                let usr = datos.usuario\r\n                usr.imagen_perfil = response.data[0]\r\n\r\n                dispatch({type:\"setDatos\", value: usr})\r\n                dispatch({type:\"setJwt\", value: datos.jwt})\r\n\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: datos.jwt,\r\n                    datosSesion: usr\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }\r\n    }\r\n    \r\n    //Funcion para enviar los datos, ya sea de modificación de perfil como de creación de una cuenta nueva\r\n    const enviarDatos = (e) =>{\r\n        e.preventDefault();        \r\n        if(datos.email.search('[.][a-z][a-z]')=== -1 || datos.email.search('[.].*[0-9].*')!== -1 ){\r\n            setmensaje(\"El email se encuentra escrito incorrectamente\");\r\n        }else{\r\n        if(registrar){\r\n            if(datos.contrasena!==datos.contrasena_rep){\r\n                setmensaje(\"Las contraseñas no coinciden\")\r\n            }else if(datos.contrasena.length < 8){\r\n                setmensaje(\"La contraseña debe tener al menos 8 caracteres\");\r\n            }else{\r\n                //Si se entra a acá, significa que se quiere crear un nuevo usuario\r\n                enviarPost()\r\n            }\r\n        }else{\r\n            if(datos.email.search('[.][a-z][a-z]')=== -1 || datos.email.search('[.].*[0-9].*')!== -1 ){\r\n                setmensaje(\"El email se encuentra escrito incorrectamente\");\r\n            }else{\r\n                //Si se entra a acá, significa que se quiere modificar el usuario                \r\n                enviarPut()\r\n            }\r\n        }}\r\n    \r\n    }\r\n\r\n    function enviarPut(){\r\n        let auth = 'Bearer '+state.jwt;\r\n        setcargando(true)\r\n        axios.put(\r\n            state.servidor+\"/users/\"+state.datosSesion.id\r\n            ,{\r\n                username: datos.usuario,\r\n                email: datos.email,\r\n                nombre: datos.nombre,\r\n                apellido: datos.apellido,\r\n                telefono: datos.telefono,\r\n                dni: datos.dni,\r\n                descripcion: datos.descripcion,\r\n                tipo: datos.tipo===2?2:soyProveedor?2:1\r\n            },\r\n            {\r\n                headers: {\r\n                    'Authorization': auth\r\n                },\r\n            }\r\n        )\r\n        .then(response => {\r\n            dispatch({type:\"setDatos\", value: response.data})\r\n            dispatch({type:\"setJwt\", value: state.jwt})\r\n\r\n            subirImagen({usuario: response.data, jwt: state.jwt})\r\n\r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: state.jwt,\r\n                datosSesion: response.data\r\n            }));\r\n\r\n            setcargando(false)\r\n            setmensajeAlerta(\"¡Cambios guardados!\")\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(state.ruta+\"/\"); }, 3000);\r\n        })\r\n        .catch(error => {\r\n            let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            console.log(\"error: \",error.response)\r\n            if(err===\"Auth.form.error.email.taken\")\r\n                setmensaje('El email ya está en uso.');\r\n            else if(err===\"Auth.form.error.username.taken\")\r\n                setmensaje('El usuario ya está en uso.');\r\n            else{\r\n                setmensaje(err)\r\n            }\r\n            setcargando(false)\r\n        })\r\n    }\r\n\r\n    function enviarPost(){\r\n        setcargando(true)\r\n        axios\r\n        .post(state.servidor+\"/auth/local/register\", {\r\n            username: datos.usuario,\r\n            email: datos.email,\r\n            password: datos.contrasena,\r\n            nombre: datos.nombre,\r\n            apellido: datos.apellido,\r\n            telefono: datos.telefono,\r\n            dni: datos.dni,\r\n            descripcion: datos.descripcion,\r\n            tipo: soyProveedor?2:1,\r\n            confirmed: false,\r\n            estado: false,\r\n            mostrar_telefono: false,\r\n            identidad_verificada: false,\r\n            espera_verificacion: false,\r\n            bloqueado: false\r\n        })\r\n        .then(response => {\r\n            \r\n            dispatch({type:\"setDatos\", value: response.data.user})\r\n            dispatch({type:\"setJwt\", value: response.data.jwt})                        \r\n            \r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: response.data.jwt,\r\n                datosSesion: response.data.user\r\n            }));\r\n\r\n            subirImagen({usuario: response.data.user, jwt: response.data.jwt})\r\n            \r\n            setcargando(false)\r\n            setmensajeAlerta(\"Usuario creado. ¡Bienvenido a Servia!\")\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(state.ruta+\"/\"); }, 6000);\r\n        })\r\n        .catch(error => {\r\n            // Ocurrió un error\r\n            let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            if(err===\"Auth.form.error.email.taken\")\r\n                setmensaje('El email ya está en uso.');\r\n            else if(err===\"Auth.form.error.username.taken\")\r\n                setmensaje('El usuario ya está en uso.');\r\n            else\r\n                setmensaje(err)\r\n\r\n            setcargando(false)\r\n        });\r\n    }\r\n\r\n    /*Cuando se renderiza la pagina debemos saber si ha sido invocada para registrar un usuario o\r\n    para modificar datos  */\r\n    useEffect(()=>{\r\n        if(!registrar){\r\n            settituloPagina(\"Modificar mi perfil\")\r\n        }else{\r\n            settituloPagina(\"Registrar usuario\")\r\n        }\r\n    },[])\r\n    \r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} >\r\n                <form onSubmit={enviarDatos}>\r\n                    <Grid className={classes.gridRegistro} spacing={1} container justify=\"space-between\" alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.inputAncho}>\r\n                                {tituloPagina}\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"text\"\r\n                            name=\"nombre\"\r\n                            value={datos.nombre}\r\n                            onChange={cambiarInput}\r\n                            label=\"Nombre\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"text\"\r\n                            name=\"apellido\"\r\n                            value={datos.apellido}\r\n                            onChange={cambiarInput}\r\n                            label=\"Apellido\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <SubirImagen cantidad={1} setcargando={setcargando} funcionSetImagen={funcionSetImagen} ids={imagenes}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            name=\"email\"\r\n                            value={datos.email}\r\n                            onChange={cambiarInput}\r\n                            label=\"Correo electrónico\"\r\n                            variant=\"filled\"\r\n                            type=\"email\"\r\n                            required />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            name=\"usuario\"\r\n                            value={datos.usuario}\r\n                            onChange={cambiarInput}\r\n                            label=\"Usuario\"\r\n                            variant=\"filled\"\r\n                            required />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"number\"\r\n                            name=\"telefono\"\r\n                            value={datos.telefono}\r\n                            onChange={cambiarInput}\r\n                            label=\"Telefono\"\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n                        <Divider/>\r\n                        <Hidden xlDown={!registrar}>\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    required={registrar}\r\n                                    name=\"contrasena\"\r\n                                    value={datos.contrasena}\r\n                                    onChange={cambiarInput}\r\n                                    type=\"password\"\r\n                                    label=\"Contraseña\"\r\n                                    variant=\"filled\"\r\n                                    className={classes.inputAncho} \r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}> \r\n                                <TextField\r\n                                    required={registrar}\r\n                                    name=\"contrasena_rep\"\r\n                                    value={datos.contrasena_rep}\r\n                                    onChange={cambiarInput}\r\n                                    type=\"password\"\r\n                                    label=\"Repetir contraseña\"\r\n                                    variant=\"filled\"\r\n                                    className={classes.inputAncho}\r\n                                />\r\n                            </Grid>\r\n                        </Hidden>\r\n                        \r\n                        <Hidden xlDown={mensaje===\"\"}>\r\n                            <Grid item xs={12}>\r\n                                <Typography color=\"error\">\r\n                                    {mensaje}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Hidden xlDown={state.datosSesion.tipo>1}>\r\n                                <OkProveedor soyProveedor={soyProveedor} setSoyProveedor={setSoyProveedor}/>\r\n                            </Hidden>\r\n                        </Grid>\r\n                        \r\n                        <div className={classes.inputAncho} hidden={!cargando}>\r\n                            <LinearProgress />\r\n                        </div>\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                            type=\"submit\"\r\n                            className={classes.inputAncho}\r\n                            size=\"large\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={cargando}>\r\n                            {registrar?\"Registrar Usuario\":\"Guardar cambios\"}\r\n                            </Button>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12} hidden={!registrar}>\r\n                            <InicioSesion mensaje={\"¿Ya tienes una cuenta?\"}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n                <AlertaMensaje mensaje={mensajeAlerta} abrir={abrir} setabrir={setabrir}/>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction OkProveedor({setSoyProveedor, soyProveedor}) {\r\n    const manejarCambio = (event) => {\r\n        setSoyProveedor(!soyProveedor);\r\n    };\r\n\r\n    return (\r\n        <FormControlLabel\r\n            control={<Checkbox checked={soyProveedor} onChange={manejarCambio} name=\"checkedB\" color=\"primary\"/>}\r\n            label=\"Soy proveedor de servicios\"\r\n        />\r\n    );\r\n}","import React,{useState, useContext, useEffect} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material-UI\r\nimport {Hidden, Typography, TextField, FormControl, Button, Paper, Grid, Checkbox, FormControlLabel} from '@material-ui/core/';\r\nimport BarraDeCarga from '@material-ui/core/LinearProgress'\r\n//Componentes\r\nimport SubirImagenes from '../SubirImagen.js';\r\nimport CategoriaSeleccion from '../CategoriaSeleccion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport SeleccionarServicio from '../SeleccionarServicio.js';\r\n\r\nimport axios from 'axios';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Registrar() {\r\n    const classes = Estilos();\r\n    let history = useHistory();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [cargando, setcargando] = useState(false)\r\n    const [controlGuardar, setcontrolGuardar] = useState(false)\r\n    const [categorias, setcategorias] = useState([])\r\n    const [serviciosSeleccionados, setserviciosSeleccionados] = useState([])\r\n    const [mensaje, setmensaje] = useState(false)\r\n    const [abrir, setabrir] = useState(false)\r\n\r\n    const [datos, setdatos] = useState({\r\n        descripcion: \"\",\r\n        estado: false,\r\n        mostrar_telefono: false,\r\n        pasarImagenes: [] \r\n    });\r\n\r\n    const [imagenes, setimagenes] = useState([])\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setimagenes([...imagenes, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = imagenes.filter(f => f.file !== file)\r\n            setimagenes(aux)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            //Asignamos el estado a las variables de los componentes\r\n            let pasar = state.datosSesion.imagenes_proveedor.map((item)=>(item.id))\r\n            setdatos({\r\n                descripcion: state.datosSesion.descripcion,\r\n                estado: state.datosSesion.estado,\r\n                mostrar_telefono: state.datosSesion.mostrar_telefono,\r\n                pasarImagenes: pasar\r\n            })\r\n\r\n            //Buscamos las categorias para cargarlas en los checkboxes\r\n            axios.get(\r\n                state.servidor+\"/api/categorias\"\r\n            )\r\n            .then(response => {\r\n                response.data.map((item)=>{\r\n                    item[\"seleccionado\"] = false\r\n\r\n                    item.servicios.map((itemserv) =>{\r\n                        itemserv[\"seleccionado\"] = false\r\n                    })\r\n\r\n                    if(state.datosSesion.servicios.length!==0){\r\n                        response.data.map((categoria) =>{\r\n                            categoria.servicios.map((servicio) =>{\r\n\r\n                                state.datosSesion.servicios.map((servicioSesion)=>{\r\n                                    if(servicioSesion.categoria === categoria.id){\r\n                                        categoria.seleccionado = true\r\n                                    }\r\n\r\n                                    if(servicioSesion.id===servicio.id){\r\n                                        servicio.seleccionado = true\r\n                                    }\r\n                                })\r\n\r\n                            })\r\n                        })\r\n                    }                \r\n                })\r\n                setcategorias(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    const cambiarCheckbox = (e) =>{  \r\n        if(!controlGuardar)\r\n            setcontrolGuardar(true)\r\n        \r\n        let valor = e.target.checked;\r\n        let campo = e.target.name;\r\n        setdatos({\r\n            ...datos,\r\n            [campo]: valor\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(\"img nuevas:\", imagenesSubidas)\r\n    }, [imagenesSubidas])\r\n\r\n    const guardarDatos = () => {\r\n        let aux = [];\r\n        categorias.map((categoria)=>{\r\n            if(categoria.seleccionado){\r\n                categoria.servicios.map((servicio)=>{\r\n                    if(servicio.seleccionado){\r\n                        aux.push(servicio.id)\r\n                        if(!controlGuardar){\r\n                            setcontrolGuardar(true)\r\n                        }\r\n                        console.log(\"control\", controlGuardar)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n        if(aux.length!==0){\r\n            setmensaje(false)\r\n        }else{\r\n            setmensaje(true)\r\n        }\r\n\r\n        setserviciosSeleccionados(aux)\r\n    }\r\n    \r\n    function subirImagenes(_id_){\r\n        let archivosNuevos = []\r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        imagenes.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"imagenes perfil:\", imagenes)\r\n        console.log(\"nuevos:\", archivosNuevos)\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"borrados:\", archivosBorrados)\r\n\r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imágenes de la publicación\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n        \r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imágenes cargadas a la publicación, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', _id_)\r\n            formData.append('field', 'imagenes_proveedor')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                console.log(\"Respuesta imagen: \",response.data)\r\n                let usr = state.datosSesion\r\n                usr.imagenes_proveedor = response.data\r\n\r\n                dispatch({type:\"setDatos\", value: usr})\r\n                dispatch({type:\"setJwt\", value: state.jwt})\r\n\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: state.jwt,\r\n                    datosSesion: usr\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error al cargar las imágenes.\")\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(serviciosSeleccionados.length!==0){\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            setcargando(true)\r\n            subirImagenes(state.datosSesion.id)\r\n\r\n            console.log(\"Se envian los datos\")\r\n            axios.put(\r\n                state.servidor+\"/users/\"+state.datosSesion.id\r\n                ,{\r\n                    descripcion: datos.descripcion,\r\n                    estado: datos.estado,\r\n                    mostrar_telefono: datos.mostrar_telefono,\r\n                    servicios : serviciosSeleccionados\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Authorization': auth\r\n                    },\r\n                }\r\n            )\r\n            .then(response => {\r\n                console.log(\"Respuesta cambio: \",response.data)\r\n                \r\n                let datos_ayuda = response.data\r\n\r\n                dispatch({type:\"setDatos\", value: response.data})\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: state.jwt,\r\n                    datosSesion: datos_ayuda\r\n                }));\r\n\r\n                console.log(\"Sus datos se han modificado correctamente!\")\r\n                setabrir(true)\r\n                setcargando(false)\r\n                //history.push(\"/\")\r\n            })\r\n            .catch(error => {\r\n                console.log(error.response)\r\n                alert(\"Ha ocurrido un error al guardar los datos\")\r\n                setcargando(false)\r\n            })\r\n        }\r\n    },[serviciosSeleccionados])\r\n    //-----------------------------------------------------------------------------------------------------------------------------------------------------\r\n    \r\n    return (\r\n        <div className= {classes.fondo}>\r\n            <Paper elevation={3} className= {classes.pantallaMedia}>\r\n                <FormControl color=\"primary\" fullWidth>\r\n                    <Grid className={classes.filaPublicacion} container direction=\"row\" justify=\"space-around\" alignItems=\"center\" spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\">\r\n                                Modificar mis datos de proveedor\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>    \r\n                            <FormControlLabel\r\n                                className={classes.inputAncho}\r\n                                control={<Checkbox checked={datos.estado} name=\"estado\" onChange={cambiarCheckbox}/>}\r\n                                label=\"Pausar mis servicios\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>    \r\n                            <FormControlLabel\r\n                                className={classes.inputAncho}\r\n                                control={<Checkbox name=\"mostrar_telefono\" checked={datos.mostrar_telefono} onChange={cambiarCheckbox}/>}\r\n                                label=\"Mostrar mi número de teléfono\"\r\n                            />\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            onChange={(e)=>{\r\n                                setdatos({\r\n                                ...datos,\r\n                                descripcion: e.target.value\r\n                                })\r\n                                if(!controlGuardar)\r\n                                    setcontrolGuardar(true)\r\n                            }}\r\n                            name=\"descripcion\"\r\n                            value={datos.descripcion}\r\n                            id=\"filled-basic\"\r\n                            label=\"Descripción\"\r\n                            multiline\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            <SubirImagenes setcargando={setcargando} cantidad={10} funcionSetImagen={funcionSetImagen} ids={datos.pasarImagenes}/>\r\n                        </Grid>\r\n                        \r\n                        <AlertaMensaje mensaje=\"¡Tus datos se han guardado correctamente!\" abrir={abrir} setabrir={setabrir}/>\r\n\r\n                        <Grid item xs={12} >\r\n                            <Typography variant=\"h6\" component=\"h3\" align=\"left\" className={classes.alinearInputs}>\r\n                                Selecciona los servicios que ofreces\r\n                            </Typography>\r\n                        </Grid>\r\n                        \r\n                        \r\n                        {\r\n                            categorias.map((categoria, i)=>(\r\n                                <Grid key={i} item xs={12}>\r\n                                    <Grid container justify=\"flex-start\">\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    checked={categoria.seleccionado}\r\n                                                    onChange={(e)=>{setcategorias(categorias.map((cat, j)=>{\r\n                                                        if(i===j){\r\n                                                            cat.seleccionado = e.target.checked\r\n                                                        }\r\n                                                        return cat\r\n                                                    }))}}\r\n                                                />}\r\n                                            label={categoria.nombre}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Hidden xlDown={!categoria.seleccionado}>\r\n                                        <Grid container spacing={2} justify=\"space-around\">    \r\n                                            {\r\n                                                categoria.servicios.map((servicio,k) => (\r\n                                                <Grid item xs={6} sm={4} md={3} lg={2} key={k}>\r\n                                                    <SeleccionarServicio\r\n                                                    servicio={servicio} \r\n                                                    agregarSeleccionado={(valor)=>{\r\n                                                        servicio.seleccionado = valor\r\n                                                        //Asignamos los valores \"true\" a aquellos servicios que son seleccionados\r\n                                                        setcategorias(categorias.map((cat, j)=>{\r\n                                                            if(i===j){\r\n                                                                cat.servicios[k] = servicio\r\n                                                            }\r\n                                                            return cat\r\n                                                        }))\r\n                                                    }}/>\r\n                                                </Grid>\r\n                                                ))\r\n                                            }\r\n                                        </Grid>\r\n                                    </Hidden>\r\n                                </Grid>\r\n                            ))\r\n                        }\r\n                        \r\n                        <Hidden xlDown={!mensaje || cargando}>\r\n                            <Grid item xs={12} align=\"center\">\r\n                                <Typography color=\"error\">\r\n                                    Debe seleccionar al menos un servicio.\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n\r\n                        <div className={classes.inputAncho} hidden={!cargando}>\r\n                            <BarraDeCarga/>\r\n                        </div>\r\n\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button onClick={guardarDatos} disabled={cargando} size=\"large\" variant=\"contained\" color=\"primary\">Guardar</Button>\r\n                        </Grid>\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button onClick={()=>{history.push(state.ruta+\"/\")}} size=\"large\" variant=\"contained\" color=\"secondary\">Cancelar</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </FormControl>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import React, {useEffect, useState, useContext} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport {Grid, Container} from '@material-ui/core/';\r\nimport ProveedorInfo from '../Publicacion/ProveedorInfo.js';\r\nimport PublicacionInfo from '../Publicacion/PublicacionInfo.js';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado' \r\nexport default function MiPerfil() {\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        descripcion:\"\",\r\n        titulo:\"\",\r\n        identidad_verificada: false,\r\n        telefono: \"\",\r\n        mostrar_telefono: false,\r\n        servicios: [],\r\n        imagenes: [],\r\n        bloqueado: false,\r\n        imagen_perfil: \"\",\r\n        //Datos de publicación\r\n        precio_estimado: \"perfil\",\r\n        pausado: false,\r\n        tipo: false,\r\n        categoria:\"\",\r\n        servicio:\"\",\r\n        estrella: 0,\r\n    })\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    \r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico===true){\r\n            let auth = state.jwt!==\"\"?'Bearer '+state.jwt:\"\";\r\n            axios.get(\r\n            state.servidor+\"/users/\"+id,{\r\n                headers: {\r\n                'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                setdatosPagina({\r\n                    id: response.data.id,\r\n                    descripcion: response.data.descripcion,\r\n                    titulo: `${response.data.nombre} ${response.data.apellido}`,\r\n                    identidad_verificada: response.data.identidad_verificada,\r\n                    telefono: response.data.telefono,\r\n                    mostrar_telefono: response.data.mostrar_telefono,\r\n                    servicios: response.data.servicios,\r\n                    imagenes: response.data.imagenes_proveedor,\r\n                    bloqueado: response.data.bloqueado,\r\n                    pausado:  response.data.estado,\r\n                    precio_estimado: \"perfil\",\r\n                    imagen_perfil: response.data.imagen_perfil===null?null:response.data.imagen_perfil.url\r\n                })\r\n                console.log(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar el usuario.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"stretch\">\r\n                <Grid item md={8} xs={12} >\r\n                    <PublicacionInfo esDePerfil={true} datosPagina={datosPagina}/>\r\n                </Grid> \r\n                <Grid item md={4} xs={12} >\r\n                    <ProveedorInfo esDePerfil={true} datosPerfil={datosPagina}/>\r\n                </Grid>\r\n                {\r\n                    //Si no es el proveedor que se está viendo, tiene servicios para ofrecer y el proveedor no está bloqueado ni pausado, ofrecemos la posibilidad de contactarse\r\n                    datosPagina.id!==state.datosSesion.id &&\r\n                    datosPagina.servicios.length!==0 &&\r\n                    !datosPagina.pausado &&\r\n                    !datosPagina.bloqueado &&\r\n                    <BotonContratar\r\n                    fijo={true}\r\n                    esDePerfil={true}\r\n                    datos={{idS: null, idP: datosPagina.id, nombre: datosPagina.titulo, servicios: datosPagina.servicios}}/>\r\n                }\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\n","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\nimport {useHistory } from 'react-router-dom'\r\n\r\nimport {Typography, TextField, FormControl, Button, Paper, Grid, Select, MenuItem, InputLabel, Hidden} from '@material-ui/core';\r\nimport SubirImagenes from '../SubirImagen.js';\r\nimport {useParams} from 'react-router-dom'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function CrearPublicacion({tipoPublicacion, modificar}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    let history = useHistory();\r\n    const [precioPresupuesto, setPrecioPresupuesto] = useState(\"\");\r\n    const [titulo, setTitulo] = useState(\"\");\r\n    const [categorias, setcategorias] = useState([]);\r\n    const [servicios, setservicios] = useState([]);\r\n    const [cargando, setcargando] = useState(false);\r\n    const [imagenes, setimagenes] = useState([]);\r\n    const [abrir, setabrir] = useState(false);\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n\r\n    //Datos de la pagina\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        titulo:\"\",\r\n        precio_estimado: \"\",\r\n        Categoria_id: {nombre: \"\"},\r\n        Servicio_id: {nombre:\"\"},\r\n        descripcion:\"\",\r\n        imagenes:[],\r\n        pausado: false,\r\n        bloqueado: false\r\n    });\r\n\r\n    useEffect(()=>{\r\n        //Dependiendo de si se quiere crear una publicación o solicitar un servicio, se muestra la pantalla correspodiente\r\n        if(tipoPublicacion){\r\n            setTitulo(modificar?\"Modificar publicación\":\"Crear publicación\");\r\n            setPrecioPresupuesto(\"Precio estimado\");\r\n        }else{\r\n            setTitulo(modificar?\"Modificar solicitud de servicio\":\"Solicitar servicio\");\r\n            setPrecioPresupuesto(\"Presupuesto\");\r\n        }\r\n        if (state.jwt!==\"\" || state.publico===true){\r\n            setcargando(true)\r\n            axios.get(state.servidor+\"/api/categorias\")\r\n            .then(response => {\r\n                setcategorias(response.data)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[state.jwt, state.publico, tipoPublicacion, modificar])\r\n\r\n    useEffect(()=>{\r\n        if(modificar && categorias.length!==0){\r\n            setcargando(true)\r\n            axios.get(state.servidor+\"/api/solicitud/\"+id)\r\n            .then(response => {             \r\n                if (state.datosSesion.id===response.data.Usuario_id.id){\r\n                    response.data[\"imagenes\"] = response.data.imagenes.map((imagen)=>(imagen.id))\r\n                    setdatosPagina(response.data)\r\n                    if (tipoPublicacion)\r\n                        categorias.map(cat =>{\r\n                            if(cat.id===response.data.Servicio_id.categoria){\r\n                                setservicios(cat.servicios)\r\n                            }\r\n                        })\r\n                }else{\r\n                    history.push(state.ruta+\"/\")\r\n                }\r\n                setcargando(false)\r\n                \r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar la solicitud.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[categorias])\r\n    \r\n    //Funcion para captar los cambios en los inputs \r\n    function modificarInput(e){\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    \r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setimagenes([...imagenes, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = imagenes.filter(f => f !== file)\r\n            setimagenes(aux)\r\n        }\r\n        \r\n        setimagenesSubidas(subidas)\r\n    }\r\n\r\n    const guardarDatos = (e) => {\r\n        e.preventDefault()\r\n        setcargando(true)\r\n        const formData = new FormData()\r\n\r\n        let archivosNuevos = []\r\n        \r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        imagenes.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        \r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imágenes de la publicación\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n\r\n        //Se cargan en el fromData las nuevas imágenes cargadas a la publicación, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files.imagenes', archivosNuevos[i])\r\n        }\r\n        formData.append('data', JSON.stringify({\r\n            titulo: datosPagina.titulo,\r\n            precio_estimado: datosPagina.precio_estimado===\"\"?0:datosPagina.precio_estimado,\r\n            descripcion: datosPagina.descripcion,\r\n            Categoria_id: datosPagina.Categoria_id.id,\r\n            Servicio_id: tipoPublicacion?datosPagina.Servicio_id.id:null,\r\n            Usuario_id: state.datosSesion.id,\r\n            pausado: false,\r\n            tipo: tipoPublicacion\r\n        }))\r\n\r\n\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Si se está creando una publicación, se procede a la creación del la entrada en la tabla correspondiente.\r\n        if (!modificar){\r\n            axios.post(\r\n                state.servidor+\"/api/solicitud\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n            })\r\n            .then(response => {\r\n                console.log(\"Respuesta subir solicitud: \",response.data)\r\n                let estaServicio = state.datosSesion.servicios.some(servicio=>(servicio.id===datosPagina.Servicio_id.id))\r\n\r\n                if (tipoPublicacion && !estaServicio){\r\n                    let servicios_id = state.datosSesion.servicios.map(servicio_=>(servicio_.id))\r\n                    servicios_id.push(datosPagina.Servicio_id.id)\r\n\r\n                    axios.put(\r\n                        state.servidor+\"/users/\"+state.datosSesion.id,{\r\n                            servicios: servicios_id\r\n                        },\r\n                        {headers: {'Authorization': auth},\r\n                    })\r\n                    .then(response => {\r\n                        setcargando(false)\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error.response)\r\n                        alert(\"Ha ocurrido un error al guardar los datos\")\r\n                        setcargando(false)\r\n                    })\r\n                }\r\n                setcargando(false)\r\n                setmensaje(\"¡Publicación creada!\")\r\n                setabrir(true)\r\n                setTimeout(() => {  history.push(state.ruta+\"/\"); }, 3000);\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido crear la solicitud.\", error.response)\r\n            })\r\n        //Si se desea modificar una publicación, se envía la petición con los nuevos datos\r\n        }else{\r\n            axios.put(\r\n                state.servidor+\"/api/solicitud/\"+id,\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                console.log(\"Respuesta modificar solicitud: \",response.data)\r\n                if (response.data.bloqueado)\r\n                    modificarBloqueadoReporte()\r\n                setcargando(false)\r\n                setmensaje(\"¡Publicación modificada!\")\r\n                setabrir(true)\r\n                setTimeout(() => {  history.push(state.ruta+\"/\"); }, 3000);\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido modificar la solicitud.\", error.response)\r\n            })\r\n        }\r\n    }\r\n\r\n    function modificarBloqueadoReporte(){\r\n        let auth = 'Bearer '+state.jwt;\r\n\r\n        axios.get(\r\n            state.servidor+\"/api/reportes?Solicitud_id=\"+datosPagina.id,\r\n            {\r\n                headers: {\r\n                    'Authorization': auth\r\n            },\r\n        })\r\n        .then(response => {\r\n            console.log(\"Set bloqueado false: \",response.data)\r\n            let reportes_ = response.data.filter((reporte)=>reporte.estado === 1)\r\n\r\n            reportes_.map(report => {\r\n                axios.put(\r\n                    state.servidor+\"/api/reportes/\"+report.id,{\r\n                        estado: -1\r\n                    },{\r\n                        headers: {\r\n                            'Authorization': auth\r\n                    },\r\n                })\r\n                .then(response => {\r\n                    console.log(\"estado -1: \",response.data)                    \r\n                })\r\n                .catch(error => {\r\n                    console.log(\"1.\", error.response)\r\n                })\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log(\"2.\", error.response)\r\n        })\r\n    }\r\n\r\n    //Al seleccionar una categoría, se procede a cargarlo en el campo correspondiente y setear los servicios que se deben mostrar\r\n    function seleccionarCategoria(e){\r\n        let categoriaSeleccionada = categorias.filter((cat) => cat.nombre === e.target.value)\r\n        setservicios(categoriaSeleccionada[0].servicios)\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            Categoria_id: categoriaSeleccionada[0],\r\n            Servicio_id: {nombre:\"\"}\r\n        })\r\n    }\r\n\r\n    function seleccionarServicio(e){\r\n        let servicioSeleccionado\r\n        categorias.map((cat) =>{\r\n            if(cat.nombre===datosPagina.Categoria_id.nombre){\r\n                servicioSeleccionado = cat.servicios.filter((serv) => serv.nombre === e.target.value)\r\n            }\r\n        })\r\n        console.log(servicioSeleccionado[0])\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            Servicio_id: servicioSeleccionado[0]   \r\n        })\r\n    }\r\n\r\n    function cancelar(){\r\n        history.push(state.ruta+\"/\")    \r\n    }\r\n\r\n    return ( \r\n    <div className={classes.fondo}>\r\n        <Paper elevation={3} style={{padding: \"10px\"}} className=\"Fondo\">\r\n            <form onSubmit={guardarDatos}>\r\n                <FormControl className={classes.padding2} color=\"primary\" fullWidth>\r\n                    <Grid className={classes.pantallaMedia} container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\">\r\n                                {titulo}\r\n                            </Typography>\r\n                        </Grid>\r\n                        \r\n                        <Grid item sm={8} xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.titulo}\r\n                            name=\"titulo\"\r\n                            className={classes.inputAncho}\r\n                            id=\"filled-basic\"\r\n                            label=\"Título de la publicación\"\r\n                            variant=\"filled\"\r\n                            maxLength={50}\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item sm={4} xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.precio_estimado}\r\n                            name=\"precio_estimado\"\r\n                            type=\"number\"\r\n                            className={classes.inputAncho}\r\n                            id=\"formatted-numberformat-input\"\r\n                            label={precioPresupuesto}\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item sm={6} xs={12}>\r\n                            <FormControl className={classes.inputAncho}>\r\n                                <InputLabel id=\"Categoria_id\" variant=\"filled\">Categoría</InputLabel>\r\n                                <Select\r\n                                    value={datosPagina.Categoria_id.nombre}\r\n                                    name=\"Categoria_id\"\r\n                                    onChange={seleccionarCategoria}\r\n                                    id=\"Categoria_id\"\r\n                                    labelId=\"Categoria_id\"\r\n                                    variant=\"filled\"\r\n                                    label=\"Categoría\"\r\n                                    required>\r\n                                    {\r\n                                        categorias.map((categoria, i)=>(\r\n                                            <MenuItem key={i} value={categoria.nombre}>{categoria.nombre}</MenuItem>\r\n                                        ))\r\n                                    }\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        \r\n                        {\r\n                            tipoPublicacion &&\r\n                            (<Grid item sm={6} xs={12}>\r\n                                <FormControl className={classes.inputAncho}>\r\n                                    <InputLabel id=\"Servicio_id\" variant=\"filled\">Servicio</InputLabel>\r\n                                    <Select \r\n                                        value={datosPagina.Servicio_id.nombre}\r\n                                        name=\"Servicio_id\"\r\n                                        id=\"Servicio_id\"\r\n                                        labelId=\"Servicio_id\"\r\n                                        onChange={seleccionarServicio} \r\n                                        label=\"Servicio\"\r\n                                        variant=\"filled\"\r\n                                        required>\r\n                                        {\r\n                                            servicios.map((servicio, i)=>(\r\n                                                <MenuItem key={i} value={servicio.nombre}>{servicio.nombre}</MenuItem>\r\n                                            ))\r\n                                        }   \r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>)\r\n                        }\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.descripcion}\r\n                            name=\"descripcion\"\r\n                            className={classes.inputAncho}\r\n                            id=\"filled-basic\"\r\n                            label=\"Descripción\"\r\n                            maxLength={400}\r\n                            multiline\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            <SubirImagenes cantidad={10} funcionSetImagen={funcionSetImagen} setcargando={setcargando} ids={datosPagina.imagenes}/>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            {cargando && <Cargando/>}\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button className={classes.botones} disabled={cargando} type=\"submit\" size=\"large\" variant=\"contained\" color=\"primary\">Guardar</Button>\r\n                        </Grid>\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button className={classes.botones} onClick={cancelar} size=\"large\" variant=\"contained\" color=\"secondary\">Cancelar</Button>\r\n                        </Grid>\r\n                        <AlertaMensaje mensaje={mensaje} abrir={abrir} setabrir={setabrir}/>\r\n                    </Grid>\r\n                </FormControl>\r\n            </form>\r\n        </Paper>\r\n    </div>\r\n  );\r\n}","import React, {useEffect,useState, useContext} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios'\r\n\r\n//Material-UI\r\nimport {LinearProgress, Paper, List, ListItem, Collapse, ListItemText, Grid, Typography, Button, Tooltip, TextField, Radio, RadioGroup, FormControlLabel, FormControl, FormLabel} from '@material-ui/core';\r\nimport {ExpandLess, ExpandMore}  from '@material-ui/icons';\r\nimport Ojo from '@material-ui/icons/Visibility';\r\nimport Flechita from '@material-ui/icons/ArrowForwardIos';\r\nimport Aceptar from '@material-ui/icons/Check';\r\nimport Rechazar from '@material-ui/icons/Clear';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function GestionarReportes({estadoReporte, reportes, modificarReporte, cargando}) {\r\n    const classes = Estilos();\r\n    const [titulo, setTitulo] = useState(\"\");\r\n    \r\n    useEffect(()=>{\r\n        //Dependiendo de si accedemos a los reclamos en espera, al historial de reclamos o a los reclamos nuevos, se muestra el título correspodiente\r\n        if(estadoReporte===0)\r\n            setTitulo(\"Reportes pendientes de moderación\");\r\n        else if(estadoReporte===1)\r\n            setTitulo(\"Reportes en espera\");\r\n        else\r\n            setTitulo(\"Historial de reportes\");\r\n    },[])\r\n  \r\n  return (\r\n    <div className={classes.fondo} className=\"Fondo\">\r\n      <Paper elevation={5}>\r\n        <Grid className={classes.filaPublicacion}  container justify=\"center\">\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h4\" component=\"h1\" align=\"center\">\r\n                    {titulo}\r\n                </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <br/>\r\n                {\r\n                    !cargando && reportes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                    No hay reportes para mostrar.\r\n                    </Alerta>)\r\n                }  \r\n                {\r\n                    reportes.map((datos, i) =>\r\n                        <Reporte key={i} datos={datos} modificarReporte={modificarReporte}/>\r\n                    )\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction Reporte({datos, modificarReporte}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let color;\r\n    switch (datos.estado) {\r\n        case -1:\r\n            color = \"#5d9b9b\"\r\n            break;\r\n        case 0:\r\n            color = \"gray\"\r\n            break;\r\n        case 1:\r\n            color = \"yellow\"\r\n            break;\r\n        case 2:\r\n            color = \"#FFDED3\"\r\n            break;\r\n        case 3:\r\n            color = \"#D6FFD3\"\r\n            break;\r\n    }\r\n    return (\r\n        <Paper className={classes.filaPublicacion} className=\"Fondo\" variant=\"outlined\" square>\r\n            <Grid container direction=\"row\" justify=\"center\" style={{padding:\"15px\"}}>\r\n                <Grid item xs={12} lg={9} md={9} sm={12}>\r\n                    <Button disabled>\r\n                        <Typography color=\"secondary\" variant=\"h5\" component=\"h2\" align=\"left\" >\r\n                            {datos.Solicitud_id===null?\"Reporte al usuario \":datos.Solicitud_id.titulo}\r\n                        </Typography>\r\n                    </Button>\r\n\r\n                    {\r\n                        datos.Solicitud_id!==null &&\r\n                        <Link to={state.ruta+\"/publicacion/\"+datos.Solicitud_id.id} className={classes.EstiloLink}>\r\n                            <Tooltip title=\"Vista previa\">\r\n                                <Button><Ojo color=\"primary\" /></Button>\r\n                            </Tooltip>\r\n                        </Link>\r\n                    }\r\n                        \r\n                    <Button disabled>\r\n                        <Flechita/>\r\n                    </Button>\r\n                  \r\n                    <Link to={state.ruta+\"/perfil-proveedor/\"+datos.Usuario_id.id} className={classes.EstiloLink}>\r\n                        <Button className={classes.button}>\r\n                            <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                                {`${datos.Usuario_id.nombre} ${datos.Usuario_id.apellido}`}\r\n                            </Typography>\r\n                        </Button>\r\n                    </Link>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} lg={3} md={3} sm={12}>\r\n                    <Typography variant=\"h6\" component=\"h5\" align=\"right\">\r\n                        {datos.created_at.split(\"T\")[0]}\r\n                    </Typography>\r\n                </Grid>\r\n                \r\n                \r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                        Motivos del reporte:\r\n                    </Typography>\r\n                </Grid>\r\n                \r\n                <Grid container direction=\"row\" justify=\"center\">\r\n                    {\r\n                        datos.motivos.map((motivo, i)=>(\r\n                            <Grid key={i} item xs={6} sm={3} md={3} lg={3}>\r\n                                <Typography variant=\"h6\" component=\"h3\" align=\"center\">\r\n                                    {\r\n                                        motivo.nombre\r\n                                    }\r\n                                </Typography>\r\n                            </Grid>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n                \r\n                <Grid item xs={12}>\r\n                    <DesplegarInformacion datos={datos} modificarReporte={modificarReporte}/>\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\n  \r\nfunction DesplegarInformacion({datos, modificarReporte}) {\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [open, setOpen] = useState(false);\r\n    const [accion, setaccion] = useState(false);\r\n    const [cargando, setcargando] = useState(false);\r\n\r\n    const classes = Estilos();\r\n\r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n\r\n    function enviarDatos(descripcion, aceptado){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n        let estado = 2\r\n        let datosNoti = \"Su \"+(datos.Solicitud_id!==null?\"publicación\":\"perfil\")+\" tiene una sugerencia de modificación. \\nMensaje de la administración: \"+descripcion\r\n        \r\n        /**\r\n         * estado:-1 ->Reporte respondido por el usuario\r\n         * estado: 0 ->Reporte esperando a ser atendido\r\n         * estado: 1 ->Reporte en espera, el proveedor debe modificar su perfil/publicación\r\n         * estado: 2 ->Reporte rechazado\r\n         * estado: 3 ->Reporte concluido\r\n         */\r\n\r\n        //Si se acepta el reporte\r\n        if(aceptado){\r\n            //Si la acción tomada es pausar la publicación o continuar con la pausa\r\n            if(accion){\r\n                //El estado se setea en \"en espera de respuesta\"\r\n                estado = 1\r\n                datosNoti = datos.Solicitud_id!==null?\r\n                \"Su publicación ha sido pausada por un administrador, deberá modificarla para que vuelva a estar disponible al público. \\nMensaje de la administración: \"+descripcion:\r\n                \"Su perfil ha sido bloqueado por un adminitrador, deberá modificarlo para que vuelva a estar disponible al público. \\nMensaje de la administración: \"+descripcion\r\n                //Bloqueamos la publicación, si es que ya no lo está\r\n                if(datos.estado!==-1)\r\n                    cambiarVariableBloqueado(datos, true)\r\n            //Si no se pausa o se despausa\r\n            }else{\r\n                //El estado se setea en \"concluído\"\r\n                estado = 3\r\n                //Si el estado del reporte era \"respondido\", se desbloquea la publicación\r\n                if(datos.estado===-1){\r\n                    cambiarVariableBloqueado(datos, false)\r\n                    aceptado = true\r\n                    datosNoti = datos.Solicitud_id!==null?\"¡Su publicación se encuentra nuevamente disponible!\":\"¡Su perfil se encuentra nuevamente disponible!\"\r\n                }\r\n            }\r\n        }\r\n        \r\n        //Si aceptado es true, entonces el reporte es aceptado y se le notifica al usuario\r\n        if(aceptado===true){\r\n            axios.post(\r\n                state.servidor+\"/api/notificaciones/\",{\r\n                    tipo: 0,\r\n                    emisor: state.datosSesion.id,\r\n                    receptor: datos.Usuario_id.id,\r\n                    solicitud: datos.Solicitud_id!==null?datos.Solicitud_id.id:null,\r\n                    datos_notificacion: datosNoti,\r\n                    leido: false\r\n                },{\r\n                    headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(\"Se ha podido crear la notificacion: \",response.data)\r\n                if (datos.estado!==-1)\r\n                    actualizarReporte(response.data.id, estado)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\r\n                alert(\"Error, no se ha podido crear la notificacion.\")\r\n            })\r\n        }else{\r\n            //Si aceptado es false, entonces el reporte es descartado, luego se actualiza el estado del reporte\r\n            actualizarReporte(null, estado)\r\n        }\r\n    }\r\n\r\n    function actualizarReporte(notificacion, estado){\r\n        let auth = 'Bearer '+state.jwt;\r\n        axios.put(\r\n            state.servidor+\"/api/reportes/\"+datos.id,{\r\n                accion: accion,\r\n                estado: estado,\r\n                notificacion: notificacion,\r\n                Administrador_id: state.datosSesion.id\r\n            },{headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            console.log(\"Se ha podido crear el reporte: \",response.data)\r\n            setcargando(false)\r\n\r\n            /*El siguiente método actualiza el arreglo de objetos de reporte del componente pestanaReportes, \r\n            con el objetivo de que el reporte cambie de estado y se muestre en su respectivo tab*/\r\n            modificarReporte(response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido crear el reporte.\", error.response)\r\n            alert(\"Error, no se ha podido crear el reporte.\")\r\n        })\r\n    }\r\n    \r\n    function cambiarVariableBloqueado(datos, bool){\r\n        let auth = 'Bearer '+state.jwt;\r\n        let ruta = datos.Solicitud_id===null?\"users/\":\"api/solicitud/\"\r\n        let _id = datos.Solicitud_id===null?datos.Usuario_id.id:datos.Solicitud_id.id\r\n        console.log(state.servidor+\"/\"+ruta+_id)\r\n        axios.put(\r\n            state.servidor+\"/\"+ruta+_id,{\r\n                bloqueado: bool,\r\n            },{headers: {'Authorization': auth},})\r\n        .then(response => {\r\n            console.log(\"Se ha podido bloquear\",response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido bloquear.\", error.response)\r\n            alert(\"Error, no se ha podido bloquear .\")\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary=\"Desplegar información\"/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <hr/>\r\n                    <Grid item xs={12}>\r\n                        {\r\n                            datos.descripcion.split(\"##\").map((mensaje, i)=>(\r\n                                <Typography key={i} align=\"justify\"> \r\n                                    {mensaje}\r\n                                </Typography>\r\n                            ))\r\n                        }\r\n                        \r\n                    </Grid>\r\n                    <hr/>\r\n                    \r\n                    {\r\n                        datos.estado<=0 && <FormControl component=\"fieldset\" align=\"left\">\r\n                            <FormLabel required component=\"legend\">Acción</FormLabel>\r\n                                <RadioGroup disabled={datos.estado>0} row aria-label=\"Accion\" value={accion} onChange={(e)=>{setaccion(!accion)}}>\r\n                                    <FormControlLabel\r\n                                    value=\"true\"\r\n                                    checked={accion}\r\n                                    control={<Radio />}\r\n                                    label={datos.estado===-1?(datos.Solicitud_id!==null?\"Continuar con la publicación bloqueada\":\"Continuar con el perfil bloqueado\"):\r\n                                    (datos.Solicitud_id!==null?\"Bloquear publicación\":\"Bloquear perfil\")}/>\r\n                                    <FormControlLabel\r\n                                    value=\"false\"\r\n                                    checked={!accion}\r\n                                    control={<Radio />}\r\n                                    label={datos.estado===-1?(datos.Solicitud_id!==null?\"Desbloquear publicación\":\"Desbloquear perfil\"):(\"No hacer nada\")} />\r\n                                </RadioGroup>\r\n                        </FormControl>\r\n                    }\r\n                    {\r\n                        datos.estado>0 && <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                            {datos.accion?(datos.Solicitud_id!==null?\"La publicación fue bloqueada\":\"El perfil fue bloqueado\"):\r\n                            (datos.Solicitud_id!==null?\"No se bloqueó la publicación\":\"No se bloqueó el perfil\")}\r\n                        </Typography>\r\n                    }\r\n                    {\r\n                        cargando && <LinearProgress />\r\n                    }\r\n                    <div hidden={datos.estado>0}>\r\n                        {\r\n                            datos.estado===-1 && <ParteEspera_Historial datos={datos.notificacion}/>\r\n                        }\r\n                        <ParteNuevos enviarDatos={enviarDatos} datos={datos} cargando={cargando} esRespuesta={datos.estado===-1}/>\r\n                    </div>\r\n                    \r\n                    <div hidden={datos.estado<=0}>\r\n                        <ParteEspera_Historial datos={datos.notificacion}/>\r\n                    </div>\r\n                </List>\r\n            </Collapse>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ParteNuevos = ({enviarDatos, datos, cargando, esRespuesta}) =>{\r\n    const [descripcion, setdescripcion] = useState(\"\")\r\n    return(\r\n        <div>\r\n            <Grid item xs={12}>\r\n                <TextField\r\n                onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                value={descripcion}\r\n                id=\"outlined-basic\"\r\n                label=\"Agregar mensaje\"\r\n                multiline variant=\"outlined\"\r\n                size=\"medium\"\r\n                fullWidth/> \r\n            </Grid>\r\n\r\n            <div align=\"center\">\r\n                <Button disabled={cargando} startIcon={<Aceptar/>} onClick={()=>{enviarDatos(descripcion, true)}}>\r\n                    {esRespuesta?\"Confirmar acción\":\"Aceptar reporte\"}\r\n                </Button>\r\n                {\r\n                    datos.estado!==-1 &&\r\n                    <Button disabled={cargando} color=\"secondary\" startIcon={<Rechazar/>} onClick={()=>{enviarDatos(descripcion, false)}}>\r\n                        Descartar reporte\r\n                    </Button>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ParteEspera_Historial = ({datos}) =>{\r\n    return(\r\n        datos.map((notif, i)=>(\r\n            <div key={i}>\r\n                <hr/>\r\n                <Grid container justify=\"center\">\r\n                    <Grid item xs={9}>\r\n                        <Typography color=\"secondary\" variant=\"h5\" component=\"h4\" align=\"left\" >\r\n                            Mensaje del administrador\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                        <Typography variant=\"h6\" component=\"h5\" align=\"right\">\r\n                            {notif.created_at.split(\"T\")[0]}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        {notif.datos_notificacion}\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        ))\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {LinearProgress, Collapse, Hidden, ListItemText, ListItem, List, Paper, Grid, Typography, Button, TextField} from '@material-ui/core/';\r\nimport {Clear as Rechazar, Check as Aceptar, ExpandLess, ExpandMore} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Imagenes from 'react-lightbox-component';\r\nimport 'react-lightbox-component/build/css/index.css';\r\n\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function VerificarIdentidad() {\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [usuariosVerificar, setusuariosVerificar] = useState([])\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt\r\n        if (state.jwt!==\"\"){            \r\n            axios.get(state.servidor+\"/users?espera_verificacion=true\",{\r\n                headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(response.data)\r\n                setusuariosVerificar(response.data)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar los usuarios a verificar.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt])\r\n\r\n    function actualizarUsuario(usuario_id){\r\n        setusuariosVerificar(usuariosVerificar.filter(user => user.id!==usuario_id))\r\n    }\r\n\r\n    const classes = Estilos();\r\n    const [cargando, setcargando] = useState(false);\r\n    return (\r\n    <div className={classes.fondo}>\r\n        <Paper elevation={5}  style={{margin:\"10px 0px\", padding:\"20px\", width:\"90%\"}} className=\"Fondo\">\r\n            <Grid container justify=\"center\" spacing={2}>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h4\" component=\"h1\" align=\"center\">\r\n                        Verificar identidades\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    {\r\n                        cargando && <LinearProgress/>\r\n                    }\r\n                    <br/>\r\n                    {\r\n                        !cargando && (usuariosVerificar.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                            No hay usuarios que deseen verificar su identidad.\r\n                        </Alerta>))\r\n                    }\r\n                </Grid>\r\n                {\r\n                    usuariosVerificar.map((usuario, i) =>(\r\n                        <Grid item xs={12} key={i}>\r\n                            <Solicitud usuario={usuario} actualizarUsuario={actualizarUsuario}/>\r\n                        </Grid>\r\n                    ))\r\n                }\r\n            </Grid>\r\n        </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Solicitud({usuario, actualizarUsuario}) {\r\n    const classes = Estilos()\r\n    return (\r\n        <Paper className={classes.filaPublicacion} variant=\"outlined\" square>\r\n            <Grid container direction=\"row\" alignItems=\"center\">\r\n                <Grid item xs={12}>\r\n                    <Button className={classes.button}>\r\n                        <Typography variant=\"h5\" component=\"h5\" align=\"left\">\r\n                            {`${usuario.nombre} ${usuario.apellido}`}\r\n                        </Typography>\r\n                    </Button>\r\n                    <Button disabled>\r\n                        <Typography variant=\"h5\" component=\"h2\" align=\"left\" >\r\n                            DNI: {usuario.dni}\r\n                        </Typography>\r\n                    </Button>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <DesplegarInformacion usuario={usuario} actualizarUsuario={actualizarUsuario}/>\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\n\r\nfunction DesplegarInformacion({usuario, actualizarUsuario}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [open, setOpen] = useState(false);\r\n    const [imagenes, setimagenes] = useState([]);\r\n    const [cargando, setcargando] = useState(false);\r\n    const [descripcion, setdescripcion] = useState(\"\");\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n    \r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n    \r\n    function enviarDatos(aceptado){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Generamos una notificación al usuario, indicando si se lo ha verificado o no.\r\n        axios.post(\r\n            state.servidor+\"/api/notificaciones/\",{\r\n                tipo: 1,\r\n                emisor: state.datosSesion.id,\r\n                receptor: usuario.id,\r\n                solicitud: null,\r\n                datos_notificacion: aceptado?\"\":descripcion,\r\n                leido: false\r\n            },\r\n            {headers: {'Authorization': auth},})\r\n        .then(response => {\r\n            console.log(\"Se ha podido crear la notificacion: \",response.data)\r\n\r\n            //Actualizamos los datos al usuario que solicitó la verificación de su identidad.\r\n            axios.put(\r\n                state.servidor+\"/users/\"+usuario.id,{\r\n                    espera_verificacion: false,\r\n                    identidad_verificada: aceptado\r\n                },{headers: {'Authorization': auth},})\r\n            .then(response => {\r\n                console.log(\"Se ha podido actualizar al usuario\",response.data)\r\n                actualizarUsuario(response.data.id)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido actualizar al usuario.\", error.response)\r\n                alert(\"Error, no se ha podido actualizar al usuario.\")\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\r\n            alert(\"Error, no se ha podido crear la notificacion.\")\r\n        })\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(usuario.imagenes_dni){\r\n            let img = usuario.imagenes_dni.map((imagen)=>(\r\n                {\r\n                    src: state.servidor+imagen.url,\r\n                    title: imagen.name,\r\n                    description: 'Imagenes de D.N.I.'\r\n                }\r\n            ))\r\n            setimagenes(img)\r\n        }\r\n    },[usuario])\r\n\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary=\"Desplegar información\"/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <Grid container direction=\"row\" alignItems=\"center\" justify=\"center\">\r\n                        <Grid item xs={4} sm={12}>\r\n                            <div align=\"center\">\r\n                                <Imagenes images={imagenes}\r\n                                    thumbnailWidth='100px'\r\n                                    thumbnailHeight='100px'\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                id=\"outlined-basic\"\r\n                                name=\"descripcion\"\r\n                                label=\"Agregar mensaje\"\r\n                                multiline variant=\"outlined\"\r\n                                size=\"medium\"\r\n                                fullWidth\r\n                                className={classes.inputAncho}\r\n                                onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                            >\r\n                            </TextField> \r\n                        </Grid>\r\n\r\n                        <Hidden xlDown={mensaje===\"\" || descripcion!==\"\"}>\r\n                            <Grid item xs={12}>\r\n                                <Typography color=\"error\">\r\n                                    {mensaje}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n                        {\r\n                            cargando && <LinearProgress/>\r\n                        }\r\n                        <div align=\"center\">\r\n                            <Button\r\n                            disabled={cargando}\r\n                            onClick={()=>{enviarDatos(true)}}\r\n                            color=\"secondary\"\r\n                            startIcon={<Aceptar/>}>\r\n                                Validar Identidad\r\n                            </Button>\r\n                            <Button\r\n                            disabled={cargando}\r\n                            onClick={()=>{descripcion===\"\"?setmensaje(\"Debe escribir un mensaje para rechazar la solicitud.\"):enviarDatos(false)}}\r\n                            color=\"error\"\r\n                            startIcon={<Rechazar/>}>\r\n                                Rechazar Solicitud\r\n                            </Button>\r\n                        </div>\r\n                    </Grid>\r\n                </List>\r\n            </Collapse>\r\n        </div>\r\n    )\r\n}","import React, {useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Container, AppBar, Backdrop, CircularProgress, Box, Tab, Tabs} from '@material-ui/core';\r\n\r\nimport GestionarReportes from './GestionarReportes.js'\r\n\r\nimport Nuevo from '@material-ui/icons/Announcement';\r\nimport Reloj from '@material-ui/icons/QueryBuilder';\r\nimport Check from '@material-ui/icons/AssignmentTurnedIn';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-force-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-force-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-force-tab-${index}`,\r\n    'aria-controls': `scrollable-force-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexWrap: 'wrap',\r\n    padding: 10,\r\n    minHeight:\"calc(100vh - 130px)\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nexport default function PestanaReportes() {\r\n  const [cargando, setcargando] = useState(false);\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const [reportes, setreportes] = useState([]);\r\n\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if (state.jwt!==\"\" || state.publico===true){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n\r\n        axios.get(state.servidor+\"/api/reportes\",{\r\n          headers: {'Authorization': auth}})\r\n        .then(response => {\r\n          setreportes(response.data)\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n  },[state.jwt, state.publico])\r\n\r\n  function modificarReporte(report){\r\n    setreportes(\r\n      reportes.map((reporte)=>{\r\n        if(report.id===reporte.id){\r\n          return report\r\n        }else{\r\n          return reporte\r\n        }\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root} style={{padding:\"20px\"}} className=\"fondo\">\r\n      <Container>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            variant=\"fullWidth\"\r\n            scrollButtons=\"auto\"\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            aria-label=\"scrollable force tabs example\"\r\n          >\r\n            <Tab label=\"Gestionar nuevos reportes\" icon={<Nuevo />} {...a11yProps(0)} />\r\n            <Tab label=\"Reportes en espera\" icon={<Reloj />} {...a11yProps(1)} />\r\n            <Tab label=\"Historial de reportes\" icon={<Check />} {...a11yProps(2)} />\r\n          </Tabs>\r\n        </AppBar>\r\n        <Backdrop className={classes.backdrop} open={cargando}>\r\n          <CircularProgress/>\r\n        </Backdrop>\r\n        <TabPanel value={value} index={0}>\r\n          <GestionarReportes estadoReporte={0} cargando={cargando} modificarReporte={modificarReporte} reportes={reportes.filter((reporte)=>(reporte.estado<=0))}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={value} index={1}>\r\n          <GestionarReportes estadoReporte={1} cargando={cargando} modificarReporte={()=>{}} reportes={reportes.filter((reporte)=>(reporte.estado===1))}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={value} index={2}>\r\n          <GestionarReportes estadoReporte={2} cargando={cargando} modificarReporte={()=>{}} reportes={reportes.filter((reporte)=>(reporte.estado>=2))}/>\r\n        </TabPanel>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport FilaPublicacion from '../Categoria/FilaPublicacion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport { Typography, Paper, Container } from '@material-ui/core';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport axios from 'axios'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function MisPublicaciones({tipoPublicacion}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [tituloPagina, setTituloPagina] = useState(\"\");\r\n  const [cargando, setcargando] = useState(false)\r\n  const [solicitudes, setsolicitudes] = useState([])\r\n  const [resenas_servicio, setresenas_servicio] = useState(null)\r\n\r\n  useEffect(()=>{\r\n    setcargando(true)\r\n    //Dependiendo de si se quiere crear una publicación o solicitar un servicio, se muestra la pantalla correspodiente\r\n    if(tipoPublicacion){\r\n      setTituloPagina(\"Mis publicaciones\");\r\n    }else{\r\n      setTituloPagina(\"Mis servicios solicitados\");\r\n    }\r\n    if(state.jwt!==\"\"){\r\n      console.log(tipoPublicacion)\r\n      setresenas_servicio(null)\r\n      buscarSolicitudes()\r\n    }\r\n  },[state.jwt, tipoPublicacion])\r\n\r\n  function buscarSolicitudes(){\r\n    axios.get(state.servidor+\"/api/solicitud?Usuario_id=\"+state.datosSesion.id+\"&tipo=\"+tipoPublicacion)\r\n    .then(response => {\r\n      setsolicitudes(response.data)\r\n      setcargando(false)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las solicitudes.\")\r\n      console.log(error.response)\r\n    })\r\n    //Si se están listando publicaciones, entonces traemos también las reseñas\r\n    if(tipoPublicacion){\r\n      axios.get(state.servidor+\"/api/resenas?proveedor=\"+state.datosSesion.id)\r\n      .then(response => {\r\n        let servicios_resena = {}      \r\n        response.data.map((resena=>{\r\n          resena.servicios.map(serv_=>{\r\n            if(!servicios_resena.hasOwnProperty(serv_.nombre)){\r\n              servicios_resena[serv_.nombre] = {resenas:[]}\r\n              servicios_resena[serv_.nombre].resenas.push(resena)\r\n            }else{\r\n              servicios_resena[serv_.nombre].resenas.push(resena)\r\n            }\r\n          })\r\n        }))\r\n  \r\n        setresenas_servicio(servicios_resena)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al buscar los servicios.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.fondo} style={{margin:\"auto\"}}>\r\n      <Container> \r\n          <Paper elevation={3} style={{maxWidth:950, padding: 15}} className=\"Fondo\">\r\n              <Typography variant=\"h5\" component=\"h2\" align=\"center\">{tituloPagina}</Typography>\r\n              <br/>\r\n              {\r\n                //Cuando cargando es true (seteado al momento de empezar a realizar la búsqueda de las publicaciones), nos muestra el componente de carga,\r\n                //y desaparece cuando cambia a false (seteado al finalizar la búsqueda de los datos)\r\n                cargando && <Cargando/>\r\n              }\r\n              {\r\n                !cargando && solicitudes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                  No tienes {tipoPublicacion?\"publicaciones \":\"solicitudes \"}de servicios\r\n                </Alerta>)\r\n              }\r\n              {\r\n                solicitudes.map((solicitud, i)=>(\r\n                  <FilaPublicacion resenas={resenas_servicio===null?null:resenas_servicio[solicitud.Servicio_id.nombre]} buscarSolicitudes={buscarSolicitudes} key={i} datos={solicitud} tipoPublicacion={tipoPublicacion} contactar={true}/>\r\n                ))\r\n              }\r\n          </Paper>\r\n      </Container>\r\n    </div> \r\n  )\r\n}\r\n","import React from 'react';\r\nimport {Container, Typography, Paper, Accordion, AccordionSummary, AccordionDetails } from '@material-ui/core/';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Estilos from '../Estilos';\r\n\r\nexport default function PreguntasFrecuentes() {\r\n  const classes = Estilos();\r\n  const [informacion, setinformacion] = React.useState([\r\n    {\r\n      pregunta: \"¿Qué es Servia?\",\r\n      respuesta: \"Servia es una aplicación en la cual vas a poder encontrar servicios domesticos, publicar tus servicios o solicitar un servicio determinado.\"\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo busco un servicio?\",\r\n      respuesta: 'Para buscar un servicio, debes hacer click en la opcion \"Explorar servicios\", luego se mostrará una pagina donde podrás seleccionar la categoría referente al servicio que buscas, al hacer esto se abrirá una página donde podrás ver y buscar servicios.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo me vuelvo proveedor de servicios?\",\r\n      respuesta: 'Para ser proveedor, debes seleccionar la opción \"Quiero ser proveedor de servicios\" al momento de registrarte o yendo a \"Editar mi perfil\".'\r\n    },\r\n    {\r\n      pregunta: \"Si soy un proveedor de servicios, ¿Cómo verifico mi identidad en Servia?\",\r\n      respuesta: 'Para verificar tu identidad, debes ir a la opcion \"Verificar mi identidad\", allí podrás cargar tu número de DNI y las fotos del mismo. Luego un administrador validará tus datos y te notificará los resultados.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo me publicito en Servia?\",\r\n      respuesta: \"Servia ofrece a los proveedores la posibilidad de crear publicaciones en donde pueden mostrar una descripción de sus servicio e imágenes que la acompañen.\"\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo solicito un servicio?\",\r\n      respuesta: 'Para solicitar un servicio, debes ir a la opción \"Solicitar servicio\", allí podrás especificar todos los requerimientos, de modo de que algún proveedor se pueda contactar contigo para ayudarte.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo administro las publicaciones/solicitudes que he hecho?\",\r\n      respuesta: 'Para administrar tus publicaciones/solicitudes, debes ir a la opcion \"Mis servicios solicitados\" o \"Mis publicaciones\", allí podrás modificar o eliminar las publicaciones/solicitudes que hiciste.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo contacto a un proveedor de servicios?\",\r\n      respuesta: 'Para contactar a un proveedor de servicios, debes ir a la publicacion del servicio que deseas y hacer click en la opción \"Contactar\". Al hacer click en el boton \"Enviar\", se generará un Chat en el cual el proveedor podrá responderte.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo me mantengo en contacto con un proveedor de servicios?\",\r\n      respuesta: \"Para mantenerte en contacto con uno o varios proveedores existe un chat, el cual tendrá los chats con los proveedores que hiciste contacto. Par accederlo debes hacer click en el ícono de mensaje, al lado de la campana de notificaciones.\"\r\n    },\r\n  ])\r\n\r\n  return (\r\n    <div className={classes.fondo}>\r\n      <Paper elevation={3} style={{margin:\"auto\",width:850, padding:\"20px\"}} className=\"Fondo\">    \r\n        <Typography component=\"h3\" variant=\"h4\" align=\"center\">\r\n            Preguntas frecuentes\r\n        </Typography>\r\n        <br/>\r\n        <>\r\n          {\r\n            informacion.map((fila, i)=>(\r\n              <Accordion key={i}>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n                  <Typography  component=\"h6\" variant=\"h6\">{fila.pregunta}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Typography>\r\n                    {fila.respuesta}\r\n                  </Typography>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ))\r\n          }\r\n        </>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport {Typography, Paper} from '@material-ui/core/';\r\n\r\nimport Estilos from '../Estilos';\r\n\r\nexport default function SobreNosotros() {\r\n  const classes = Estilos();\r\n  return (\r\n    <div className={classes.fondo} >\r\n      <Paper elevation={3} style={{width:650, minHeight:300, padding: 15}}>    \r\n        <Typography component=\"h3\" variant=\"h4\" align=\"center\">\r\n            ¿Quienes somos?\r\n        </Typography>  \r\n        <Typography variant=\"body1\" align=\"left\">\r\n            Somos...\r\n        </Typography>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}","import React, { useReducer, createContext} from \"react\";\r\n\r\nconst initialState = {\r\n    estadoEditado: false,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"setFalso\":\r\n            return {...state, estadoEditado: false};\r\n        case \"setVerdad\":\r\n            return {...state, estadoEditado: true};\r\n        default:\r\n            return { ...state };\r\n    }\r\n};\r\n\r\nconst ObtenerEstado = createContext(initialState);\r\n\r\nfunction ProveerEstadoCategoria({ children }) {\r\n    const [stateCategoria, dispatchCategoria] = useReducer(reducer, initialState);\r\n\r\n    return (\r\n        <ObtenerEstado.Provider value={{ stateCategoria, dispatchCategoria }}>\r\n            {children}\r\n        </ObtenerEstado.Provider>\r\n    );\r\n}\r\n\r\nexport { ObtenerEstado, ProveerEstadoCategoria };\r\n","import React,{useState, useEffect, useContext} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material UI\r\nimport {Typography, TextField, Button, Paper, Grid} from '@material-ui/core/';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\n//Libreria para consultar la API del servidor\r\nimport axios from 'axios';\r\n\r\n//Componentes creados\r\nimport Estilos from '../Estilos.js';\r\nimport SubirImagen from '../SubirImagen.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function VerificarMiIdentidad(){\r\n    const classes = Estilos()\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let history = useHistory();\r\n    //Variables de la página\r\n    const [cargando, setcargando] = useState(false)\r\n    const [abrir, setabrir] = useState(false);\r\n    //   \r\n    \r\n    //Variables de los campos   \r\n    const [DNI, setDNI] = useState(\"\")\r\n    const [imagenes, setimagenes] = useState([])\r\n    const [ImagenDNI, setImagenDNI] = useState([])\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setImagenDNI([...ImagenDNI, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = ImagenDNI.filter(f => f !== file)\r\n            setImagenDNI(aux)\r\n        }\r\n        setimagenesSubidas(subidas)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\"){\r\n            setDNI(state.datosSesion.dni)\r\n            let imgs = state.datosSesion.imagenes_dni.map(i_dni => i_dni.id)\r\n            setimagenes(imgs)\r\n        }\r\n    },[state.jwt])\r\n    \r\n    const enviarDatos = (e) =>{\r\n        e.preventDefault()\r\n        setcargando(true)\r\n\r\n        setDNI(String(DNI))\r\n\r\n        let archivosNuevos = []\r\n        \r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        ImagenDNI.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"imagenes dni:\", ImagenDNI)\r\n        console.log(\"nuevos:\", archivosNuevos)\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"borrados:\", archivosBorrados)\r\n        \r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imágenes de la publicación\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n\r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imágenes cargadas a la publicación, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', state.datosSesion.id)\r\n            formData.append('field', 'imagenes_dni')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                console.log(\"Respuesta imagen: \",response.data)\r\n                guardarDatos()\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error al cargar las imágenes.\")\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }else{\r\n            guardarDatos()\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    function guardarDatos(){\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Se modifica el perfil del usuario incluyendo los nuevos datos.\r\n        axios.put(\r\n            state.servidor+\"/users/\"+state.datosSesion.id,{\r\n                dni: DNI,\r\n                espera_verificacion: true\r\n            },{\r\n                headers: {\r\n                    'Authorization': auth\r\n            },})\r\n        .then(response => {\r\n            dispatch({type:\"setDatos\", value: response.data})\r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: state.jwt,\r\n                datosSesion: response.data\r\n            }));\r\n            \r\n            setcargando(false)\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(state.ruta+\"/\"); }, 3000);\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se han podido enviar los datos.\", error.response)\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} >\r\n                <form onSubmit={enviarDatos}>\r\n                    <Grid className={classes.gridRegistro} spacing={1} container justify=\"space-between\" alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.inputAncho}>\r\n                                Verificar mi identidad\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} align=\"center\">\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"number\"\r\n                            name=\"dni\"\r\n                            value={DNI}\r\n                            style={{width:\"50%\"}}\r\n                            onChange={(e)=>{setDNI(e.target.value)}}\r\n                            id=\"filled-basic\"\r\n                            label=\"Número de documento\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"subtitle1\" component=\"h1\" align=\"justify\" className={classes.inputAncho}>\r\n                                Para que puedas verificar tu identidad, necesitamos que subas una foto del frente y otra del dorso de tu DNI. Procura que ambas imágenes se vean legibles y correspondan con los datos que proporcionaste en tu perfil.\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <SubirImagen cantidad={2} funcionSetImagen={funcionSetImagen} setcargando={setcargando} ids={imagenes}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            {cargando && <Cargando/>}\r\n                        </Grid>\r\n                        \r\n                        {\r\n                            (state.datosSesion.identidad_verificada || state.datosSesion.espera_verificacion) &&\r\n                            <Grid item xs={12}>\r\n                                <Typography variant=\"subtitle1\" component=\"h1\" align=\"justify\" color=\"error\" className={classes.inputAncho}>\r\n                                    {state.datosSesion.espera_verificacion?\"Ya tienes una solicitud de verificación pendiente.\":\"¡Tu perfil ya está verificado!\"}\r\n                                </Typography>\r\n                            </Grid>\r\n                        }\r\n\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                                type=\"submit\"\r\n                                className={classes.inputAncho}\r\n                                size=\"large\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={cargando || state.datosSesion.identidad_verificada || state.datosSesion.espera_verificacion}\r\n                            >\r\n                                Enviar solicitud\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n                <AlertaMensaje mensaje={\"¡Solicitud enviada con éxito! Pronto nos pondremos en contacto contigo.\"} abrir={abrir} setabrir={setabrir}/>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {LinearProgress, Avatar, Link, Divider, Button, Grid, Backdrop, Modal, Fade, Typography, TextField, FormControl, Hidden } from '@material-ui/core/';\r\n\r\n//Componentes\r\nimport Estrellas from '../Estrellas.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\nimport Estilos from '../Estilos.js'\r\nimport SeleccionarServicio from '../SeleccionarServicio.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nexport default function RealizarOpinion({eliminarNotificacion, datos}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [abrir, setabrir] = React.useState(false);\r\n  const [valorEstrella, setValorEstrella] = useState(0);\r\n  const [titulo, settitulo] = useState(\"\");\r\n  const [descripcion, setdescripcion] = useState(\"\");\r\n  const [servicios, setservicios] = useState([]);\r\n  const [serviciosSeleccionados, setserviciosSeleccionados] = useState([]);\r\n  const [cargando, setcargando] = useState(false);\r\n  const [mensaje, setmensaje] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const cambiarValor = (e) =>{\r\n    setValorEstrella(Number(e.target.value));\r\n  }\r\n\r\n  useEffect(() => {\r\n    let _id = datos.solicitud!==null?datos.solicitud.Categoria_id:Number(datos.datos_notificacion.split(\"_\")[0])\r\n    let auth = 'Bearer '+state.jwt;\r\n    \r\n    let seleccInic = datos.solicitud!==null?[datos.solicitud.Servicio_id]:[]\r\n    setserviciosSeleccionados(seleccInic)\r\n    \r\n    axios.get(state.servidor+\"/api/servicios?categoria=\"+_id,{\r\n      headers: {'Authorization': auth},\r\n    })\r\n    .then(response => {\r\n      let servicios_ = response.data.map(serv=>{\r\n        serv[\"seleccionado\"] = false\r\n        return serv\r\n      })\r\n      console.log(\"Servicios\",servicios_)\r\n\r\n      setservicios(servicios_)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al buscar los servicios.\")\r\n      console.log(error.response)\r\n    }) \r\n  },[datos])\r\n\r\n\r\n  function enviarOpinion(e){\r\n    e.preventDefault()\r\n    let auth = 'Bearer '+state.jwt;\r\n    console.log(serviciosSeleccionados)\r\n    \r\n    if(serviciosSeleccionados.length!==0){\r\n      setcargando(true)\r\n      axios.post(\r\n        state.servidor+\"/api/resenas/\",{\r\n        titulo: titulo,\r\n        descripcion: descripcion,\r\n        recomendacion: Number(valorEstrella),\r\n        votos_positivos: 0,\r\n        votos_negativos: 0,\r\n        proveedor: datos.emisor.id,\r\n        servicios: serviciosSeleccionados.length!==0?serviciosSeleccionados:null,\r\n        },\r\n        {headers: {'Authorization': auth},})\r\n      .then(response => {\r\n        console.log(\"Se ha podido crear la reseña: \",response.data)\r\n        eliminarNotificacion(datos.id)\r\n        setcargando(false)\r\n        setabrir(true)\r\n        setOpen(false)\r\n    })\r\n      .catch(error => {\r\n        console.log(\"Error, no se ha podido crear la reseña.\", error.response)\r\n        alert(\"Error, no se ha podido crear la reseña.\")\r\n    })\r\n    }else{\r\n      setmensaje(true)\r\n    }\r\n  }\r\n\r\n  function seleccionarServicio(servicio_){\r\n    if (mensaje)\r\n      setmensaje(false)\r\n    let yaEsta = serviciosSeleccionados.some(serv=>(serv === servicio_.id))\r\n    if(!yaEsta){\r\n      setserviciosSeleccionados([...serviciosSeleccionados, servicio_.id])\r\n    }else{\r\n      setserviciosSeleccionados(serviciosSeleccionados.filter(srv_ => srv_!==servicio_.id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n        <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpen}\r\n        >\r\n        Realizar reseña\r\n      </Button>\r\n\r\n      <AlertaMensaje mensaje=\"¡Reseña enviada!\" setabrir={setabrir} abrir={abrir}/>\r\n\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n        \r\n      >\r\n        <Fade in={open}>\r\n          <div >\r\n            <Grid className={classes.papelFondo} style={{maxWidth: \"500px\"}} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n              <form onSubmit={enviarOpinion}>\r\n                <FormControl >\r\n                  <Grid item xs={12}>\r\n                    <div align=\"center\">\r\n                        <Avatar\r\n                        alt=\"Nombre proveedor\"\r\n                        src={datos.emisor.imagenes_proveedor.length!==0?state.servidor+datos.emisor.imagenes_proveedor[0].url:\"\"}\r\n                        className={classes.imagenPublicacion}/>\r\n                    </div>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"center\" className={classes.form}>\r\n                      {`${datos.emisor.nombre} ${datos.emisor.apellido}`}\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                    <Typography variant=\"h5\" component=\"h3\" align=\"center\" className={classes.form}>\r\n                      {datos.solicitud!==null?\"Publicación: \":\"Categoría: \"} \r\n                      {datos.solicitud!==null?datos.solicitud.titulo:datos.datos_notificacion.split(\"_\")[1]}\r\n                    </Typography>\r\n\r\n                    <TextField\r\n                      onChange={(e)=>{settitulo(e.target.value)}}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Título de la reseña\"\r\n                      variant=\"filled\"\r\n                      required/>\r\n                    <Divider/>\r\n                    <br/>\r\n                    <TextField\r\n                      onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Descripción (opcional)\"\r\n                      variant=\"filled\"\r\n                      multiline/>\r\n                    <br/>\r\n\r\n                    {\r\n                      servicios.length!==0 &&\r\n                      <Grid container spacing={2} justify=\"space-around\">\r\n                        <Grid item xs={12}>\r\n                          <Typography variant=\"subtitle1\" component=\"h4\" align=\"center\" className={classes.form}>\r\n                            {datos.solicitud!==null?\"Si el proveedor te ha ofrecido otros servicios, puedes seleccionarlos aquí: \":\"Selecciona los servicios llevados a cabo: \"} \r\n                          </Typography>\r\n                        </Grid>\r\n                        {\r\n                          servicios.map((servicio,k) => (\r\n                            datos.solicitud!==null?(datos.solicitud.Servicio_id!==servicio.id):true &&\r\n                            <Grid item xs={6} sm={4} md={3} lg={2} key={k}>\r\n                              <SeleccionarServicio\r\n                                servicio={servicio} \r\n                                agregarSeleccionado={(valor)=>{\r\n                                  seleccionarServicio(servicio)\r\n                                  servicio.seleccionado = valor\r\n                                }}\r\n                              />\r\n                            </Grid>\r\n                          ))\r\n                        }\r\n                      </Grid>\r\n                    }\r\n\r\n                    <Typography variant=\"h5\" component=\"h4\" align=\"center\" className={classes.form}>\r\n                        ¡Valora el servicio brindado!\r\n                    </Typography>\r\n                    <Estrellas valor={valorEstrella} cambiarValor={cambiarValor} clickeable={true}/>\r\n\r\n                    <Hidden xlDown={!mensaje || cargando}>\r\n                      <Typography color=\"error\">\r\n                        Debes seleccionar al menos un servicio.\r\n                      </Typography>\r\n                    </Hidden>\r\n                    \r\n                    {cargando && <LinearProgress/>}\r\n\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={Number(valorEstrella)===0 || cargando}\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                    >\r\n                      Enviar reseña\r\n                    </Button>\r\n                </FormControl>\r\n                </form>\r\n            </Grid>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {IconButton, LinearProgress, Container, Paper, Grid, Typography} from '@material-ui/core/';\r\nimport {DeleteForever as Eliminar, FiberNew as Nuevo, Assignment as Reporte, EmojiPeople as Identidad, Star as Resena, FormatItalic} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport 'react-lightbox-component/build/css/index.css';\r\nimport { format, register } from 'timeago.js';\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport AlertaSi_No from '../AlertaSi_No.js';\r\nimport { red } from '@material-ui/core/colors';\r\nimport RealizarOpinion from './RealizarOpinion.js'\r\nexport default function VerificarIdentidad() {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [notificaciones, setnotificaciones] = useState([])\r\n    const [cargando, setcargando] = useState(false);\r\n    const [preguntarEliminar, setpreguntarEliminar] = useState(false);\r\n    \r\n    const [iconos, seticonos] = useState([<Reporte style={{ fontSize: \"75px\" }}/>, <Identidad style={{ fontSize: \"75px\" }}/>, <Resena style={{ fontSize: \"75px\" }}/>]);\r\n    //\r\n    const localeFunc = (number, index, totalSec) => {\r\n        // number: the timeago / timein number;\r\n        // index: the index of array below;\r\n        // totalSec: total seconds between date to be formatted and today's date;\r\n        return [\r\n          ['justo ahora', 'justo ahora'],\r\n          ['hace %s segundos', 'en %s segundos'],\r\n          ['hace 1 minuto', 'en 1 minuto'],\r\n          ['hace %s minutos', 'en %s minutos'],\r\n          ['hace 1 hora', 'en 1 hora'],\r\n          ['hace %s horas', 'en %s horas'],\r\n          ['hace 1 día', 'en 1 día'],\r\n          ['hace %s días', 'en %s días'],\r\n          ['hace 1 semana', 'en 1 semana'],\r\n          ['hace %s semanas', 'en %s semanas'],\r\n          ['hace 1 mes', 'en 1 mes'],\r\n          ['hace %s meses', 'en %s meses'],\r\n          ['hace 1 año', 'en 1 año'],\r\n          ['hace %s años', 'en %s años']\r\n        ][index];\r\n    };\r\n    register('spanish', localeFunc);\r\n    //\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt\r\n        if (state.jwt!==\"\" || state.publico===true){            \r\n            axios.get(state.servidor+\"/api/notificaciones?receptor=\"+state.datosSesion.id,{\r\n                headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(response.data)\r\n                setnotificaciones(response.data.reverse())\r\n\r\n                response.data.map(notif=>{\r\n                    if(notif.leido!==true){\r\n                        definirLeido(notif.id)\r\n                    }\r\n                })\r\n                \r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n    \r\n    function eliminarNotificacion(id_){\r\n        setnotificaciones(notificaciones.filter(notificacion=>notificacion.id!==id_))\r\n        let auth = 'Bearer '+state.jwt\r\n        axios.delete(state.servidor+\"/api/notificaciones/\"+id_,{\r\n            headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            \r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al eliminar la notificación.\")\r\n            console.log(error.response)\r\n        }) \r\n    }\r\n\r\n    function definirLeido(id_){\r\n        let auth = 'Bearer '+state.jwt\r\n        axios.put(state.servidor+\"/api/notificaciones/\"+id_,{\r\n            leido: true\r\n        },{\r\n            headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            console.log(response.data)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cambiar la variable true.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.fondo}>\r\n            <Paper style={{padding:\"15px\", width:\"100%\"}} className=\"Fondo\" variant=\"outlined\" square>\r\n                <Grid container direction=\"row\" alignItems=\"center\">\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h4\" component=\"h4\" align=\"center\">\r\n                            Notificaciones\r\n                        </Typography>\r\n                        <br/>\r\n                    </Grid>\r\n                    {\r\n                        cargando && <Grid item xs={12}><LinearProgress/></Grid>\r\n                    }\r\n                    {\r\n                        !cargando && notificaciones.length===0 && (<Grid item xs={12}><Alerta variant=\"outlined\" severity=\"info\">\r\n                        No tienes notificaciones nuevas.\r\n                        </Alerta></Grid>)\r\n                    }  \r\n                    {\r\n                        notificaciones.map((noti, i)=>(\r\n                            <Paper key={i} className={classes.filaPublicacion} style={{margin:\"auto\" ,width:\"95%\"}} variant=\"outlined\" square>\r\n                                <Grid container item xs={12} alignItems=\"center\">\r\n                                    <Grid item xs={12} sm={2} md={1} lg={1} align=\"center\">\r\n                                        {\r\n                                            iconos[noti.tipo]\r\n                                        }\r\n                                    </Grid>\r\n                                    <Grid item xs={10} sm={8} md={10} lg={10}>\r\n                                        <Typography variant=\"h5\" component=\"h5\" align=\"left\">\r\n                                            {noti.tipo===0 && (noti.solicitud!==null?\r\n                                                'Reporte a la publicación \"'+noti.solicitud.titulo+'\"':\r\n                                                'Reporte a su perfil')}\r\n                                            {noti.tipo===1 && 'Respuesta a tu solicitud de verificación de identidad'}\r\n                                            {noti.tipo===2 && (noti.datos_notificacion===\"\"?\r\n                                                ('Nueva solicitud de reseña a la publicación \"'+noti.solicitud.titulo+'\"'):\r\n                                                ('Nueva solicitud de reseña a la categoría \"'+noti.datos_notificacion.split(\"_\")[1]+'\"'))}\r\n                                            {\" - \"+format(new Date(noti.created_at),\"spanish\")}\r\n                                            {!noti.leido && <Nuevo style={{ color: red[500] }}/>}\r\n                                        </Typography>\r\n                                        <Typography align=\"justify\">\r\n                                            {noti.tipo<2?(noti.datos_notificacion!==\"\"?noti.datos_notificacion:\"¡Felicitaciones! Tu perfil ahora está verificado.\"):\r\n                                            (noti.datos_notificacion===\"\"?\r\n                                            (noti.solicitud.tipo?('Tienes una nueva petición de reseña al servicio \"'+noti.solicitud.titulo):\r\n                                            ('Tienes una nueva petición de reseña al servicio ofrecido por el proveedor '+\r\n                                            `${noti.emisor.nombre} ${noti.emisor.apellido}`+' por tu solicitud \"'+noti.solicitud.titulo+'\". ¡Cuéntanos tu experiencia haciendo click en el botón!')):\r\n                                            ('Tienes una nueva petición de reseña a la categoría \"'+noti.datos_notificacion.split(\"_\")[1]))}\r\n                                            {noti.tipo===2 && noti.solicitud.tipo && '\" realizada por el proveedor '+`${noti.emisor.nombre} ${noti.emisor.apellido}`+'. ¡Cuéntanos tu experiencia haciendo click en el botón!'}\r\n                                        </Typography>\r\n                                        {\r\n                                            noti.tipo===2 && <div align=\"center\"><RealizarOpinion datos={noti} eliminarNotificacion={eliminarNotificacion}/></div>\r\n                                        }\r\n                                        \r\n                                    </Grid>\r\n                                    <Grid item xs={2} sm={2} md={1} lg={1} align=\"center\">\r\n                                        {\r\n                                            <IconButton onClick={()=>{setpreguntarEliminar(true)}}><Eliminar color=\"error\" /></IconButton>\r\n                                        }\r\n                                    </Grid>\r\n                                    {\r\n                                        preguntarEliminar &&\r\n                                        <AlertaSi_No\r\n                                        mensaje={\"\"}\r\n                                        funcionAceptar={(bool)=>{\r\n                                            if(bool){\r\n                                                eliminarNotificacion(noti.id)\r\n                                            }\r\n                                            setpreguntarEliminar(false)\r\n                                        }}\r\n                                        titulo=\"¿Está seguro que quiere eliminar la notificación?\"/>\r\n                                    }\r\n                                </Grid>\r\n                            </Paper>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n            </Paper>\r\n        </Container>\r\n    );\r\n}","import React, { Component } from 'react';\n\nimport './PhotoMessage.css';\n\nimport FaCloudDownload from 'react-icons/lib/fa/cloud-download';\nimport FaError from 'react-icons/lib/fa/exclamation-triangle';\n\nconst ProgressBar = require('react-progress-bar.js');\nconst Circle = ProgressBar.Circle;\n\nexport class PhotoMessage extends Component {\n    render() {\n        var progressOptions = {\n            strokeWidth: 2.3,\n            color: '#efe',\n            trailColor: '#aaa',\n            trailWidth: 1,\n            step: (state, circle) => {\n                circle.path.setAttribute('trail', state.color);\n                circle.path.setAttribute('trailwidth-width', state.width);\n\n                var value = Math.round(circle.value() * 100);\n                if (value === 0)\n                    circle.setText('');\n                else\n                    circle.setText(value);\n            }\n        };\n\n        const error = this.props.data.status && this.props.data.status.error === true;\n\n        return (\n            <div className=\"rce-mbox-photo\">\n                <div\n                    className=\"rce-mbox-photo--img\"\n                    style={this.props.data.width && this.props.data.height && {\n                        width: this.props.data.width,\n                        height: this.props.data.height,\n                    }}>\n                    <img\n                        src={this.props.data.uri}\n                        alt={this.props.data.alt}\n                        onClick={this.props.onOpen}\n                        onLoad={this.props.onLoad}\n                        onError={this.props.onPhotoError}/>\n                    {\n                        error &&\n                        <div className=\"rce-mbox-photo--img__block\">\n                            <span\n                                className=\"rce-mbox-photo--img__block-item rce-mbox-photo--error\">\n                                <FaError/>\n                            </span>\n                        </div>\n                    }\n                    {\n                        !error &&\n                        this.props.data.status &&\n                        !this.props.data.status.download &&\n                        <div className=\"rce-mbox-photo--img__block\">\n                            {\n                                !this.props.data.status.click &&\n                                <button\n                                    onClick={this.props.onDownload}\n                                    className=\"rce-mbox-photo--img__block-item rce-mbox-photo--download\">\n                                    <FaCloudDownload/>\n                                </button>\n                            }\n                            {\n                                typeof this.props.data.status.loading === 'number' &&\n                                this.props.data.status.loading !== 0 &&\n                                <Circle\n                                    progress={this.props.data.status.loading}\n                                    options={progressOptions}\n                                    initialAnimate={true}\n                                    containerClassName={'rce-mbox-photo--img__block-item'} />\n                            }\n                        </div>\n                    }\n                </div>\n                {\n                    this.props.text &&\n                    <div className=\"rce-mbox-text\">\n                        {this.props.text}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nPhotoMessage.defaultProps = {\n    text: '',\n    data: {},\n    onDownload: null,\n    onOpen: null,\n    onLoad: null,\n    onPhotoError: null,\n};\n\n\nexport default PhotoMessage;\n","import React, { Component } from 'react';\nimport './FileMessage.css';\n\nimport FaCloudDownload from 'react-icons/lib/fa/cloud-download';\nimport FaError from 'react-icons/lib/fa/exclamation-triangle';\nimport FaFile from 'react-icons/lib/fa/file';\n\nconst ProgressBar = require('react-progress-bar.js');\nconst Circle = ProgressBar.Circle;\n\nexport class FileMessage extends Component {\n\n    onClick(e) {\n        if (!this.props.data.status)\n            return;\n\n        if (!this.props.data.status.download && this.props.onDownload instanceof Function)\n            this.props.onDownload(e);\n        else if (this.props.data.status.download && this.props.onOpen instanceof Function)\n            this.props.onOpen(e);\n    }\n\n    render() {\n        var progressOptions = {\n            strokeWidth: 5,\n            color: '#333',\n            trailColor: '#aaa',\n            trailWidth: 5,\n            step: (state, circle) => {\n                circle.path.setAttribute('trail', state.color);\n                circle.path.setAttribute('trailwidth-width', state.width);\n\n                var value = Math.round(circle.value() * 100);\n                if (value === 0)\n                    circle.setText('');\n                else\n                    circle.setText(value);\n            }\n        };\n\n        const error = this.props.data.status && this.props.data.status.error === true;\n\n        return (\n            <div className='rce-mbox-file'>\n                <button onClick={this.onClick.bind(this)}>\n                    <div className=\"rce-mbox-file--icon\">\n                        <FaFile\n                            color='#aaa'/>\n                        <div className=\"rce-mbox-file--size\">\n                            {this.props.data.size}\n                        </div>\n                    </div>\n                    <div className=\"rce-mbox-file--text\">\n                        {this.props.text}\n                    </div>\n                    <div className=\"rce-mbox-file--buttons\">\n                        {\n                            error &&\n                            <span className=\"rce-error-button\">\n                                <FaError\n                                    color='#ff3d3d'/>\n                            </span>\n                        }\n                        {\n                            !error &&\n                            this.props.data.status &&\n                            !this.props.data.status.download &&\n                            !this.props.data.status.click &&\n                            <FaCloudDownload\n                                color='#aaa'/>\n                        }\n                        {\n                            !error &&\n                            this.props.data.status &&\n                            typeof this.props.data.status.loading === 'number' &&\n                            this.props.data.status.loading !== 0 &&\n                            <Circle\n                                progress={this.props.data.status.loading}\n                                options={progressOptions}\n                                initialAnimate={true}\n                                containerClassName={'rce-mbox-file--loading'} />\n                        }\n                    </div>\n                </button>\n            </div>\n        );\n    }\n}\n\nFileMessage.defaultProps = {\n    text: '',\n    data: {},\n    onClick: null,\n    onDownload: null,\n    onOpen: null,\n};\n\n\nexport default FileMessage;\n","import React, { Component } from 'react';\nimport './SystemMessage.css';\n\nconst classNames = require('classnames');\n\nexport class SystemMessage extends Component {\n    render() {\n        return (\n            <div className={classNames(\"rce-container-smsg\", this.props.className)}>\n                <div\n                    className='rce-smsg'>\n                    <div className=\"rce-smsg-text\">\n                        {this.props.text}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default SystemMessage;\n","import React, { Component } from 'react';\nimport './LocationMessage.css';\n\nconst classNames = require('classnames');\n\nconst STATIC_URL = 'https://maps.googleapis.com/maps/api/staticmap?markers=color:MARKER_COLOR|LATITUDE,LONGITUDE&zoom=ZOOM&size=270x200&scale=2&key=KEY';\nconst MAP_URL = 'https://www.google.com/maps/search/?api=1&query=LATITUDE,LONGITUDE&zoom=ZOOM';\n\nexport class LocationMessage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.className = this.className.bind(this);\n    }\n\n    buildURL(url) {\n        var center = this.props.data || {};\n\n        return url.replace(/LATITUDE/g, center.latitude)\n                  .replace(/LONGITUDE/g, center.longitude)\n                  .replace('MARKER_COLOR', this.props.markerColor)\n                  .replace('ZOOM', this.props.zoom)\n                  .replace('KEY', this.props.apiKey);\n    }\n\n    className() {\n        var className = classNames('rce-mbox-location', this.props.className);\n\n        if (this.props.text) {\n            className = classNames(className, 'rce-mbox-location-has-text');\n        }\n\n        return className;\n    }\n\n    render() {\n        const data = this.props.data || {};\n\n        return (\n            <div className='rce-container-lmsg'>\n                <a\n                    onClick={this.props.onOpen}\n                    target={this.props.target}\n                    href={this.props.href || this.props.src || this.buildURL(data.mapURL || MAP_URL)}\n                    className={this.className()}>\n                    <img\n                        onError={this.props.onError}\n                        className='rce-mbox-location-img'\n                        src={\n                            this.props.src ||\n                            this.buildURL(data.staticURL || STATIC_URL)\n                        }/>\n                </a>\n                {\n                    this.props.text &&\n                    <div className=\"rce-mbox-text rce-mbox-location-text\">\n                        {this.props.text}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nLocationMessage.defaultProps = {\n    target: '_blank',\n    apiKey: '',\n    zoom: 14,\n    markerColor: 'red',\n    onError: () => void(0),\n}\n\nexport default LocationMessage;\n","import React, { Component } from 'react';\nimport './SpotifyMessage.css';\n\nconst classNames = require('classnames');\n\nexport class SpotifyMessage extends Component {\n    toUrl() {\n        var formBody = [];\n        var data = {\n            uri: this.props.uri,\n            theme: this.props.theme,\n            view: this.props.view,\n        };\n        for (var property in data) {\n            var encodedKey = encodeURIComponent(property);\n            var encodedValue = encodeURIComponent(data[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n        formBody = formBody.join(\"&\");\n        return formBody;\n    }\n\n    render() {\n        if (!this.props.uri)\n            return null;\n        return (\n            <div className=\"rce-mbox-spotify\">\n                <iframe\n                    src={\"https://open.spotify.com/embed?\" + this.toUrl()}\n                    width={this.props.width}\n                    height={this.props.height}\n                    frameBorder=\"0\"\n                    allowtransparency=\"true\"></iframe>\n            </div>\n        );\n    }\n}\n\nSpotifyMessage.defaultProps = {\n    uri: '',\n    theme: 'black',\n    view: 'list',\n    width: 300,\n    height: 380,\n}\n\nexport default SpotifyMessage;\n","import React, { Component } from 'react';\nimport './ReplyMessage.css';\n\nconst classNames = require('classnames');\n\nexport class ReplyMessage extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const {\n            photoURL,\n            title,\n            titleColor,\n            message,\n            onClick,\n        } = this.props;\n\n        return (\n            <div\n                className={classNames(\"rce-mbox-reply\", {\n                    'rce-mbox-reply-border': !!titleColor\n                })}\n                style={titleColor && { borderColor: titleColor }}\n                onClick={onClick}>\n                <div className=\"rce-mbox-reply-left\">\n                    <div\n                        style={titleColor && { color: titleColor }}\n                        className=\"rce-mbox-reply-owner\">\n                        {title || 'Unknown'}\n                    </div>\n                    <div className=\"rce-mbox-reply-message\">\n                        {message || '...'}\n                    </div>\n                </div>\n                {\n                    photoURL &&\n                    <div className=\"rce-mbox-reply-right\">\n                        <img src={photoURL} alt=\"\"/>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nReplyMessage.defaultProps = {\n    photoURL: null,\n    title: null,\n    titleColor: null,\n    message: null,\n    onClick: () => void(0),\n}\n\nexport default ReplyMessage;\n","import React, { Component } from 'react';\nimport './Avatar.css';\n\nconst classNames = require('classnames');\n\nconst loadedAvatars = [];\n\nexport class Avatar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.requestImage = this.requestImage.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    isLoaded(src) {\n        return loadedAvatars.indexOf(src) !== -1;\n    }\n\n    requestImage(src) {\n        var self = this;\n        this.loading = true;\n\n        var loaded = () => {\n            loadedAvatars.push(src);\n            delete self.loading;\n            if (this._isMounted !== false) {\n                self.setState({});\n            }\n        };\n\n        var img = document.createElement('img');\n        img.src = src;\n        img.onload = loaded;\n        img.onerror = loaded;\n    }\n\n    stringToColour (str) {\n        var hash = 0;\n        for (let i = 0; i < str.length; i++) {\n            hash = str.charCodeAt(i) + ((hash << 5) - hash);\n        }\n        var colour = '#';\n        for (let i = 0; i < 3; i++) {\n            var value = (hash >> (i * 8)) & 0xFF;\n            value = (value % 150) + 50;\n            colour += ('00' + value.toString(16)).substr(-2);\n        }\n        return colour;\n    }\n\n    render() {\n        let src = this.props.src;\n        let isLazyImage = false;\n\n        if (this.props.lazyLoadingImage) {\n            isLazyImage = true;\n\n            if (!this.isLoaded(src)) {\n                src = this.props.lazyLoadingImage; // lazy image\n\n                if (!this.loading) {\n                    this.requestImage(this.props.src);\n                }\n            }\n            else {\n                isLazyImage = false;\n            }\n        }\n\n        return (\n            <div className={classNames('rce-avatar-container', this.props.type, this.props.size, this.props.className)}>\n                {\n                    this.props.letterItem ?\n                    <div\n                        className=\"rce-avatar-letter-background\"\n                        style={{ backgroundColor: this.stringToColour(this.props.letterItem.id)}}>\n                        <span className=\"rce-avatar-letter\">\n                            {this.props.letterItem.letter}\n                        </span>\n                    </div>\n                    :\n                    <img\n                        alt={this.props.alt}\n                        src={src}\n                        onError={this.props.onError}\n                        className={classNames(\n                            'rce-avatar',\n                            {'rce-avatar-lazy': isLazyImage},\n                        )} />\n                }\n                {this.props.sideElement}\n            </div>\n        );\n    }\n}\n\nAvatar.defaultProps = {\n    type: 'default',\n    size: 'default',\n    src: '',\n    alt: '',\n    sideElement: null,\n    lazyLoadingImage: undefined,\n    onError: () => void(0),\n};\n\nexport default Avatar;\n","import React, { Component } from 'react';\nimport './MeetingMessage.css';\n\nimport FaCalendar from 'react-icons/lib/fa/calendar';\nimport MdMoreHoriz from 'react-icons/lib/md/more-horiz';\nimport FaCaretDown from 'react-icons/lib/fa/caret-down';\nimport FaCaretRight from 'react-icons/lib/fa/caret-right';\nimport IoVideo from 'react-icons/lib/io/ios-videocam-outline';\nimport IoChatboxes from 'react-icons/lib/io/ios-chatboxes-outline';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport classNames from 'classnames';\n\nexport class MeetingMessage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            toogle: false,\n        };\n    }\n\n    toggleClick() {\n        this.setState({\n            toogle: !this.state.toogle,\n        })\n    }\n\n    render() {\n        const {\n            date,\n            dateString,\n            title,\n            subject,\n            onClick,\n            collapseTitle,\n            dataSource,\n            participants,\n            onMeetingTitleClick,\n            onMeetingVideoLinkClick,\n        } = this.props;\n\n        const PARTICIPANT_LIMIT = this.props.participantsLimit;\n\n        const dateText = dateString ? dateString : (date && !isNaN(date) && (format(date)));\n\n        return (\n            <div className=\"rce-mbox-mtmg\">\n                <div className=\"rce-mtmg\">\n                    <div\n                        className=\"rce-mtmg-subject\">\n                        {subject || 'Unknown Meeting'}\n                    </div>\n                    <div\n                        className=\"rce-mtmg-body\"\n                        onClick={onClick}>\n                        <div className=\"rce-mtmg-item\">\n                            <FaCalendar />\n                            <div className=\"rce-mtmg-content\">\n                                <span className=\"rce-mtmg-title\">\n                                    {title}\n                                </span>\n                                <span className='rce-mtmg-date'>\n                                    {dateText}\n                                </span>\n                            </div>\n                        </div>\n                        <div className=\"rce-mtmg-right-icon\">\n                            <MdMoreHoriz/>\n                        </div>\n                    </div>\n                    <div\n                        className=\"rce-mtmg-body-bottom\"\n                        onClick={() => this.toggleClick()}>\n                        {\n                            this.state.toogle === true ?\n                            <div className=\"rce-mtmg-bottom--tptitle\">\n                                <FaCaretDown/>\n                                <span>{collapseTitle}</span>\n                            </div>\n                            :\n                            <div className=\"rce-mtmg-body-bottom--bttitle\">\n                                <FaCaretRight/>\n                                <span>\n                                    {\n                                        participants.slice(0, PARTICIPANT_LIMIT).map(x => x.title || 'Unknow').join(', ')\n                                    }\n                                    {\n                                        participants.length > PARTICIPANT_LIMIT &&\n                                            `, +${(participants.length - PARTICIPANT_LIMIT)}`\n                                    }\n                                </span>\n                            </div>\n                        }\n                    </div>\n                    <div\n                        className={classNames(\n                            'rce-mtmg-toogleContent',\n                            {'rce-mtmg-toogleContent--click': this.state.toogle === true}\n                        )}>\n                        {\n                            dataSource &&\n                            dataSource.map((x, i) => {\n                                return (\n                                    <div key={i}>\n                                        {\n                                            !x.event &&\n                                            <div className=\"rce-mitem\">\n                                                <div\n                                                    className={classNames(\n                                                        'rce-mitem avatar',\n                                                        {'rce-mitem no-avatar': !x.avatar}\n                                                    )}>\n                                                    {\n                                                        x.avatar ?\n                                                            <Avatar src={x.avatar}/>\n                                                            : <IoChatboxes />\n                                                    }\n                                                </div>\n                                                <div className=\"rce-mitem-body\">\n                                                    <div className=\"rce-mitem-body--top\">\n                                                        <div\n                                                            className=\"rce-mitem-body--top-title\"\n                                                            onClick={(e) => onMeetingTitleClick(x, i, e)}>\n                                                            {x.title}\n                                                        </div>\n                                                        <div className=\"rce-mitem-body--top-time\">\n                                                            {\n                                                                x.dateString ? x.dateString : (x.date &&\n                                                                !isNaN(x.date) &&\n                                                                (format(x.date)))\n                                                            }\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"rce-mitem-body--bottom\">\n                                                        <div\n                                                            className=\"rce-mitem-body--bottom-title\" >\n                                                            {x.message}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        }\n\n                                        {\n                                            x.event &&\n                                            <div className=\"rce-mitem-event\">\n                                                <div className=\"rce-mitem-bottom-body\">\n                                                    <div className=\"rce-mitem-body avatar\">\n                                                        <IoVideo />\n                                                    </div>\n                                                    <div className=\"rce-mitem-bottom-body-top\">\n                                                        {x.event.title}\n                                                        <div className=\"rce-mitem-body--top-time\">\n                                                            {\n                                                                x.dateString ? x.dateString : (x.date &&\n                                                                !isNaN(x.date) &&\n                                                                (format(x.date)))\n                                                            }\n                                                        </div>\n                                                        <div className=\"rce-mitem-avatar-content\">\n                                                            {\n                                                                x.event.avatars &&\n                                                                x.event.avatars.map((x, i) => x instanceof Avatar ? x : (\n                                                                    <div key={i} className=\"rce-mitem-avatar\">\n                                                                        <Avatar\n                                                                            src={x.src}/>\n                                                                    </div>\n                                                                ))\n                                                            }\n                                                        </div>\n                                                        {\n                                                            x.record &&\n                                                            <div className=\"rce-mtmg-call-record\">\n                                                                <div className=\"rce-mtmg-call-body\">\n                                                                    <div\n                                                                        onClick={(e) => onMeetingVideoLinkClick(x, i, e)}\n                                                                        className=\"rce-mtmg-call-avatars\">\n                                                                        <Avatar\n                                                                            className={'rce-mtmg-call-avatars'}\n                                                                            src={x.record.avatar}/>\n                                                                        <div className={'rce-mtmg-record-time'}>\n                                                                            {x.record.time}\n                                                                        </div>\n                                                                    </div>\n                                                                    <div className=\"rce-mtmg-call-body-title\">\n                                                                        <span>\n                                                                            {x.record.title}\n                                                                        </span>\n                                                                        <div className=\"rce-mtmg-call-body-bottom\">\n                                                                            {x.record.savedBy}\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        }\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        }\n                                    </div>\n                                )\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nMeetingMessage.defaultProps = {\n    date: new Date(),\n    dateString: '',\n    title: '',\n    subject: '',\n    collapseTitle: '',\n    participantsLimit: 3,\n    avatarFlexible: false,\n    dataSource: [],\n    participants: [],\n    onClick: () => void(0),\n    onMeetingTitleClick: () => void(0),\n    onMeetingVideoLinkClick: () => void(0),\n    onAvatarError: () => void(0),\n};\n\nexport default MeetingMessage;\n","import React, { Component } from 'react';\nimport './MessageBox.css';\n\nimport PhotoMessage from '../PhotoMessage/PhotoMessage';\nimport FileMessage from '../FileMessage/FileMessage';\nimport SystemMessage from '../SystemMessage/SystemMessage';\nimport LocationMessage from '../LocationMessage/LocationMessage';\nimport SpotifyMessage from '../SpotifyMessage/SpotifyMessage';\nimport ReplyMessage from '../ReplyMessage/ReplyMessage';\nimport MeetingMessage from '../MeetingMessage/MeetingMessage';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport FaForward from 'react-icons/lib/fa/mail-forward';\n\nimport IoDoneAll from 'react-icons/lib/io/android-done-all';\nimport MdIosTime from 'react-icons/lib/md/access-time';\nimport MdCheck from 'react-icons/lib/md/check';\nimport MdMessage from 'react-icons/lib/md/message';\n\nimport {\n    format,\n} from 'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class MessageBox extends Component {\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.focus !== this.props.focus && nextProps.focus === true) {\n            if (this.refs['message']) {\n                this.refs['message'].scrollIntoView({\n                    block: \"center\",\n                    behavior: 'smooth'\n                })\n\n                this.props.onMessageFocused(nextProps);\n            }\n        }\n    }\n\n    render() {\n        var positionCls = classNames('rce-mbox', { 'rce-mbox-right': this.props.position === 'right' });\n        var thatAbsoluteTime = !/(text|file|meeting)/g.test(this.props.type) && !(this.props.type === 'location' && this.props.text);\n\n        const dateText = this.props.date && !isNaN(this.props.date) && (\n            this.props.dateString ||\n            format(this.props.date)\n        );\n\n        return (\n            <div\n                ref='message'\n                className={classNames('rce-container-mbox', this.props.className)}\n                onClick={this.props.onClick}>\n                {\n                    this.props.renderAddCmp instanceof Function &&\n                    this.props.renderAddCmp()\n                }\n                {\n                    this.props.type === 'system' ?\n                        <SystemMessage\n                            text={this.props.text} />\n                        :\n                        <div\n                            className={classNames(\n                                positionCls,\n                                {'rce-mbox--clear-padding': thatAbsoluteTime},\n                                {'rce-mbox--clear-notch': !this.props.notch},\n                                { 'message-focus': this.props.focus},\n                            )}>\n                            <div\n                                className='rce-mbox-body'\n                                onContextMenu={this.props.onContextMenu}>\n                                {\n                                    this.props.forwarded === true &&\n                                    <div\n                                        className={classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-forward-right': this.props.position === 'left' },\n                                            { 'rce-mbox-forward-left': this.props.position === 'right' }\n                                        )}\n                                        onClick={this.props.onForwardClick}>\n                                            <FaForward />\n                                    </div>\n                                }\n\n                                {\n                                    this.props.replyButton === true &&\n                                    <div\n                                        className={this.props.forwarded !== true ? classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-forward-right': this.props.position === 'left' },\n                                            { 'rce-mbox-forward-left': this.props.position === 'right' }\n                                        ) : classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-reply-btn-right': this.props.position === 'left' },\n                                            { 'rce-mbox-reply-btn-left': this.props.position === 'right' }\n                                        )}\n                                        onClick={this.props.onReplyClick}>\n                                            <MdMessage />\n                                    </div>\n                                }\n\n                                {\n                                    (this.props.title || this.props.avatar) &&\n                                    <div\n                                        style={this.props.titleColor && { color: this.props.titleColor }}\n                                        onClick={this.props.onTitleClick}\n                                        className={classNames('rce-mbox-title', {\n                                            'rce-mbox-title--clear': this.props.type === 'text',\n                                        })}>\n                                        {\n                                            this.props.avatar &&\n                                            <Avatar\n                                                letterItem={this.props.letterItem}\n                                                src={this.props.avatar}/>\n                                        }\n                                        {\n                                            this.props.title &&\n                                            <span>{this.props.title}</span>\n                                        }\n                                    </div>\n                                }\n\n                                {\n                                    this.props.reply &&\n                                    <ReplyMessage\n                                        photoURL={this.props.reply.photoURL}\n                                        title={this.props.reply.title}\n                                        titleColor={this.props.reply.titleColor}\n                                        message={this.props.reply.message}\n                                        onClick={this.props.onReplyMessageClick}/>\n                                }\n\n                                {\n                                    this.props.type === 'text' &&\n                                    <div className=\"rce-mbox-text\">\n                                        {this.props.text}\n                                    </div>\n                                }\n\n                                {\n                                    this.props.type === 'location' &&\n                                    <LocationMessage\n                                        onOpen={this.props.onOpen}\n                                        data={this.props.data}\n                                        target={this.props.target}\n                                        href={this.props.href}\n                                        apiKey={this.props.apiKey}\n                                        src={this.props.src}\n                                        zoom={this.props.zoom}\n                                        markerColor={this.props.markerColor}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'photo' &&\n                                    <PhotoMessage\n                                        onOpen={this.props.onOpen}\n                                        onDownload={this.props.onDownload}\n                                        onLoad={this.props.onLoad}\n                                        onPhotoError={this.props.onPhotoError}\n                                        data={this.props.data}\n                                        width={this.props.width}\n                                        height={this.props.height}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'file' &&\n                                    <FileMessage\n                                        onOpen={this.props.onOpen}\n                                        onDownload={this.props.onDownload}\n                                        data={this.props.data}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'spotify' &&\n                                    <SpotifyMessage\n                                        width={this.props.width}\n                                        height={this.props.height}\n                                        theme={this.props.theme}\n                                        view={this.props.view}\n                                        data={this.props.data}\n                                        uri={this.props.uri || this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'meeting' &&\n                                    this.props.meeting &&\n                                    <MeetingMessage\n                                        subject={this.props.meeting.subject}\n                                        title={this.props.meeting.title}\n                                        date={this.props.meeting.date}\n                                        dateString={this.props.meeting.dateString}\n                                        collapseTitle={this.props.meeting.collapseTitle}\n                                        participants={this.props.meeting.participants}\n                                        dataSource={this.props.meeting.dataSource}\n                                        onMeetingMessageClick={this.props.onMeetingMessageClick}\n                                        onMeetingVideoLinkClick={this.props.onMeetingVideoLinkClick}\n                                        onMeetingTitleClick={this.props.onMeetingTitleClick} />\n                                }\n\n                                <div\n                                    className={classNames(\n                                        'rce-mbox-time',\n                                        { 'rce-mbox-time-block': thatAbsoluteTime },\n                                        { 'non-copiable': !this.props.copiableDate },\n                                    )}\n                                    data-text={this.props.copiableDate ? undefined : dateText}>\n                                    {\n                                        this.props.copiableDate &&\n                                        this.props.date &&\n                                        !isNaN(this.props.date) &&\n                                        (\n                                            this.props.dateString ||\n                                            format(this.props.date)\n                                        )\n                                    }\n                                    {\n                                        this.props.status &&\n                                        <span className='rce-mbox-status'>\n                                            {\n                                                this.props.status === 'waiting' &&\n                                                <MdIosTime />\n                                            }\n\n                                            {\n                                                this.props.status === 'sent' &&\n                                                <MdCheck />\n                                            }\n\n                                            {\n                                                this.props.status === 'received' &&\n                                                <IoDoneAll />\n                                            }\n\n                                            {\n                                                this.props.status === 'read' &&\n                                                <IoDoneAll color='#4FC3F7'/>\n                                            }\n                                        </span>\n                                    }\n                                </div>\n                            </div>\n\n                            {\n                                this.props.notch &&\n                                (this.props.position === 'right' ?\n                                    <svg className={classNames(\n                                        \"rce-mbox-right-notch\",\n                                        { 'message-focus': this.props.focus},\n                                    )} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                        <path d=\"M0 0v20L20 0\" />\n                                    </svg>\n                                    :\n                                    <div>\n                                        <svg className={classNames(\n                                                \"rce-mbox-left-notch\",\n                                                { 'message-focus': this.props.focus},\n                                            )} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                            <defs>\n                                                <filter id=\"filter1\" x=\"0\" y=\"0\">\n                                                    <feOffset result=\"offOut\" in=\"SourceAlpha\" dx=\"-2\" dy=\"-5\" />\n                                                    <feGaussianBlur result=\"blurOut\" in=\"offOut\" stdDeviation=\"3\" />\n                                                    <feBlend in=\"SourceGraphic\" in2=\"blurOut\" mode=\"normal\" />\n                                                </filter>\n                                            </defs>\n                                            <path d=\"M20 0v20L0 0\" filter=\"url(#filter1)\" />\n                                        </svg>\n                                    </div>\n                                )\n                            }\n                        </div>\n                }\n            </div>\n        );\n    }\n}\n\nMessageBox.defaultProps = {\n    position: 'left',\n    type: 'text',\n    text: '',\n    title: null,\n    titleColor: null,\n    onTitleClick: null,\n    onForwardClick: null,\n    onReplyClick: null,\n    onReplyMessageClick: null,\n    date: new Date(),\n    data: {},\n    onClick: null,\n    onOpen: null,\n    onDownload: null,\n    onLoad: null,\n    onPhotoError: null,\n    forwarded: false,\n    reply: false,\n    status: null,\n    dateString: null,\n    notch: true,\n    avatar: null,\n    renderAddCmp: null,\n    copiableDate: false,\n    onContextMenu: null,\n    focus: false,\n    onMessageFocused: null,\n};\n\n\nexport default MessageBox;\n","import React, { Component } from 'react';\nimport './ChatItem.css';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class ChatItem extends Component {\n\n    render() {\n        const statusColorType = this.props.statusColorType;\n\n        return (\n            <div\n                className={classNames('rce-container-citem', this.props.className)}\n                onClick={this.props.onClick}\n                onContextMenu={this.props.onContextMenu}>\n                <div className=\"rce-citem\">\n                    <div className={classNames(\n                            \"rce-citem-avatar\",\n                            {\n                                'rce-citem-status-encircle': statusColorType === 'encircle',\n                            }\n                        )}>\n                        <Avatar\n                            src={this.props.avatar}\n                            alt={this.props.alt}\n                            className={statusColorType === 'encircle' ? 'rce-citem-avatar-encircle-status' : ''}\n                            size=\"large\"\n                            letterItem={this.props.letterItem}\n                            sideElement={\n                                this.props.statusColor &&\n                                <span\n                                    className='rce-citem-status'\n                                    style={statusColorType === 'encircle' ? {\n                                        boxShadow: `inset 0 0 0 2px ${this.props.statusColor}, inset 0 0 0 5px #FFFFFF`\n                                    } : {\n                                        backgroundColor: this.props.statusColor,\n                                    }}>\n                                    {this.props.statusText}\n                                </span>\n                            }\n                            onError={this.props.onAvatarError}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            type={classNames('circle', {'flexible': this.props.avatarFlexible})}/>\n                    </div>\n\n                    <div className=\"rce-citem-body\">\n                        <div className=\"rce-citem-body--top\">\n                            <div className=\"rce-citem-body--top-title\">\n                                {this.props.title}\n                            </div>\n                            <div className=\"rce-citem-body--top-time\">\n                                {\n                                    this.props.date &&\n                                    !isNaN(this.props.date) &&\n                                    (\n                                        this.props.dateString ||\n                                        format(this.props.date)\n                                    )\n                                }\n                            </div>\n                        </div>\n\n                        <div className=\"rce-citem-body--bottom\">\n                            <div className=\"rce-citem-body--bottom-title\">\n                                {this.props.subtitle}\n                            </div>\n                            <div className=\"rce-citem-body--bottom-status\">\n                                {\n                                    this.props.unread > 0 &&\n                                    <span>{this.props.unread}</span>\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nChatItem.defaultProps = {\n    id: '',\n    onClick: null,\n    avatar: '',\n    avatarFlexible: false,\n    alt: '',\n    title: '',\n    subtitle: '',\n    date: new Date(),\n    unread: 0,\n    statusColor: null,\n    statusColorType: 'badge',\n    statusText: null,\n    dateString: null,\n    lazyLoadingImage: undefined,\n    onAvatarError: () => void(0),\n}\n\nexport default ChatItem;\n","import React, { Component } from 'react';\nimport './ChatList.css';\n\nimport ChatItem from '../ChatItem/ChatItem';\n\nconst classNames = require('classnames');\n\nexport class ChatList extends Component {\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        e.preventDefault();\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onAvatarError(item, i, e) {\n        if (this.props.onAvatarError instanceof Function)\n            this.props.onAvatarError(item, i, e);\n    }\n\n    render() {\n        return (\n            <div\n                ref={this.props.cmpRef}\n                className={classNames('rce-container-clist', this.props.className)}>\n                {\n                    this.props.dataSource.map((x, i) => (\n                        <ChatItem\n                            id={x.id || i}\n                            key={i}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            {...x}\n                            onAvatarError={(e) => this.onAvatarError(x, i, e)}\n                            onContextMenu={(e) => this.onContextMenu(x, i, e)}\n                            onClick={(e) => this.onClick(x, i, e)}/>\n                    ))\n                }\n            </div>\n        );\n    }\n}\n\nChatList.defaultProps = {\n    dataSource: [],\n    onClick: null,\n    lazyLoadingImage: undefined,\n};\n\nexport default ChatList;\n","import React, { Component, } from 'react';\nimport './MessageList.css';\n\nimport MessageBox from '../MessageBox/MessageBox';\n\nimport FaChevronDown from 'react-icons/lib/fa/chevron-down';\n\nconst classNames = require('classnames');\n\nexport class MessageList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            scrollBottom: 0,\n            downButton: false,\n        };\n\n        this.loadRef = this.loadRef.bind(this);\n        this.onScroll = this.onScroll.bind(this);\n    }\n\n    checkScroll() {\n        var e = this.mlistRef;\n        if (!e)\n            return;\n\n        if (this.props.toBottomHeight === '100%' || this.state.scrollBottom < this.props.toBottomHeight) {\n            // scroll to bottom\n            e.scrollTop = e.scrollHeight;\n        } else {\n            if (this.props.lockable === true) {\n                e.scrollTop = e.scrollHeight - e.offsetHeight - this.state.scrollBottom;\n            }\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!this.mlistRef)\n            return;\n        if (nextProps.dataSource.length !== this.props.dataSource.length) {\n            this.setState({\n                scrollBottom: this.getBottom(this.mlistRef),\n            }, this.checkScroll.bind(this));\n        }\n    }\n\n    getBottom(e) {\n        return e.scrollHeight - e.scrollTop - e.offsetHeight;\n    }\n\n    onOpen(item, i, e) {\n        if (this.props.onOpen instanceof Function)\n            this.props.onOpen(item, i, e);\n    }\n\n    onDownload(item, i, e) {\n        if (this.props.onDownload instanceof Function)\n            this.props.onDownload(item, i, e);\n    }\n\n    onPhotoError(item, i, e) {\n      if (this.props.onPhotoError instanceof Function)\n        this.props.onPhotoError(item, i, e);\n    }\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onTitleClick(item, i, e) {\n        if (this.props.onTitleClick instanceof Function)\n            this.props.onTitleClick(item, i, e);\n    }\n\n    onForwardClick(item, i, e) {\n        if (this.props.onForwardClick instanceof Function)\n            this.props.onForwardClick(item, i, e);\n    }\n\n    onReplyClick(item, i, e) {\n        if (this.props.onReplyClick instanceof Function)\n            this.props.onReplyClick(item, i, e);\n    }\n\n    onReplyMessageClick(item, i, e) {\n        if (this.props.onReplyMessageClick instanceof Function)\n            this.props.onReplyMessageClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onMessageFocused(item, i, e) {\n        if (this.props.onMessageFocused instanceof Function)\n            this.props.onMessageFocused(item, i, e);\n    }\n\n    onMeetingMessageClick(item, i, e) {\n        if (this.props.onMeetingMessageClick instanceof Function)\n            this.props.onMeetingMessageClick(item, i, e);\n    }\n\n    loadRef(ref) {\n        this.mlistRef = ref;\n        if (this.props.cmpRef instanceof Function)\n            this.props.cmpRef(ref);\n    }\n\n    onScroll(e) {\n        var bottom = this.getBottom(e.target);\n        this.state.scrollBottom = bottom;\n        if (this.props.toBottomHeight === '100%' || bottom > this.props.toBottomHeight) {\n            if (this.state.downButton !== true) {\n                this.state.downButton = true;\n                this.setState({\n                    downButton: true,\n                    scrollBottom: bottom,\n                });\n            }\n        } else {\n            if (this.state.downButton !== false) {\n                this.state.downButton = false;\n                this.setState({\n                    downButton: false,\n                    scrollBottom: bottom,\n                });\n            }\n        }\n\n        if (this.props.onScroll instanceof Function) {\n            this.props.onScroll(e);\n        }\n    }\n\n    toBottom(e) {\n        if(!this.mlistRef)\n            return;\n        this.mlistRef.scrollTop = this.mlistRef.scrollHeight;\n        if (this.props.onDownButtonClick instanceof Function) {\n            this.props.onDownButtonClick(e);\n        }\n    }\n\n    render() {\n        return (\n            <div\n                className={classNames(['rce-container-mlist', this.props.className])}>\n                <div\n                    ref={this.loadRef}\n                    onScroll={this.onScroll}\n                    className='rce-mlist'>\n                    {\n                        this.props.dataSource.map((x, i) => (\n                            <MessageBox\n                                key={i}\n                                {...x}\n                                onOpen={this.props.onOpen && ((e) => this.onOpen(x, i, e))}\n                                onPhotoError={this.props.onPhotoError && ((e) => this.onPhotoError(x, i, e))}\n                                onDownload={this.props.onDownload && ((e) => this.onDownload(x, i, e))}\n                                onTitleClick={this.props.onTitleClick && ((e) => this.onTitleClick(x, i, e))}\n                                onForwardClick={this.props.onForwardClick && ((e) => this.onForwardClick(x, i, e))}\n                                onReplyClick={this.props.onReplyClick && ((e) => this.onReplyClick(x, i, e))}\n                                onReplyMessageClick={this.props.onReplyMessageClick && ((e) => this.onReplyMessageClick(x, i, e))}\n                                onClick={this.props.onClick && ((e) => this.onClick(x, i, e))}\n                                onContextMenu={this.props.onContextMenu && ((e) => this.onContextMenu(x, i, e))}\n                                onMessageFocused={this.props.onMessageFocused && ((e) => this.onMessageFocused(x, i, e))}\n                                onMeetingMessageClick={this.props.onMeetingMessageClick && ((e) => this.onMeetingMessageClick(x, i, e))}\n                                onMeetingTitleClick={this.props.onMeetingTitleClick}\n                                onMeetingVideoLinkClick={this.props.onMeetingVideoLinkClick}\n                            />\n                        ))\n                    }\n                </div>\n                {\n                    this.props.downButton === true &&\n                    this.state.downButton &&\n                    this.props.toBottomHeight !== '100%' &&\n                    <div\n                        className='rce-mlist-down-button'\n                        onClick={this.toBottom.bind(this)}>\n                        <FaChevronDown/>\n                        {\n                            this.props.downButtonBadge &&\n                            <span\n                                className='rce-mlist-down-button--badge'>\n                                {this.props.downButtonBadge}\n                            </span>\n                        }\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nMessageList.defaultProps = {\n    onClick: null,\n    onTitleClick: null,\n    onForwardClick: null,\n    onReplyClick: null,\n    onReplyMessageClick: null,\n    onMeetingMessageClick: null,\n    onDownButtonClick: null,\n    onOpen: null,\n    onPhotoError: null,\n    onDownload: null,\n    dataSource: [],\n    lockable: false,\n    toBottomHeight: 300,\n    downButton: true,\n    downButtonBadge: null,\n};\n\nexport default MessageList;\n","import React, { Component } from 'react';\nimport './Input.css';\n\nconst classNames = require('classnames');\n\nexport class Input extends Component {\n    onChange(e) {\n        if (this.props.maxlength && (e.target.value || '').length > this.props.maxlength) {\n            if (this.props.onMaxLengthExceed instanceof Function)\n                this.props.onMaxLengthExceed();\n\n            this.input.value = (e.target.value || '').substring(0, this.props.maxlength);\n            return;\n        }\n\n        if (this.props.onChange instanceof Function)\n            this.props.onChange(e);\n\n        if (this.props.multiline === true) {\n            if (this.props.autoHeight === true) {\n                if (e.target.style.height !== this.props.minHeight + 'px') {\n                    e.target.style.height = this.props.minHeight + 'px';\n                }\n\n                let height;\n                if (e.target.scrollHeight <= this.props.maxHeight)\n                    height = e.target.scrollHeight + 'px';\n                else\n                    height = this.props.maxHeight + 'px';\n\n                if (e.target.style.height !== height) {\n                    e.target.style.height = height;\n                }\n            }\n        }\n    }\n\n    clear() {\n        var event = {\n            FAKE_EVENT: true,\n            target: this.input,\n        };\n\n        if (this.input.value) {\n            this.input.value = '';\n        }\n\n        this.onChange(event);\n    }\n\n    componentDidMount() {\n        if (this.props.autofocus === true)\n            this.input.focus();\n    }\n\n    render() {\n        return (\n            <div className={classNames('rce-container-input', this.props.className)}>\n                {\n                    this.props.leftButtons &&\n                    <div className='rce-input-buttons'>\n                        {this.props.leftButtons}\n                    </div>\n                }\n                {\n                    this.props.multiline === false ?\n                    <input\n                        ref={(ref) => {\n                            if (this.props.inputRef instanceof Function)\n                                this.props.inputRef(ref);\n                            this.input = ref;\n                        }}\n                        type={this.props.type}\n                        className={classNames('rce-input')}\n                        placeholder={this.props.placeholder}\n                        defaultValue={this.props.defaultValue}\n                        style={this.props.inputStyle}\n                        onChange={this.onChange.bind(this)}\n                        onCopy={this.props.onCopy}\n                        onCut={this.props.onCut}\n                        onPaste={this.props.onPaste}\n                        onBlur={this.props.onBlur}\n                        onFocus={this.props.onFocus}\n                        onSelect={this.props.onSelect}\n                        onSubmit={this.props.onSubmit}\n                        onReset={this.props.onReset}\n                        onKeyDown={this.props.onKeyDown}\n                        onKeyPress={this.props.onKeyPress}\n                        onKeyUp={this.props.onKeyUp}/>\n                    :\n                    <textarea\n                        ref={(ref) => {\n                            if (this.props.inputRef instanceof Function)\n                                this.props.inputRef(ref);\n                            this.input = ref;\n                        }}\n                        type={this.props.type}\n                        className={classNames('rce-input', 'rce-input-textarea')}\n                        placeholder={this.props.placeholder}\n                        defaultValue={this.props.defaultValue}\n                        style={this.props.inputStyle}\n                        onChange={this.onChange.bind(this)}\n                        onCopy={this.props.onCopy}\n                        onCut={this.props.onCut}\n                        onPaste={this.props.onPaste}\n                        onBlur={this.props.onBlur}\n                        onFocus={this.props.onFocus}\n                        onSelect={this.props.onSelect}\n                        onSubmit={this.props.onSubmit}\n                        onReset={this.props.onReset}\n                        onKeyDown={this.props.onKeyDown}\n                        onKeyPress={this.props.onKeyPress}\n                        onKeyUp={this.props.onKeyUp}></textarea>\n                }\n                {\n                    this.props.rightButtons &&\n                    <div className='rce-input-buttons'>\n                        {this.props.rightButtons}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nInput.defaultProps = {\n    type: 'text',\n    placeholder: '',\n    defaultValue: '',\n    onChange: null,\n    rightButtons: null,\n    leftButtons: null,\n    multiline: false,\n    minHeight: 25,\n    maxHeight: 200,\n    autoHeight: true,\n    inputStyle: null,\n    inputRef: null,\n    maxlength: null,\n    onMaxLengthExceed: null,\n    autofocus: false,\n};\n\nexport default Input;\n","import React, { Component } from 'react';\nimport './Button.css';\n\nconst classNames = require('classnames');\n\nexport class Button extends Component {\n    render() {\n        return (\n            <button\n                ref={this.props.buttonRef}\n                title={this.props.title}\n                className={classNames('rce-button', this.props.type, this.props.className)}\n                style={{\n                    backgroundColor: this.props.backgroundColor,\n                    color: this.props.color,\n                    borderColor: this.props.backgroundColor\n                }}\n                disabled={this.props.disabled}\n                onClick={this.props.onClick}>\n                {\n                    this.props.icon ?\n                        <span className='rce-button-icon--container'>\n                            {(this.props.icon.float === 'right' || !this.props.icon.float) && <span>{this.props.text}</span>}\n\n                            <span style={{ float: this.props.icon.float, fontSize: this.props.icon.size || 12 }} className='rce-button-icon'>{this.props.icon.component}</span>\n\n                            {this.props.icon.float === 'left' && <span>{this.props.text}</span>}\n                        </span>\n                        : <span>{this.props.text}</span>\n                }\n            </button>\n        );\n    }\n}\n\nButton.defaultProps = {\n    text: '',\n    disabled: false,\n    type: null,\n    icon: null,\n    backgroundColor: '#3979aa',\n    color: 'white',\n    className: null,\n    buttonRef: null,\n    title: null,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport './Navbar.css';\n\nconst classNames = require('classnames');\n\nexport class Navbar extends Component {\n    render() {\n        return (\n            <div className={classNames('rce-navbar', this.props.type, this.props.className)}>\n                <div className=\"rce-navbar-item rce-navbar-item__left\">\n                    {this.props.left}\n                </div>\n                <div className=\"rce-navbar-item rce-navbar-item__center\">\n                    {this.props.center}\n                </div>\n                <div className=\"rce-navbar-item rce-navbar-item__right\">\n                    {this.props.right}\n                </div>\n            </div>\n        );\n    }\n}\n\nNavbar.defaultProps = {\n    left: null,\n    center: null,\n    right: null,\n    type:'light'\n};\n\nexport default Navbar;\n","import React, { Component } from 'react';\nimport './Dropdown.css';\n\nimport Button from '../Button/Button';\n\nconst classNames = require('classnames');\n\nexport class Dropdown extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: undefined,\n        };\n    }\n\n    onBlur(e) {\n        if (this.state.show === true)\n            this.setState({show: false});\n    }\n\n    render() {\n        return (\n            <div className={classNames('rce-dropdown-container', this.props.className)} onBlur={this.onBlur.bind(this)}>\n                {\n                    <Button\n                        {...this.props.buttonProps}\n                        onClick={() => this.setState({ show: !this.state.show })} />\n                }\n                <div\n                    className={classNames(\n                        'rce-dropdown',\n                        this.props.animationType,\n                        'rce-dropdown-open__' + this.props.animationPosition,\n                        { 'dropdown-hide': this.state.show === false },\n                        { 'dropdown-show': this.state.show === true })}>\n\n                        <ul>\n                            {\n                                this.props.title &&\n                                <span className='rce-dropdown-title'>{this.props.title}</span>\n                            }\n                            {\n                                this.props.items.map((x, i) => (\n                                    <li key={i} onMouseDown={(e) => this.props.onSelect(i)}>\n                                        {\n                                            x instanceof Object ?\n                                                x.icon ?\n                                                    <span className='rce-button-icon--container'>\n                                                        {(x.icon.float === 'right' || !x.icon.float) && <a>{x.text}</a>}\n\n                                                        <span style={{ float: x.icon.float, color: x.icon.color, fontSize: x.icon.size || 12 }} className={classNames('rce-button-icon', x.icon.className)}>{x.icon.component}</span>\n\n                                                        {x.icon.float === 'left' && <a>{x.text}</a>}\n                                                    </span>\n                                                    : <a>{x.text}</a>\n                                            :\n                                            <a>{x}</a>\n                                        }\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                </div>\n            </div>\n        );\n    }\n}\n\nDropdown.defaultProps = {\n    animationType: 'default',\n    animationPosition: 'nortwest',\n    items: [],\n    onSelect: Function,\n    buttonProps: null\n};\n\nexport default Dropdown;\n","import React, { Component } from 'react';\nimport './SideBar.css';\n\nconst classNames = require('classnames');\n\nexport class SideBar extends Component {\n    render() {\n        return (\n            <div className={classNames('rce-sbar', this.props.type, this.props.className)}>\n                <div className=\"rce-sbar-item\">\n                    {this.props.top}\n                </div>\n                <div className=\"rce-sbar-item rce-sbar-item__center\">\n                    {this.props.center}\n                </div>\n                <div className=\"rce-sbar-item\">\n                    {this.props.bottom}\n                </div>\n            </div>\n        );\n    }\n}\n\nSideBar.defaultProps = {\n    top: null,\n    center: null,\n    bottom: null,\n    type: 'dark',\n}\n\nexport default SideBar;\n","import React, { Component } from 'react';\nimport './Popup.css';\n\nimport Button from '../Button/Button';\n\nconst classNames = require('classnames');\n\nexport class Popup extends Component {\n    render() {\n        if (this.props.show === true)\n        return (\n            <div className={classNames('rce-popup-wrapper', this.props.type, this.props.className)}>\n                <div className=\"rce-popup\">\n                    {\n                        this.props.renderHeader ?\n                            <div className=\"rce-popup-header\">\n                                {this.props.renderHeader()}\n                            </div>\n                        :\n                        <div className=\"rce-popup-header\">\n                            <span>{this.props.header}</span>\n                            {\n                                this.props.header &&\n                                this.props.headerButtons.map((x, i) => (\n                                    <Button\n                                        key={i}\n                                        {...x}/>\n                                ))\n                            }\n                        </div>\n                    }\n                    <div className=\"rce-popup-content\" style={{color: this.props.color}}>\n                        {\n                            this.props.renderContent ?\n                                this.props.renderContent()\n                            :\n                            this.props.text\n                        }\n                    </div>\n                    <div className=\"rce-popup-footer\">\n                        {\n                            this.props.renderFooter ?\n                                this.props.renderFooter()\n                            :\n                            this.props.footerButtons.map((x, i) => (\n                                <Button\n                                    key={i}\n                                    {...x}/>\n                            ))\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n        return null;\n    }\n}\n\nPopup.defaultProps = {\n    show: false,\n    header: null,\n    text: null,\n    headerButtons: [],\n    footerButtons: [],\n    renderHeader: null,\n    renderContent: null,\n    renderFooter: null,\n    color: '#333',\n};\n\nexport default Popup;\n","import React, { Component } from 'react';\nimport './MeetingItem.css';\n\nimport MdVideoCall from 'react-icons/lib/md/video-call';\nimport MdLink from 'react-icons/lib/md/link';\nimport MdCall from 'react-icons/lib/md/call';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class MeetingItem extends Component {\n\n    render() {\n        const statusColorType = this.props.statusColorType;\n        const AVATAR_LIMIT = this.props.avatarLimit;\n\n        const dateText = this.props.date && !isNaN(this.props.date) && (\n            this.props.dateString ||\n            format(this.props.date)\n        );\n\n        const subject = this.props.subject.substring(0, this.props.subjectLimit) + (this.props.subject.length > this.props.subjectLimit ? '...' : '');\n\n        return (\n            <div\n                className={classNames('rce-container-mtitem', this.props.className)}\n                onClick={this.props.onClick}\n                onContextMenu={this.props.onContextMenu}>\n                <div className=\"rce-mtitem\">\n                    <div className=\"rce-mtitem-top\">\n                        <div className=\"rce-mtitem-subject\">\n                            {subject}\n                        </div>\n                        <div\n                            className=\"rce-mtitem-share\"\n                            onClick={this.props.onShareClick}>\n                            <MdLink />\n                        </div>\n                    </div>\n                    <div className=\"rce-mtitem-body\">\n                        <div className=\"rce-mtitem-body--avatars\">\n                            {\n                                this.props.avatars.slice(0, AVATAR_LIMIT).map((x, i) => x instanceof Avatar ? x : (\n                                    <Avatar\n                                        key={i}\n                                        src={x.src}\n                                        alt={x.alt}\n                                        className={x.statusColorType === 'encircle' ? 'rce-mtitem-avatar-encircle-status' : ''}\n                                        size={'small'}\n                                        letterItem={x.letterItem}\n                                        sideElement={\n                                            x.statusColor &&\n                                            <span\n                                                className='rce-mtitem-status'\n                                                style={statusColorType === 'encircle' ? {\n                                                    boxShadow: `inset 0 0 0 2px ${x.statusColor}, inset 0 0 0 5px #FFFFFF`\n                                                } : {\n                                                    backgroundColor: x.statusColor,\n                                                }}>\n                                                {x.statusText}\n                                            </span>\n                                        }\n                                        onError={this.props.onAvatarError}\n                                        lazyLoadingImage={this.props.lazyLoadingImage}\n                                        type={classNames('circle', {'flexible': this.props.avatarFlexible})}/>\n                                ))\n                            }\n\n                            {\n                                this.props.avatars.length > AVATAR_LIMIT &&\n                                <div className='rce-avatar-container circle small rce-mtitem-letter'>\n                                    <span>\n                                        {'+' + (this.props.avatars.length - AVATAR_LIMIT)}\n                                    </span>\n                                </div>\n                            }\n                        </div>\n                        <div className=\"rce-mtitem-body--functions\">\n                            {\n                                this.props.closable &&\n                                <div\n                                    className=\"rce-mtitem-closable\"\n                                    onClick={this.props.onCloseClick}>\n                                    <MdCall />\n                                </div>\n                            }\n                            <div\n                                className='rce-mtitem-button'\n                                onClick={this.props.onMeetingClick}>\n                                <MdVideoCall />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"rce-mtitem-footer\">\n                        <span className='rce-mtitem-date'>\n                            {dateText}\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nMeetingItem.defaultProps = {\n    id: '',\n    subject: '',\n    subjectLimit: 60,\n    onClick: null,\n    avatarFlexible: false,\n    alt: '',\n    title: '',\n    subtitle: '',\n    date: new Date(),\n    dateString: '',\n    lazyLoadingImage: undefined,\n    avatarLimit: 5,\n    avatars: [],\n    onAvatarError: () => void(0),\n    onMeetingClick: () => void(0),\n    onShareClick: () => void(0),\n}\n\nexport default MeetingItem;\n","import React, { Component } from 'react';\nimport './MeetingList.css';\n\nimport MeetingItem from '../MeetingItem/MeetingItem';\n\nconst classNames = require('classnames');\n\nexport class MeetingList extends Component {\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        e.preventDefault();\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onAvatarError(item, i, e) {\n        if (this.props.onAvatarError instanceof Function)\n            this.props.onAvatarError(item, i, e);\n    }\n\n    onMeetingClick(item, i, e) {\n        if (this.props.onMeetingClick instanceof Function)\n            this.props.onMeetingClick(item, i, e);\n    }\n\n    onShareClick(item, i, e) {\n        if (this.props.onShareClick instanceof Function)\n            this.props.onShareClick(item, i, e);\n    }\n\n    onCloseClick(item, i, e) {\n        if (this.props.onCloseClick instanceof Function)\n            this.props.onCloseClick(item, i, e);\n    }\n\n    render() {\n        return (\n            <div\n                ref={this.props.cmpRef}\n                className={classNames('rce-container-mtlist', this.props.className)}>\n                {\n                    this.props.dataSource.map((x, i) => (\n                        <MeetingItem\n                            id={x.id || i}\n                            key={i}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            {...x}\n                            onAvatarError={(e) => this.onAvatarError(x, i, e)}\n                            onContextMenu={(e) => this.onContextMenu(x, i, e)}\n                            onClick={(e) => this.onClick(x, i, e)}\n                            onMeetingClick={(e) => this.onMeetingClick(x, i, e)}\n                            onShareClick={(e) => this.onShareClick(x, i, e)}\n                            onCloseClick={(e) => this.onCloseClick(x, i, e)}/>\n                    ))\n                }\n            </div>\n        );\n    }\n}\n\nMeetingList.defaultProps = {\n    dataSource: [],\n    onClick: null,\n    lazyLoadingImage: undefined,\n};\n\nexport default MeetingList;\n","import React, { useState, Component, useEffect, useContext } from 'react';\nimport axios from 'axios'\n\nimport './EstiloChat.css'\nimport {\n    ChatItem,\n    ChatList,\n    MessageList,\n    Input,\n    Button,\n    SideBar,\n} from './ComponentesChat'; \nimport {IconButton, Button as Boton, LinearProgress as Cargando} from '@material-ui/core/';\nimport Alerta from '@material-ui/lab/Alert';\nimport {KeyboardReturn as Atras, StarRate, TramRounded} from '@material-ui/icons/';\nimport AlertaSi_No from '../AlertaSi_No.js';\nimport AlertaMensaje from '../AlertaMensaje.js';\nimport you from './Miniatura.png'\n\n\n//import loremIpsum from 'lorem-ipsum';\n//import Identicon from './identicon.js';  \nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\nimport Estilos from '../Estilos.js'\n\nexport function Chat(){\n    const classes = Estilos();\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\n    const [cargando, setcargando] = useState(false)\n    const [chats, setchats] = useState([])\n    const [chatsOrdenados, setchatsOrdenados] = useState([])\n    const [mensajes, setmensajes] = useState([]);\n    const [chatSeleccionado, setchatSeleccionado] = useState(null);\n    const [confirmacion, setconfirmacion] = useState(false);\n    const [abrir, setabrir] = useState(false);\n    const [deshabilitado, setdeshabilitado] = useState(false);\n    \n    const [contenido, setcontenido] = useState(\"\");\n    const [atras, setatras] = useState(false);\n    \n    useEffect(()=>{\n        let auth = 'Bearer '+state.jwt;\n        setcargando(true)\n        if(state.jwt!==\"\"){\n            axios.get(state.servidor+\"/api/chats/\",{\n                headers: {'Authorization': auth},\n              })\n            .then(response => {\n                //Obtenemos todos los chats del sistema y filtramos segun el id de receptor o emisor\n                let chats_ = response.data.filter(chat => (chat.receptor.id === state.datosSesion.id || chat.emisor.id === state.datosSesion.id))\n                \n                setchats(chats_.map((chat)=>{\n                    let emisor = `${chat.emisor.nombre} ${chat.emisor.apellido}`\n                    let receptor = `${chat.receptor.nombre} ${chat.receptor.apellido}`\n                    let img_emisor = chat.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chat.emisor.imagen_perfil.url\n                    let img_receptor = chat.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chat.receptor.imagen_perfil.url\n                    \n                    //Establecemos el objeto de mensaje (de la interfaz), con los mensajes del respectivo chat\n                    let msjs = chat.mensajes.map((mensaje)=>({\n                        position: mensaje.enviado_por?'right':'left',\n                        forwarded: false,\n                        replyButton: false,\n                        reply: null,\n                        meeting: null,\n                        type: \"text\",\n                        theme: 'white',\n                        view: 'list',\n                        title: mensaje.enviado_por?emisor:receptor,\n                        titleColor: \"#EB7887\",\n                        text: mensaje.contenido,\n                        onLoad: () => {\n                            console.log('Photo loaded');\n                        },\n                        status: null,\n                        date: new Date(mensaje.created_at),\n                        onReplyMessageClick: () => {\n                            console.log('onReplyMessageClick');\n                        },\n                        avatar: mensaje.enviado_por?img_emisor:img_receptor,\n                    }\n                    ))\n                    let img_categoria = null\n                    let img_solicitud = null\n                    if (chat.solicitud===null){\n                        img_categoria = chat.categoria.imagen===null?state.imagen_predeterminada:state.servidor+chat.categoria.imagen.url\n                    }else{\n                        img_solicitud = chat.solicitud.imagenes.length===0?state.imagen_predeterminada:state.servidor+chat.solicitud.imagenes[0].url\n                    }\n                    \n                    return {\n                        chat:{\n                            id: chat.id,\n                            avatar: chat.solicitud===null?img_categoria:img_solicitud,\n                            avatarFlexible: true,\n                            statusColor: 'lightgreen',\n                            statusColorType: 'encircle',\n                            alt: \"Imagen de perfil\",\n                            title: chat.solicitud===null?chat.categoria.nombre:chat.solicitud.titulo,\n                            date: new Date(chat.mensajes[chat.mensajes.length-1].created_at),\n                            subtitle: chat.mensajes[chat.mensajes.length-1].contenido,\n                            unread: state.datosSesion.id===chat.emisor.id?chat.noleido_emisor:chat.noleido_receptor,\n                            mensajes: msjs,\n                            emisor: chat.emisor,\n                            receptor: chat.receptor,\n                            noleido_emisor: chat.noleido_emisor,\n                            noleido_receptor: chat.noleido_receptor,\n                            categoria: chat.categoria,\n                            solicitud: chat.solicitud,\n                            peticion: chat.peticion\n                        }\n                    }\n                }))\n                setcargando(false)\n            })\n            .catch(error => {\n                alert(\"Un error ha ocurrido al cargar los chats.\")\n                console.log(error.response)\n            }) \n        }\n    },[state.jwt])\n\n    useEffect(()=>{\n        if(chats.length!==0){\n            //console.log(chats)\n            setchatSeleccionado(chats[0].chat)\n            setmensajes(chats[0].chat.mensajes)\n        }\n    },[chats])\n\n    useEffect(() => {\n        if (chatSeleccionado!==null && chatSeleccionado.peticion)\n            setdeshabilitado(true)\n    }, [chatSeleccionado])\n\n    function actualizarMensajes(chat){\n        if(!cargando){\n            setcargando(true)\n            setmensajes(chat.mensajes)\n            setchatSeleccionado(chat)\n            setatras(false)\n            let auth = 'Bearer '+state.jwt;\n\n            //Si abrimos el chat debemos actualizar el valor de los mensajes no leidos a 0\n            let obj_leido = {}\n            if(state.datosSesion.id===chat.emisor.id){\n                obj_leido[\"noleido_emisor\"] = 0\n            }else{\n                obj_leido[\"noleido_receptor\"] = 0\n            }\n            axios.put(state.servidor+\"/api/chats/\"+chat.id,obj_leido,{\n                headers: {'Authorization': auth},\n            }).then(response => {\n                console.log(response.data)\n            })\n            //////////////////////////////////////////////////////////////////////////////////\n\n            //Buscamos todos los mensajes del chat seleccionado\n            axios.get(state.servidor+\"/api/chats/\"+chat.id,{\n                headers: {'Authorization': auth},\n            })\n            .then(response => {\n                let emisor = `${response.data.emisor.nombre} ${response.data.emisor.apellido}`\n                let receptor = `${response.data.receptor.nombre} ${response.data.receptor.apellido}`\n                let img_emisor = response.data.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+response.data.emisor.imagen_perfil.url\n                let img_receptor = response.data.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+response.data.receptor.imagen_perfil.url\n                \n                //Establecemos el objeto de mensaje (de la interfaz), con los mensajes del respectivo chat\n                let msjs = response.data.mensajes.map((mensaje, i)=>({\n                    position: mensaje.enviado_por?'right':'left',\n                    forwarded: false,\n                    replyButton: false,\n                    reply: null,\n                    meeting: null,\n                    type: \"text\",\n                    theme: 'white',\n                    view: 'list',\n                    title: mensaje.enviado_por?emisor:receptor,\n                    titleColor: \"#EB7887\",\n                    text: mensaje.contenido,\n                    onLoad: () => {\n                        console.log('Photo loaded');\n                    },\n                    status: null,\n                    date: new Date(mensaje.created_at),\n                    onReplyMessageClick: () => {\n                        console.log('onReplyMessageClick');\n                    },\n                    avatar: mensaje.enviado_por?img_emisor:img_receptor,\n                }\n                ))\n                setmensajes(msjs)\n                setdeshabilitado(response.data.peticion)\n                setcargando(false)\n            })\n            .catch(error => {\n                alert(\"Un error ha ocurrido al cargar los mensajes.\")\n                console.log(error.response)\n            }) \n        }\n    }\n\n    function agregarMensaje() {\n        let auth = 'Bearer '+state.jwt;\n        if(chatSeleccionado!==null){\n            let emisor = `${chatSeleccionado.emisor.nombre} ${chatSeleccionado.emisor.apellido}`\n            let receptor = `${chatSeleccionado.receptor.nombre} ${chatSeleccionado.receptor.apellido}`\n            let img_emisor = chatSeleccionado.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chatSeleccionado.emisor.imagen_perfil.url\n            let img_receptor = chatSeleccionado.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chatSeleccionado.receptor.imagen_perfil.url\n\n            //Se actualiza el arreglo de mensajes\n            setmensajes([...mensajes, {\n                position: state.datosSesion.id===chatSeleccionado.emisor.id?'right':'left',\n                forwarded: false,\n                replyButton: false,\n                reply: null,\n                meeting: null,\n                type: \"text\",\n                theme: 'white',\n                view: 'list',\n                title: state.datosSesion.id===chatSeleccionado.emisor.id?emisor:receptor,\n                titleColor: \"#EB7887\",\n                text: contenido,\n                onLoad: () => {\n                    console.log('Photo loaded');\n                },\n                status: null,\n                date: new Date(),\n                onReplyMessageClick: () => {\n                    console.log('onReplyMessageClick');\n                },\n                avatar: state.datosSesion.id===chatSeleccionado.emisor.id?img_emisor:img_receptor,\n            }])\n            console.log(\"Mensajes\", mensajes)\n            //Se envía un nuevo mensaje al emisor o receptor\n            axios.post(state.servidor+\"/api/mensajes/\",{\n                chat: chatSeleccionado.id,\n                enviado_por: state.datosSesion.id===chatSeleccionado.emisor.id,\n                contenido: contenido,\n            },{\n                headers: {'Authorization': auth},\n            })\n            .then(response => {\n                console.log(response.data)\n            })\n            .catch(error => {\n                alert(\"Un error ha ocurrido al cargar los mensajes.\")\n                console.log(error.response)\n            }) \n\n            /////////////////////////////////////////////////////////////////////////////////\n            //Si se envia un mensaje, entonces aumentamos la cantidad de mensajes no leidos, ya sea del receptor como emisor\n            let obj_noleido = {}\n            console.log(chatSeleccionado)\n            if(state.datosSesion.id===chatSeleccionado.emisor.id){\n                obj_noleido[\"noleido_receptor\"] = chatSeleccionado.noleido_receptor+1\n                let vari = chatSeleccionado\n                vari.noleido_receptor++\n                setchatSeleccionado(vari)\n            }else{\n                obj_noleido[\"noleido_emisor\"]= chatSeleccionado.noleido_emisor+1\n                let vari = chatSeleccionado\n                vari.noleido_receptor++\n                setchatSeleccionado(vari)\n            }\n            axios.put(state.servidor+\"/api/chats/\"+chatSeleccionado.id,obj_noleido,{\n                headers: {'Authorization': auth},\n            }).then(response => {\n                console.log(response.data)\n            })\n        }\n    }\n\n    useEffect(() => {\n        if (chats.length!==0){\n            console.log(chats.sort((a, b) => a.chat.mensajes[a.chat.mensajes.length-1].date.getTime() > b.chat.mensajes[b.chat.mensajes.length-1].date.getTime()))\n        }\n    }, [chats])\n\n    function enviarNotificacion(boole){\n        setconfirmacion(false)\n        if (boole){\n            let auth = 'Bearer '+state.jwt;\n            //Seteamos los ids de emisores y receptores de la notificación\n            let emisor = chatSeleccionado.receptor.id\n            let receptor = chatSeleccionado.emisor.id\n            \n            if (chatSeleccionado.solicitud!==null){\n                //Si el tipo de la solicitud es false, significa que es una solicitud y que el emisor de la notificación es el emisor del chat\n                if (!chatSeleccionado.solicitud.tipo){\n                    emisor = chatSeleccionado.emisor.id\n                    receptor = chatSeleccionado.receptor.id\n                }\n            }\n            axios.post(\n                state.servidor+\"/api/notificaciones/\",{\n                    tipo: 2,\n                    emisor: emisor,\n                    receptor: receptor,\n                    solicitud: chatSeleccionado.solicitud===null?null:chatSeleccionado.solicitud.id,\n                    datos_notificacion: chatSeleccionado.categoria===null?\"\":String(chatSeleccionado.categoria.id+\"_\"+chatSeleccionado.categoria.nombre),\n                    leido: false\n                },\n                {headers: {'Authorization': auth},})\n            .then(response => {\n                console.log(\"Se ha podido crear la notificacion: \",response.data)\n                let auth = 'Bearer '+state.jwt;\n                axios.put(state.servidor+\"/api/chats/\"+chatSeleccionado.id,{\n                    peticion: true\n                },{\n                    headers: {'Authorization': auth},\n                }).then(response => {\n                    console.log(response.data)\n                    setdeshabilitado(true)\n                })\n                setabrir(true)\n            })\n            .catch(error => {\n                console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\n                alert(\"Error, no se ha podido crear la notificacion.\")\n            })\n        }\n    }\n\n    return (\n        <div className='container' >\n            <div className='chat-list' className={atras?classes.EstiloMovil:classes.EstiloPC}>\n                <SideBar\n                    top={\n                        <div>\n                            \n                        </div>\n                    }\n                    center={\n                        <ChatList className='chat-list' onClick={(e)=>{actualizarMensajes(e)}} dataSource={chats.map(chat=>(chat.chat))}/>\n                    }\n                    bottom={\n                        <div>\n                            \n                        </div>\n                    }/>\n            </div>\n            <IconButton\n                className={classes.EstiloMovil}\n                style={{\n                    position: atras?\"relative\":\"absolute\",\n                    left: \"0px\",\n                    top: \"70px\",\n                    zIndex: 100,\n                }}\n                onClick={()=>{setatras(!atras)}}\n            >\n                <Atras/>\n            </IconButton>\n            <div className={atras?classes.EstiloPC:classes.EstiloVacio} className='right-panel'>\n                {\n                    cargando && <Cargando/>\n                }\n                {\n                    !cargando && chats.length===0 && (<Alerta className={classes.inputAncho} style={{marginTop:\"15px\"}} variant=\"outlined\" severity=\"info\">\n                        No tienes ningún chat aún.\n                    </Alerta>)                    \n                }\n                {\n                    chatSeleccionado!==null &&\n                        <ChatItem\n                            avatar={chatSeleccionado.avatar}\n                            alt={'Reactjs'}\n                            title={chatSeleccionado.title}\n                            subtitle={chatSeleccionado.emisor.id===state.datosSesion.id?\n                                `${chatSeleccionado.receptor.nombre} ${chatSeleccionado.receptor.apellido}`:\n                                `${chatSeleccionado.emisor.nombre} ${chatSeleccionado.emisor.apellido}`}\n                            date={null}\n                            unread={0}\n                        />\n                }\n                {\n                    !cargando && chatSeleccionado!==null && !atras &&\n                    (chatSeleccionado.solicitud===null?(chatSeleccionado.receptor.id===state.datosSesion.id):\n                    (chatSeleccionado.solicitud.tipo?chatSeleccionado.receptor.id===state.datosSesion.id:chatSeleccionado.emisor.id===state.datosSesion.id)) &&\n                        <div>\n                            <Boton disabled={deshabilitado} onClick={()=>setconfirmacion(true)} color=\"primary\" className={classes.BotonSolicitar} variant=\"contained\">\n                                Petición de reseña\n                            </Boton>\n                            <Boton disabled={deshabilitado} onClick={()=>setconfirmacion(true)} color=\"primary\" className={classes.BotonSolicitarMovil} variant=\"contained\">\n                                <StarRate/>\n                            </Boton>\n                        </div>\n                }\n                {\n                    confirmacion &&\n                    <AlertaSi_No\n                    mensaje=\"Esta acción solo se debe realizar cuando ya se haya cumplido con el servicio pactado. ¿Está seguro que quiere enviar la petición?\"\n                    funcionAceptar={enviarNotificacion}\n                    titulo=\"Enviar petición de reseña al cliente\"/> \n                }\n                <AlertaMensaje mensaje=\"¡Petición de reseña enviada!\" setabrir={setabrir} abrir={abrir}/>\n                <MessageList\n                    className='message-list'\n                    lockable={true}\n                    downButtonBadge={10}\n                    dataSource={mensajes}\n                />\n                {\n                    chatSeleccionado!==null &&\n                    <Input\n                    placeholder=\"Escribe tu mensaje.\"\n                    defaultValue=\"\"\n                    onChange={(e)=>{setcontenido(e.target.value)}}\n                    //ref='input'\n                    multiline={true}\n                    // buttonsFloat='left'\n                    onKeyPress={(e) => {\n                        if (e.shiftKey && e.charCode === 13) {\n                            return true;\n                        }\n                        if (e.charCode === 13) {\n                            agregarMensaje();\n                            e.preventDefault();\n                            return false;\n                        }\n                    }}\n                    rightButtons={\n                        <Button\n                            color='white'\n                            backgroundColor='black'\n                            text='Enviar'\n                            onClick={()=>{agregarMensaje()}} />\n                    } />\n                }\n            </div>\n        </div>\n    );\n    \n}\n\nexport default Chat;\n","import React, {useContext} from 'react';\r\nimport './App.css';\r\n//Enrutamiento\r\nimport {BrowserRouter as Router, Switch, Route, Link, Redirect } from \"react-router-dom\";\r\n\r\n//Material-UI\r\nimport {CssBaseline, Container} from '@material-ui/core/';\r\n\r\n//Componentes de vistas\r\nimport Nav from './componentes/Nav.js';\r\nimport Footer from './componentes/Footer.js';\r\nimport Categoria from './componentes/Categoria/Categoria.js';\r\nimport Registrar from './componentes/Sesion/Registrar.js';\r\nimport InicioSesion from './componentes/Sesion/InicioSesion.js';\r\nimport Inicio from './componentes/Inicio/Inicio.js';\r\nimport Publicacion from './componentes/Publicacion/Publicacion.js';\r\nimport ModificarPerfilProveedor from './componentes/Proveedor/ModificarPerfilProveedor.js';\r\nimport MiPerfil from './componentes/Proveedor/MiPerfil.js';\r\nimport CrearPublicacion from './componentes/Publicacion/CrearPublicacion.js';\r\nimport GestionarReportes from './componentes/GestionAdministrador/GestionarReportes.js';\r\nimport VerificarIdentidad from './componentes/GestionAdministrador/VerificarIdentidad.js';\r\nimport PestanaReportes from './componentes/GestionAdministrador/PestanaReportes.js';\r\nimport RegistrarSesion from './componentes/Sesion/Registrar.js';\r\nimport MisPublicaciones from './componentes/Publicacion/MisPublicaciones.js';\r\nimport PreguntasFrecuentes from './componentes/Footer/PreguntasFrecuentes.js';\r\nimport SobreNosotros from './componentes/Footer/SobreNosotros.js';\r\nimport AdministrarCategorias from './componentes/GestionAdministrador/AdministrarCategorias.js';\r\nimport VerificarMiIdentidad from './componentes/Proveedor/VerificarMiIdentidad.js';\r\nimport Notificaciones from './componentes/Notificaciones/Notificaciones.js';\r\n\r\nimport Chat from './componentes/Chat/Chat.js';\r\n\r\nimport { ObtenerEstado, ProveerEstadoCategoria } from './Estados/CategoriaEstado'\r\nimport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion } from './Estados/AplicacionEstado'\r\n\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport Tema from './Tema'\r\nimport TemaClaro from './TemaClaro'\r\nimport TemaServia from './TemaServia'\r\n\r\n//\"typography\": {\"fontFamily\": \"['Century Gothic','Roboto','Arial','sans-serif']\"}\r\n\r\nconst theme = createMuiTheme(TemaServia);\r\n\r\nfunction App() { \r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [aux, setaux] = React.useState(false)\r\n  React.useEffect(()=>{\r\n    setaux(true)\r\n  },[])\r\n  return (\r\n    <div className=\"App\" style={{height: \"auto\"}}>\r\n      <ThemeProvider theme={theme}>\r\n        <Router>\r\n        \r\n          <Nav/>\r\n          \r\n          <React.Fragment>\r\n              <CssBaseline/>\r\n                <div style={{minHeight:\"calc(100vh - 130px)\"}} className=\"Fondo\">\r\n                  <Switch>\r\n                    <Route exact path={state.ruta+\"/\"}><Inicio tipo={true}/></Route>\r\n                    \r\n                    <Route path={state.ruta+\"/crear-publicacion\"}>{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<CrearPublicacion modificar={false} tipoPublicacion={true}/>}</Route>\r\n                    <Route path={state.ruta+\"/solicitar-servicio\"}>{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<CrearPublicacion modificar={false} tipoPublicacion={false}/>}</Route>\r\n                    <Route path={state.ruta+\"/modificar-publicacion/:id\"}>{aux && state.datosSesion.tipo<0? <Redirect to=\"/\" />:<CrearPublicacion modificar={true} tipoPublicacion={true}/>}</Route>\r\n                    <Route path={state.ruta+\"/modificar-solicitud-servicio/:id\"}>{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<CrearPublicacion modificar={true} tipoPublicacion={false}/>}</Route>\r\n                    \r\n                    <Route path={state.ruta+\"/publicaciones/:id\"}><Categoria/></Route>\r\n                    \r\n                    <Route path={state.ruta+\"/registrar\"}>{aux && state.datosSesion.tipo!==0? <Redirect to=\"/\" />:<RegistrarSesion registrar={true}/>}</Route>\r\n\r\n                    <Route path={state.ruta+\"/modificar-usuario\"}>{aux && state.datosSesion.tipo===0?<Redirect to=\"/\"/>:<RegistrarSesion registrar={false}/>}</Route>\r\n                    \r\n                    <Route path={state.ruta+\"/publicacion/:id\"}><Publicacion/></Route>\r\n                    <Route path={state.ruta+\"/mis-publicaciones\"}>{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<MisPublicaciones tipoPublicacion={true}/>}</Route>\r\n                    <Route path={state.ruta+\"/mis-servicios-solicitados\"}>{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<MisPublicaciones tipoPublicacion={false}/>}</Route>\r\n                    <Route path={state.ruta+\"/modificar-proveedor\"}>{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<ModificarPerfilProveedor/>}</Route>\r\n                    <Route path={state.ruta+\"/verificar-mi-identidad\"}>{aux && state.datosSesion.tipo<2?<Redirect to=\"/\" />:<VerificarMiIdentidad/>}</Route>\r\n                    \r\n                    <Route path={state.ruta+\"/verificar-identidad\"}>{aux && state.datosSesion.tipo!==3? <Redirect to=\"/\" />:<VerificarIdentidad/>}</Route>\r\n                    <Route path={state.ruta+\"/gestionar-reportes\"}>{aux && state.datosSesion.tipo!==3? <Redirect to=\"/\" />:<PestanaReportes/>}</Route>\r\n\r\n                    <Route path={state.ruta+\"/perfil-proveedor/:id\"}><MiPerfil/></Route>\r\n\r\n                    <Route path={state.ruta+\"/notificaciones\"}>{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<Notificaciones/>}</Route>\r\n                    <Route path={state.ruta+\"/mis-chats\"}>{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<Chat state={state}/>}</Route>\r\n\r\n                    {/*<Route path=\"/administrar-categorias\">\r\n                      <ProveerEstadoCategoria>\r\n                        <AdministrarCategorias/>\r\n                      </ProveerEstadoCategoria>\r\n                    </Route>*/}\r\n                    \r\n                    <Route path={state.ruta+\"/preguntas-frecuentes\"}><PreguntasFrecuentes/></Route>\r\n                    <Route path={state.ruta+\"/sobre-nosotros\"}><SobreNosotros/></Route>\r\n                </Switch>\r\n              </div>\r\n          </React.Fragment>\r\n          <Footer/>\r\n        </Router>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React,{useContext} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion } from './Estados/AplicacionEstado'\r\n\r\nfunction Inicial() { \r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  return (\r\n    <ProveerEstadoAplicacion>\r\n      <App/>\r\n    </ProveerEstadoAplicacion>\r\n  )\r\n}\r\nReactDOM.render(\r\n  /*<React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>*/\r\n  <Inicial/>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}